<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<title>Installing Red Hat Developer Hub</title>
<style>
/* Red Hat Fonts */
@font-face {
  font-family: 'Red Hat Display';
  src: url("https://redhatofficial.github.io/RedHatFont/RedHatDisplay/RedHatDisplayVF.woff2") format('woff2-variations');
  font-weight: 300 900;
  font-style: normal;
  font-display: fallback;
}
@font-face {
  font-family: 'Red Hat Display';
  src: url("https://redhatofficial.github.io/RedHatFont/RedHatDisplay/RedHatDisplayVF-Italic.woff2") format('woff2-variations');
  font-weight: 300 900;
  font-style: italic;
  font-display: fallback;
}
@font-face {
  font-family: 'Red Hat Text';
  src: url("https://redhatofficial.github.io/RedHatFont/RedHatText/RedHatTextVF.woff2") format('woff2-variations');
  font-weight: 300 700;
  font-style: normal;
  font-display: fallback;
}
@font-face {
  font-family: 'Red Hat Text';
  src: url("https://redhatofficial.github.io/RedHatFont/RedHatText/RedHatTextVF-Italic.woff2") format('woff2-variations');
  font-weight: 300 700;
  font-style: italic;
  font-display: fallback;
}
@font-face {
  font-family: 'Red Hat Mono';
  src: url("https://redhatofficial.github.io/RedHatFont/RedHatMono/RedHatMonoVF.woff2") format('woff2-variations');
  font-weight: 300 700;
  font-style: normal;
  font-display: fallback;
}
@font-face {
  font-family: 'Red Hat Mono';
  src: url("https://redhatofficial.github.io/RedHatFont/RedHatMono/RedHatMonoVF-Italic.woff2") format('woff2-variations');
  font-weight: 300 700;
  font-style: italic;
  font-display: fallback;
}

/* Positioning toc and content */
@media screen and (min-width: 768px) {
  body.toc2 {
    padding-left: 400px;
    padding-right: 0;
  }
}
@media screen and (min-width: 768px) {
  #toc.toc2 {
    margin-top: 0 !important;
    position: fixed;
    width: 319px;
    left: 0;
    top: 0;
    border-right: 1px solid #e7e7e9;
    border-top-width: 0 !important;
    border-bottom-width: 0 !important;
    z-index: 1000;
    padding: 1.25em 1em;
    height: 100%;
    overflow: auto;
  }
}

/* Style borrowed from docs.redhat.com and adapted to the HTML structure */

#toc.toc2 {
  background:#f2f2f2;
  justify-content:space-between;
  margin:1rem 0 2rem;
  padding:1rem
}
#toctitle {
  font-size:1.25rem;
  font-weight:400;
  line-height:1.6667;
  margin-top:0;
  text-transform:none
}
#toc li {
  margin-bottom:.25em;
  padding-left:0;
  list-style:none;
}
#toc a,
#toc a:visited {
  color:black;
  display:inline-block;
  text-decoration:none;
}

.sectlevel1 {
  padding-left:0;
}

.sectlevel2,
.sectlevel3,
.sectlevel4,
.sectlevel5 {
  padding-left:1em;
}

h3 {
  color:#464646;
  font-family:var(--rh-font-family-heading,"Red Hat Display",Helvetica,Arial,sans-serif);
  font-size:var(--rh-font-size-body-text-lg,1.125rem)
}

li {
  display:list-item;
  margin:0;
  padding:0;
  text-align:-webkit-match-parent
}

*,
:after,
:before,
:after,
:before {
  box-sizing:border-box
}
img,
object,
svg,
img,
object,
svg {
  display:inline-block;
  max-width:100%;
  vertical-align:middle
}
hr {
  border:0;
  border-top:.0625rem solid #d2d2d2;
  clear:both;
  margin:1rem 0
}
a {
  color:#06c;
  text-decoration:underline
}
a:focus,
a:hover {
  color:#036
}
p {
  margin:1.49963rem 0
}
li>p {
  margin:0
}
h1,
h2,
h3,
h4,
h5,
h6 {
  font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;
  font-weight:400;
  margin:0 0 .625rem;
  color:#464646;
}
h1 {
  font-size:2rem;
  margin:2rem 0
}
h2 {
  font-size:2rem;
  margin:2rem 0
}
h3 {
  font-size:1.65rem;
  font-weight:400
}
h4 {
  font-size:1.5rem
}
h5 {
  font-size:1.25rem
  font-weight:400
}
h6 {
  font-size:1.125rem;
  font-weight:500;
  line-height:1.6667
}
ol ::marker,
ul ::marker {
  font:inherit
}
li {
  margin:0 0 .5em;
  padding:0
}
li>p {
  margin:.5rem 0
}
li>ol,
li>ul {
  margin:0
}
dl dd {
  margin:.5rem 0 .5rem 1rem
}
dl dd>p {
  margin:.5rem 0
}
.informaltable,
.table-contents,
.table-wrapper {
  max-height:var(--rh-table--maxHeight);
  overflow:auto
}
table {
  border:0;
  font-size:1rem;
  line-height:1.6667;
  table-layout:fixed
}
table caption {
  color:#585858;
  margin-bottom:.5rem;
  margin-top:.5rem;
  text-align:left
}
table td,
table th {
  border:0;
  border-bottom:.0625rem solid #d2d2d2;
  border-bottom:.0625rem solid var(--pfe-table--Border,#d2d2d2);
  padding:.5em 1rem
}
table td.halign-left,
table th.halign-left {
  text-align:left
}
table td.halign-center,
table th.halign-center,
table td.halign-center,
table th.halign-center {
  text-align:center
}
table td.halign-right,
table th.halign-right {
  text-align:right
}
table td.valign-top,
table th.valign-top {
  vertical-align:top
}
table td.valign-middle,
table th.valign-middle {
  vertical-align:middle
}
table td.valign-bottom,
table th.valign-bottom {
  vertical-align:bottom
}
table thead td,
table thead th {
  background:#f5f5f5;
  font-weight:600
}
rh-table table,
rh-table.rh-table--expanded-vertically {
  max-height:-moz-max-content;
  max-height:max-content
}
pre.nowrap {
  overflow:auto;
  overflow-wrap:normal;
  white-space:pre;
  word-break:normal
}
.listingblock pre {
  background:transparent
}

[class] pre code {
  background:inherit;
  color:inherit;
  font-family:inherit;
  font-size:inherit;
  font-weight:inherit;
  line-height:inherit;
  padding:0
}
.keycap,
kbd {
  background-color:#eee;
  background-image:linear-gradient(180deg,#ddd,#eee,#fff);
  border-radius:.1875rem;
  box-shadow:0 -.0625rem #fff,0 .0625rem 0 .1875rem #aaa;
  font-family:RedHatMono,Red Hat Mono,Consolas,monospace;
  font-size:90%;
  font-weight:400;
  margin:0 .25rem;
  padding:.125rem .375rem
}
.keycap strong,
.keycap strong {
  font-weight:inherit
}
kbd.keyseq,
kbd.keyseq {
  background:transparent;
  border:0;
  box-shadow:none;
  padding:0
}
kbd.keyseq kbd,
kbd.keyseq kbd {
  display:inline-block;
  margin:0 .375rem
}
kbd.keyseq kbd:first-child,
kbd.keyseq kbd:first-child {
  margin-left:0
}
b.button {
  font-size:90%;
  font-weight:700;
  padding:.1875rem
}
b.button:before {
  content:"["
}
b.button:after {
  content:"]"
}
html {
  font-family:sans-serif;
  -ms-text-size-adjust:100%;
  -webkit-text-size-adjust:100%
}
body {
  margin:0
}
audio,
canvas,
progress,
video {
  display:inline-block;
  vertical-align:baseline
}
audio:not([controls]) {
  display:none;
  height:0
}
[hidden],
template {
  display:none
}
a {
  background:transparent
}
a:active,
a:hover {
  outline:0
}
abbr[title] {
  border-bottom:.0625rem dotted
}
dfn {
  font-style:italic
}

mark {
  background:#ff0;
  color:#000
}
small {
  font-size:80%
}
sub,
sup {
  font-size:75%;
  line-height:0;
  position:relative;
  vertical-align:baseline
}
sup {
  top:-.5em
}
sub {
  bottom:-.25em
}
img {
  border:0
}
svg:not(:root) {
  overflow:hidden
}
figure {
  margin:1em 2.5rem
}
hr {
  box-sizing:content-box;
  height:0
}
code,
kbd,
pre,
samp {
  font-family:monospace,monospace;
  font-size:1em
}
button,
optgroup,
select,
textarea,
.rhdocsinput {
  color:inherit;
  font:inherit;
  margin:0
}
button {
  overflow:visible
}
button,
select {
  text-transform:none
}
button,
html input[type=button],
input[type=reset],
input[type=submit] {
  -moz-appearance:button;
  appearance:button;
  -webkit-appearance:button;
  cursor:pointer
}
button[disabled],
html input[disabled] {
  cursor:default
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  border:0;
  padding:0
}
input {
  line-height:normal
}
input[type=checkbox],
input[type=radio] {
  box-sizing:border-box;
  padding:0
}
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button {
  height:auto
}
input[type=search] {
  -moz-appearance:textfield;
  appearance:textfield;
  -webkit-appearance:textfield;
  box-sizing:content-box
}
input[type=search]::-webkit-search-cancel-button,
input[type=search]::-webkit-search-decoration {
  -webkit-appearance:none
}
fieldset {
  border:.0625rem solid silver;
  margin:0 .125rem;
  padding:.35em .625em .75em
}
legend {
  border:0;
  padding:0
}
textarea {
  overflow:auto
}
optgroup {
  font-weight:700
}
table {
  border-collapse:collapse;
  border-spacing:0
}
td,
th {
  padding:0
}

.admonitionblock>div:nth-child(2),
.caution>div:nth-child(2),
.important>div:nth-child(2),
.note>div:nth-child(2),
.tip>div:nth-child(2),
.warning>div:nth-child(2) {
  margin:.5rem 0
}
.admonitionblock>div:nth-child(2)>:first-child,
.caution>div:nth-child(2)>:first-child,
.important>div:nth-child(2)>:first-child,
.note>div:nth-child(2)>:first-child,
.tip>div:nth-child(2)>:first-child,
.warning>div:nth-child(2)>:first-child {
  margin-top:0
}
.admonitionblock>div:nth-child(2)>:last-child,
.caution>div:nth-child(2)>:last-child,
.important>div:nth-child(2)>:last-child,
.note>div:nth-child(2)>:last-child,
.tip>div:nth-child(2)>:last-child,
.warning>div:nth-child(2)>:last-child {
  margin-bottom:0
}
.listingblock+.listingblock,
pre+pre,
pre[class]+pre[class] {
  margin-top:2rem
}
.listingblock {
  background:#f8f8f8;
  overflow:visible;
  position:relative;
  transform:translate(0);
  z-index:0;
  border: 1px solid grey;
  border-radius:.1rem;
}
.listingblock:before {
  background-repeat:no-repeat;
  background-size:6.25rem 100%;
  bottom:var(--scrollbar__height,1px);
  content:"";
  display:block;
  height:7.125rem;
  max-height:100%;
  max-height:calc(100% - var(--scrollbar__height, 2px));
  position:absolute;
  right:var(--scrollbar__width,6px);
  top:.0625rem;
  width:4.0625rem;
  z-index:1
}

.colist>ol {
  counter-reset:colist;
  list-style:none;
  margin:1rem 0 2rem;
  padding:0
}
.colist>ol>li {
  counter-increment:colist;
  margin:.5rem 0;
  padding-left:1.75rem;
  position:relative;
}
.colist>ol>li:before {
  content:counter(colist);
  left:0;
  position:absolute;
  top:.1875rem
}
.colist>ol>li:before,
.conum {
  background:#06c;
  border-radius:50%;
  color:#fff;
  display:inline-block;
  font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;
  font-style:normal;
  font-weight:600;
  height:1.25rem;
  line-height:1.35rem;
  padding:0;
  text-align:center;
  top:-.125em;
  vertical-align:middle;
  width:1.25rem
}
.colist div.paragraph {
  margin:0
}

rh-table {
  display:block
}
::-webkit-scrollbar,
:host ::-webkit-scrollbar {
  height:.625rem;
  width:.625rem
}
::-webkit-scrollbar,
::-webkit-scrollbar-track,
:host ::-webkit-scrollbar,
:host ::-webkit-scrollbar-track {
  background-color:#d6d6d6
}
::-webkit-scrollbar-thumb,
:host ::-webkit-scrollbar-thumb {
  background-color:#8e8e8e
}
*,
:host * {
  scrollbar-color:#8e8e8e #d6d6d6
}
p:empty,
p:empty {
  display:none
}
.book {
  font-size: var(--rh-font-size-body-text-lg,1.125rem);
  font-weight: var(--rh-font-weight-body-text-regular,400);
  line-height: 1.6667;
  padding-left: 6rem;
  padding-right: 6rem;
  padding-top: var(--rh-space-3xl,4rem);
  max-width: 1400px;
}

.book[class] h1 code,
.book[class] h2 code,
.book[class] h3 code,
.book[class] h4 code,
.book[class] h5 code,
.book[class] h6 code,
[class] h1 code,
[class] h2 code,
[class] h3 code,
[class] h4 code,
[class] h5 code,
[class] h6 code {
  background:transparent;
  border:0;
  color:inherit;
  font:inherit;
  margin:0;
  padding:0
}
details[class] {
  list-style:none;
  margin:1rem 0 3rem;
  padding:0
}

.preamble {
  margin:0 0 2rem
}
.sect1 {
  margin:2rem 0 1rem
}
:host .sect1,
cp-documentation .sect1 {
  margin:0 0 2rem;
  padding:.0625rem 0 0
}
:host(.cp-documentation--has-external-header) .sect1:first-child>h2:first-child,
:host(.cp-documentation--has-external-header) .sect1:first-child>h3:first-child {
  margin-top:0
}
.listingblock,
.literalblock {
  margin:1rem 0
}
.quoteblock,
.verseblock {
  border-left:.25rem solid #d2d2d2;
  margin:1rem 0;
  padding:1rem 1rem 1rem 2rem
}
.quoteblock.pullleft,
.verseblock.pullleft {
  float:left;
  margin-right:3rem;
  width:25rem
}
@media (min-width:768px) {
  .quoteblock.pullleft,
  .verseblock.pullleft {
    margin-left:-1rem
  }
}
.quoteblock.pullright,
.verseblock.pullright {
  float:right;
  margin-left:3rem;
  width:25rem
}
@media (min-width:768) {
  .quoteblock.pullright,
  .verseblock.pullright {
    margin-right:-2rem
  }
}
@media (min-width:1100px) {
  .quoteblock.pullright,
  .verseblock.pullright {
    margin-right:-10rem
  }
}
.quoteblock>:first-child,
.verseblock>:first-child {
  margin-top:0
}
.quoteblock .content,
.verseblock .content {
  font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;
  font-size:1.25rem;
  line-height:1.6667
}
.quoteblock .attribution,
.verseblock .attribution {
  font-size:.875rem;
  font-style:italic;
  font-weight:600;
  line-height:1.6667;
  text-transform:uppercase
}
.quoteblock .attribution .citetitle,
.verseblock .attribution .citetitle {
  color:#585858
}
.quoteblock .attribution cite,
.verseblock .attribution cite {
  font-size:1em
}
.quoteblock blockquote {
  font-style:italic;
  margin:0;
  padding:0
}
.quoteblock blockquote .content>:first-child {
  margin-top:0
}
.quoteblock blockquote .content>:first-child:before {
  color:#e00;
  content:"â€œ";
  display:block;
  float:left;
  font-size:2.75rem;
  font-style:normal;
  line-height:1.125em;
  margin-right:.5rem
}
.quoteblock blockquote .content>:first-child .content>:first-child:before {
  content:none
}
.imageblock {
  margin:1rem 0
}
.imageblock.pullleft {
  float:left;
  margin-right:3rem;
  width:25rem
}
@media (min-width:768px) {
  .imageblock.pullleft {
    margin-left:-1rem
  }
}
.imageblock.pullright {
  float:right;
  margin-left:3rem;
  width:25rem
}
@media (min-width:768) {
  .imageblock.pullright {
    margin-right:-2rem
  }
}
@media (min-width:1100px) {
  .imageblock.pullright {
    margin-right:-10rem
  }
}
.imageblock.interrupter {
  margin:2rem 0
}
@media (min-width:768px) {
  .imageblock.interrupter {
    margin-left:-1rem;
    margin-right:-2rem
  }
  .imageblock.interrupter .caption {
    margin-left:1rem;
    margin-right:2rem
  }
}
@media (min-width:1100px) {
  .imageblock.interrupter {
    margin-right:-10rem
  }
  .imageblock.interrupter .caption {
    margin-right:10rem
  }
}
.imageblock.interrupter img {
  max-width:100%
}
.imageblock .caption {
  color:#585858;
  display:block;
  font-size:.875rem;
  line-height:1.6667;
  margin:.5rem 0 0
}
.rhdocs-footnotes {
  border-top:.0625rem solid #d2d2d2;
  margin:3rem 0 1rem;
  padding:1rem 0 0
}
.rhdocs-footnotes>ol {
  margin:0;
  padding:0 0 0 1.5rem
}
@supports (counter-reset:footnotenum) {
  .rhdocs-footnotes>ol {
    counter-reset:footnotenum;
    list-style:none;
    padding:0
  }
  .rhdocs-footnotes>ol>li {
    counter-increment:footnotenum
  }
  .rhdocs-footnotes>ol>li:before {
    color:#585858;
    content:"[" counter(footnotenum) "]";
    display:inline-block;
    margin-right:.25rem
  }
}
#footer {
  background:#ededed;
  color:#151515;
  font-size:.875rem;
  line-height:1.6667;
  margin:3rem 0 0;
  padding:1rem
}
.center {
  margin-left:auto;
  margin-right:auto
}
.stretch {
  width:100%
}

pre,
pre[class] {
  margin:0;
  padding:1.25em 1em;
  position:relative
}
code[class*=language-],
pre[class*=language-] {
  color:#151515;
  -moz-tab-size:4;
  -o-tab-size:4;
  tab-size:4
}
code.language-none,
code.language-text,
code.language-txt,
pre.language-none,
pre.language-text,
pre.language-txt {
  color:#151515
}
code[class*=language-] ::-moz-selection,
code[class*=language-]::-moz-selection,
pre[class*=language-] ::-moz-selection,
pre[class*=language-]::-moz-selection {
  background:#cceae7;
  color:#263238
}
code[class*=language-] ::selection,
code[class*=language-]::selection,
pre[class*=language-] ::selection,
pre[class*=language-]::selection {
  background:#cceae7;
  color:#263238
}
:not(pre)>code[class*=language-] {
  border-radius:.2em;
  padding:.1em;
  white-space:normal
}
.token.atrule {
  color:#40199a
}
.token.attr-name {
  color:#06c
}
.token.attr-value,
.token.attribute {
  color:#b300b3
}
.token.boolean {
  color:#40199a
}
.token.builtin,
.token.cdata,
.token.char,
.token.class,
.token.class-name {
  color:#06c
}
.token.comment {
  color:#6a6e73
}
.token.constant {
  color:#40199a
}
.token.deleted {
  color:#c9190b
}
.token.doctype {
  color:#6a6e73
}
.token.entity {
  color:#c9190b
}
.token.function {
  color:#40199a
}
.token.hexcode {
  color:#b300b3
}
.token.id,
.token.important {
  color:#40199a;
  font-weight:700
}
.token.inserted {
  color:#06c
}
.token.keyword {
  color:#40199a
}
.token.number {
  color:#b300b3
}
.token.operator {
  color:#06c
}
.token.prolog {
  color:#6a6e73
}
.token.property {
  color:#06c
}
.token.pseudo-class,
.token.pseudo-element {
  color:#b300b3
}
.token.punctuation,
.token.regex {
  color:#06c
}
.token.selector {
  color:#c9190b
}
.token.string {
  color:#b300b3
}
.token.symbol {
  color:#40199a
}
.token.unit {
  color:#b300b3
}
.token.url,
.token.variable {
  color:#c9190b
}

@media print {
  .field code,
  .field pre,
  code[class*=language-],
  pre,
  pre[class*=language-] {
    white-space:pre-wrap!important;
    word-wrap:break-word!important;
    overflow-wrap:break-word!important;
    word-break:break-word!important
  }
}

.book>.titlepage:not(:last-child),
.chapter,
section[id] {
  padding-bottom:3.75rem
}
.book>.titlepage .chapter:last-child,
.book>.titlepage section[id]:last-child,
.chapter .chapter:last-child,
.chapter section[id]:last-child,
section[id] .chapter:last-child,
section[id] section[id]:last-child {
  margin-bottom:-3.75rem
}
.listingblock+section[id],
pre+section[id] {
  padding-top:3.75rem
}
.cta-link {
  font-size:inherit
}
a {
  word-wrap:break-word;
  overflow-wrap:break-word
}
.caution,
.important,
.note,
.tip,
.warning {
  padding:.8888888889em;
  position:relative
}
.caution {
  background-color:#fff4cc;
  border-top:2px solid #dca614
}
.important {
  background-color:#fff4cc;
  border-top:2px solid #dca614
}
.note {
  background-color:#e0f0ff;
  border-top:2px solid #4394e5
}
.tip {
  background-color:#e0f0ff;
  border-top:2px solid #4394e5
}
.warning {
  background-color:#fff4cc;
  border-top:2px solid #dca614
}
.book>.titlepage,
.chapter,
section[id] {
  padding-bottom:var(--rh-space-4xl,64px)
}

.titlepage .svg-img[data*="title_logo.svg"] {
  margin:1.5rem 0;
  width:15rem
}
.paragraph {
  margin:1.49963rem 0
}
.paragraph[class] {
  margin-bottom:1.49963rem
}
dd {
  margin-bottom:2.5rem
}

.example {
  border-left:.3125rem solid #ccc;
  margin-bottom:2rem;
  padding:1rem 0 1rem 1rem
}

.annotator-outer[class][class] {
  display:none;
  flex-direction:column;
  flex-grow:1;
  height:auto;
  margin:0;
  position:static;
  width:auto
}
@media (min-width:1400px) {
  .annotator-outer[class][class] {
    display:flex
  }
}

.producttitle {
  color:#000;
  font-size:1.25rem;
  text-transform:uppercase
}
.title {
  font-size:1rem;
  font-style:normal;
  font-weight:700;
  line-height:1.6667;
  margin:1.25rem 0 0;
  text-transform:none
}
.paragraph>.title[class]+.content>:first-child,
.paragraph>.title[class]+p,
p.title[class]+.content>:first-child,
p.title[class]+p {
  margin-top:0
}
[class] pre .caution,
[class] pre .important,
[class] pre .note,
[class] pre .tip,
[class] pre .warning {
  background:transparent;
  border:0;
  color:inherit;
  font:inherit;
  margin:0;
  padding:0
}
[class] pre .caution:after,
[class] pre .important:after,
[class] pre .note:after,
[class] pre .tip:after,
[class] pre .warning:after {
  content:none
}
[class] code.email {
  background-color:transparent;
  font:inherit;
  padding:0
}
[class] .author {
  margin-bottom:1.5rem
}
[class] .author .author {
  margin-bottom:0
}
table {
  margin:2rem 0
}
[class] table {
  width:auto
}
table .table-contents table {
  max-width:100%;
  overflow:auto
}
rh-table table {
  margin:0;
  max-width:9999em;
  overflow:visible
}
td,
th {
  border-left:0;
  padding:.5em 1rem;
  transition:background .25s ease-out
}
td.content--md[class][class],
th.content--md[class][class] {
  min-width:13em
}
td.content--lg[class][class],
th.content--lg[class][class] {
  min-width:20em
}
thead th {
  padding-top:1.5em
}
caption {
  color:currentColor;
  color:var(--pfe-table__caption--Color,currentColor);
  font-weight:700;
  margin-bottom:.5rem;
  margin-top:.5rem;
  text-align:center
}
.revhistory table td,
.revhistory table th {
  border-color:transparent
}
.revhistory table td {
  padding:.625rem .875rem
}
.revhistory table.simplelist {
  margin:0
}
@media print {
  #masthead {
    display:none!important
  }
}
.rh-table--is-full-screen #to-top {
  display:none
}
body {
  --rh-table--maxHeight: calc(100vh - 6.25rem) ;
  color:#151515;
  background-color:white;
  font-family:var(--rh-font-family-body-text,RedHatText,"Red Hat Text","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);
  font-size:var(--rh-body-copy-lage,1.125rem);
  line-height:1.6667;
  -moz-tab-size:4;
  -o-tab-size:4;
  tab-size:4
}
rh-codeblock::slotted(#content) {
  border-radius:.25rem;
  padding:var (--rh-space-lg,16px)
}
rh-codeblock .screen {
  display:grid;
  grid-template-columns:1fr 4.375rem
}
rh-codeblock[class][class][class][class][class] {
  max-width:99999em
}
pre {
  border:0;
  max-height:-moz-max-content;
  max-height:max-content
}
pre,
pre[class] {
  margin:0;
  padding:1.25em 1em;
  position:relative
}
rh-code-block>div.codeblock__inner-wrapper>pre,
rh-code-block>div.codeblock__inner-wrapper>pre[class] {
  margin:0;
  padding:0;
  position:relative
}
code[class*=language-],
pre[class*=language-] {
  color:#151515;
  -moz-tab-size:4;
  -o-tab-size:4;
  tab-size:4
}
code.literal {
  background:#eee;
  border-radius:.25rem;
  color:#000;
  font-size:.875rem;
  line-height:1.6667;
  overflow-wrap:break-word;
  padding:.125em .5em;
  word-break:break-word
}
code.literal,
kbd,
span.keycap {
  font-family:RedHatMono,Red Hat Mono,Consolas,monospace
}
kbd,
span.keycap {
  background-color:#eee;
  background-image:linear-gradient(180deg,#ddd,#eee,#fff);
  border-radius:.1875rem;
  box-shadow:0 -.0625rem #fff,0 .0625rem 0 .1875rem #aaa;
  font-size:90%;
  font-weight:400;
  margin:0 .25rem;
  padding:.125rem .375rem
}
ol,
ul {
  margin:1rem 0;
  padding:0 0 0 1.5rem
}
._additional-resources[class][class],
._additional-resources[class][class][id]:last-child {
  background:#fff;
  border:.0625rem solid #d2d2d2;
  border-radius:.1875rem;
  margin:2em 0 4em;
  padding:2rem 2rem 1rem
}
._additional-resources[class][class] ul {
  border:0;
  list-style:none;
  margin:0;
  padding:0;
  position:relative
}
._additional-resources[class][class] li {
  border-bottom:.0625rem solid #d2d2d2;
  box-sizing:content-box;
  margin:0;
  padding:1rem 1.5rem 1rem 0;
  -moz-column-break-inside:avoid;
  break-inside:avoid
}
._additional-resources[class][class] li:last-child {
  border:0
}
section.section#additional_resource .additional-resources__heading,
section.section#additional_resource .heading,
section.section#additional_resource h1,
section.section#additional_resource h2,
section.section#additional_resource h3,
section.section#additional_resource h4,
section.section#additional_resource h5,
section.section#additional_resource h6,
section.section#additional_resource p.title {
  display:block;
  font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;
  font-size:1.125rem;
  font-weight:700;
  line-height:1.5rem;
  margin:0 0 .5rem;
  padding:0;
  text-transform:uppercase
}
section.section:first-of-type {
  margin-top:var(--rh-space-4xl,64px)
}
section.section p {
  margin-bottom:var(--rh-space-lg,16px);
  margin-top:0
}


dl {
  display:block;
  margin-block-end:1em;
  margin-block-start:1em;
  margin-inline-end:0;
  margin-inline-start:0
}
.paragraph {
  margin:1.49963rem 0
}
img,
object,
svg {
  display:inline-block;
  max-width:100%;
  vertical-align:middle
}
.titlepage .svg-img[data*="title_logo.svg"] {
  margin:1.5rem 0;
  width:15rem
}
.book[class] .author {
  margin-bottom:1.5rem
}
.book[class] .author .author {
  margin-bottom:0
}
.paragraph>.title[class],
p.title[class] {
  font-size:1rem;
  font-style:normal;
  font-weight:700;
  line-height:1.6667;
  margin:1.25rem 0 0
}
.example {
  border-left:.3125rem solid #ccc;
  margin-bottom:2rem;
  padding:1rem 0 1rem 1rem
}
code {
  background:#eee;
  color:#000;
  font-family:RedHatMono,Red Hat Mono,Consolas,monospace;
  font-size:.875rem;
  line-height:1.6667;
  overflow-wrap:break-word;
  padding:.125em .5em;
  word-break:break-word
}
.paragraph[class] {
  margin-bottom:1.49963rem
}
.book[class] code.email {
  background-color:transparent;
  font:inherit;
  padding:0
}

.producttitle {
  color:#000;
  font-size:1.25rem;
  text-transform:uppercase
}
dl {
  margin:1rem 0
}
dl dt {
  font-weight:600;
  margin:.5rem 0
}
ol ol {
  list-style:lower-roman
}
.codeblock--processed pf-clipboard-copy::part(input),
.codeblock--processed pf-clipboard-copy::part(span) {
  display:none
}
.token.tag {
  color:#c9190b
}

.admonitionblock {
  margin-bottom:var(--rh-space-lg,1rem)
}
.guibutton,
.guimenu,
.guimenuitem {
  font-weight:700
}
.guibutton {
  font-size:90%;
  padding:.1875rem
}
.guibutton:before {
  content:"["
}
.guibutton:after {
  content:"]"
}
.book,
{
  --rh-table--maxHeight: calc(100vh - 6.25rem) ;
  color:#151515;
  font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;
  font-size:1.125rem;
  line-height:1.6667;
  -moz-tab-size:4;
  -o-tab-size:4;
  tab-size:4
}
pre[hidden] {
  display:none
}
.listingblock {
  background:var(--rh-color-surface-lighter,#f2f2f2);
  margin:1rem 0;
  overflow:visible;
  position:relative;
  transform:translate(0);
  z-index:0
}
nopre {
  display:block;
  font-size:.8125rem;
  line-height:1.42857;
  margin:0 0 .625rem;
  word-break:break-all;
  word-wrap:break-word;
  background-color:var(--rh-color-surface-lighter,#f2f2f2);
  border:.0625rem solid #ccc;
  border-radius:.25rem;
  color:#333
}
.book pre,
pre {
  background:var(--rh-color-surface-lighter,#f2f2f2);
  color:#151515;
  font-family:RedHatMono,Red Hat Mono,Consolas,monospace;
  font-size:.875rem;
  line-height:1.6667;
  overflow-wrap:normal;
  white-space:pre;
  word-break:normal
}
pre[class] {
  line-height:1.6667;
  overflow-x:auto
}
*,
:after,
:before {
  box-sizing:border-box
}
:root {
  --rh-space-xs:4px;
  --rh-space-sm:6px;
  --rh-space-md:8px;
  --rh-space-lg:16px;
  --rh-space-xl:24px;
  --rh-space-2xl:32px;
  --rh-space-3xl:48px;
  --rh-space-4xl:64px;
  --rh-space-5xl:80px;
  --rh-space-6xl:96px;
  --rh-space-7xl:128px;
  --rh-font-size-body-text-xs:.75rem;
  --rh-font-size-body-text-sm:.875rem;
  --rh-font-size-body-text-md:1rem;
  --rh-font-size-body-text-lg:1.125rem;
  --rh-font-size-body-text-xl:1.25rem;
  --rh-font-size-body-text-2xl:1.5rem;
  --rh-font-size-heading-xs:1.25rem;
  --rh-font-size-heading-sm:1.5rem;
  --rh-font-size-heading-md:1.75rem;
  --rh-font-size-heading-lg:2.25rem;
  --rh-font-size-heading-xl:2.5rem;
  --rh-font-size-heading-2xl:3rem;
  --pfe-navigation--logo--maxWidth:200px;
  --pfe-navigation__logo--height:40px;
  --pfe-navigation--fade-transition-delay:.5s;
  --pfe-navigation__nav-bar--highlight-color:var(--rh-color-brand-red-on-dark,#e00);
  --pf-global--icon--FontSize--sm:.75rem
}
body,
html {
  font-family:Red Hat Text,sans-serif;
  font-size:var(--rh-font-size-body-text-md,1rem);
  line-height:var(--rh-line-height-body-text,1.5);
}

main {
  line-height:30px
}
section {
  padding-bottom:3rem;
  padding-top:3rem
}
img {
  max-width:100%
}
a {
  color:var(--rh-color-interactive-blue-darker,#06c);
  text-decoration:underline
}
a:hover {
  color:var(--rh-color-interactive-blue-darkest,#004080)
}

@media (min-width:576px) {
  .book {
    max-width:540px
  }
}
@media (min-width:768px) {
  .book {
    max-width:720px
  }
}
@media (min-width:992px) {
  .book {
    max-width:1250px
  }
}
section {
  padding:0
}
.list-unstyled {
  list-style:none;
  padding-left:0
}
.doc-image-link {
  display:inline-block;
  text-decoration:none
}
.admonitionblock{
  margin-bottom:var(--rh-space-lg,1rem)
  font-size:var(--rh-font-size-body-text-md,1rem)
}
.admonitionblock table {
  margin:0;
  border:none;
  width:fit-content
}
.admonitionblock td {
  margin:0;
  border:none;
  display:block
}
.admonitionblock .title {
  margin:0;
  color:#002952;
  font-weight:700
}


</style>
</head>
<body id="title-installation" class="book toc2 toc-left">
<div id="header">
<h1>Installing Red Hat Developer Hub</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#assembly-install-rhdh-ocp">Chapter 1. Installing Red Hat Developer Hub on OpenShift Container Platform</a>
<ul class="sectlevel2">
<li><a href="#proc-install-rhdh-ocp-operator_assembly-install-rhdh-ocp">1.1. Installing Red Hat Developer Hub on OpenShift Container Platform using the Operator</a>
<ul class="sectlevel3">
<li><a href="#proc-install-rhdh-airgapped-environment-ocp-operator_assembly-install-rhdh-ocp">1.1.1. Installing Red Hat Developer Hub using the Operator in an air-gapped environment</a></li>
</ul>
</li>
<li><a href="#proc-install-rhdh-ocp-helm_assembly-install-rhdh-ocp">1.2. Installing Red Hat Developer Hub on OpenShift Container Platform using Helm Chart</a>
<ul class="sectlevel3">
<li><a href="#proc-install-rhdh-airgapped-environment-ocp-helm_assembly-install-rhdh-ocp">1.2.1. Installing Red Hat Developer Hub using the Helm Chart in an air-gapped environment</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#assembly-install-rhdh-eks">Chapter 2. Installing Red Hat Developer Hub on Elastic Kubernetes Service (EKS)</a>
<ul class="sectlevel2">
<li><a href="#proc-rhdh-deploy-eks-operator_assembly-install-rhdh-eks">2.1. Installing the Red Hat Developer Hub Operator on EKS</a>
<ul class="sectlevel3">
<li><a href="#_installing-the-red-hat-developer-hub-operator-with-the-olm-framework">2.1.1. Installing the Red Hat Developer Hub Operator with the OLM framework</a></li>
<li><a href="#_installing-the-red-hat-developer-hub-operator-without-the-olm-framework">2.1.2. Installing the Red Hat Developer Hub Operator without the OLM framework</a></li>
<li><a href="#proc-deploy-rhdh-instance-eks.adoc_assembly-install-rhdh-eks">2.1.3. Deploying the Developer Hub instance in EKS</a></li>
</ul>
</li>
<li><a href="#proc-rhdh-deploy-eks-helm_assembly-install-rhdh-eks">2.2. Installing the Red Hat Developer Hub Helm chart on EKS</a></li>
</ul>
</li>
<li><a href="#assembly-install-rhdh-aks">Chapter 3. Installing Red Hat Developer Hub on Azure Kubernetes Service (AKS)</a>
<ul class="sectlevel2">
<li><a href="#proc-rhdh-deploy-aks-operator_assembly-install-rhdh-aks">3.1. Installing the Red Hat Developer Hub Operator on AKS</a></li>
<li><a href="#proc-rhdh-deploy-aks-helm_assembly-install-rhdh-aks">3.2. Installing Red Hat Developer Hub Helm chart on AKS</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="assembly-install-rhdh-ocp">Chapter 1. Installing Red Hat Developer Hub on OpenShift Container Platform</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can install Red Hat Developer Hub on OpenShift Container Platform by using one of the following installers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>The Red Hat Developer Hub Operator</strong></p>
<div class="ulist">
<ul>
<li>
<p>Ready for immediate use in OpenShift Container Platform after an administrator installs it with OperatorHub</p>
</li>
<li>
<p>Uses Operator Lifecycle Management (OLM) to manage automated subscription updates on OpenShift Container Platform</p>
</li>
<li>
<p>Requires preinstallation of Operator Lifecycle Management (OLM) to manage automated subscription updates on Kubernetes</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>The Red Hat Developer Hub Helm chart</strong></p>
<div class="ulist">
<ul>
<li>
<p>Ready for immediate use in both OpenShift Container Platform and Kubernetes</p>
</li>
<li>
<p>Requires manual installation and management</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Use the installation method that best meets your needs and preferences.</p>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p>For more information about choosing an installation method, see <a href="https://www.redhat.com/en/technologies/cloud-computing/openshift/helm">Helm Charts vs. Operators</a></p>
</li>
<li>
<p>For more information about the Operator method, see <a href="https://docs.openshift.com/container-platform/4.15/operators/understanding/olm-what-operators-are.html">Understanding Operators</a>.</p>
</li>
<li>
<p>For more information about the Helm chart method, see <a href="https://docs.openshift.com/container-platform/4.15/applications/working_with_helm_charts/understanding-helm.html">Understanding Helm</a>.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="proc-install-rhdh-ocp-operator_assembly-install-rhdh-ocp">1.1. Installing Red Hat Developer Hub on OpenShift Container Platform using the Operator</h3>
<div class="paragraph">
<p>As a developer, you can deploy a Red Hat Developer Hub instance on OpenShift Container Platform by using the <strong>Developer Catalog</strong> in the Red Hat OpenShift Container Platform web console. This deployment method uses the Red Hat Developer Hub Operator.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>A cluster administrator has installed the Red Hat Developer Hub Operator. For more information, see <a href="https://access.redhat.com/documentation/en-us/red_hat_developer_hub/1.3/html-single/administration_guide_for_red_hat_developer_hub/index">Installing the Red Hat Developer Hub Operator</a>.</p>
</li>
<li>
<p>You have added a custom configuration file to OpenShift Container Platform. For more information, see <a href="https://access.redhat.com/documentation/en-us/red_hat_developer_hub/1.3/html-single/administration_guide_for_red_hat_developer_hub/index">Adding a custom configuration file to OpenShift Container Platform</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a project in OpenShift Container Platform for your Red Hat Developer Hub instance, or select an existing project.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>For more information about creating a project in OpenShift Container Platform, see <a href="https://docs.openshift.com/container-platform/4.15/applications/projects/working-with-projects.html#creating-a-project-using-the-web-console_projects">Creating a project by using the web console</a> in the Red Hat OpenShift Container Platform documentation.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>From the <strong>Developer</strong> perspective on the OpenShift Container Platform web console, click <strong>+Add</strong>.</p>
</li>
<li>
<p>From the <strong>Developer Catalog</strong> panel, click <strong>Operator Backed</strong>.</p>
</li>
<li>
<p>In the <strong>Filter by keyword</strong> box, enter <em>Developer Hub</em> and click the <strong>Red Hat Developer Hub</strong> card.</p>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
</li>
<li>
<p>Add custom configurations for the Red Hat Developer Hub instance.</p>
</li>
<li>
<p>On the <strong>Create Backstage</strong> page, click <strong>Create</strong></p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>After the pods are ready, you can access the Red Hat Developer Hub platform by opening the URL.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Confirm that the pods are ready by clicking the pod in the <strong>Topology</strong> view and confirming the <strong>Status</strong> in the <strong>Details</strong> panel. The pod status is <strong>Active</strong> when the pod is ready.</p>
</li>
<li>
<p>From the <strong>Topology</strong> view, click the <strong>Open URL</strong> icon on the Developer Hub pod.</p>
<div class="imageblock">
<div class="content">
<img src="images/rhdh/operator-install-1.png" alt="operator install 1">
</div>
</div>
</li>
</ol>
</div>
<div id="additional-resources_proc-install-rhdh-ocp-operator" class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://docs.openshift.com/container-platform/4.15/applications/index.html">OpenShift Container Platform - Building applications overview</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="proc-install-rhdh-airgapped-environment-ocp-operator_assembly-install-rhdh-ocp">1.1.1. Installing Red Hat Developer Hub using the Operator in an air-gapped environment</h4>
<div class="paragraph">
<p>On an OpenShift Container Platform cluster operating on a restricted network, public resources are not available. However, deploying the Red Hat Developer Hub Operator and running Developer Hub requires the following public resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Operator images (bundle, operator, catalog)</p>
</li>
<li>
<p>Operands images (RHDH, PostgreSQL)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To make these resources available, replace them with their equivalent resources in a mirror registry accessible to the OpenShift Container Platform cluster.</p>
</div>
<div class="paragraph">
<p>You can use a helper script that mirrors the necessary images and provides the necessary configuration to ensure those images will be used when installing the Red Hat Developer Hub Operator and creating Developer Hub instances.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This script requires a target mirror registry which you should already have installed if your OpenShift Container Platform cluster is ready to operate on a restricted network. However, if you are preparing your cluster for disconnected usage, you can use the script to deploy a mirror registry in the cluster and use it for the mirroring process.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have an active OpenShift CLI (<code>oc</code>) session with administrative permissions to the OpenShift Container Platform cluster. See <a href="https://docs.openshift.com/container-platform/4.15/cli_reference/openshift_cli/getting-started-cli.html">Getting started with the OpenShift CLI</a>.</p>
</li>
<li>
<p>You have an active <code>oc registry</code> session to the <code>registry.redhat.io</code> Red Hat Ecosystem Catalog. See <a href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry Authentication</a>.</p>
</li>
<li>
<p>The <code>opm</code> CLI tool is installed. See <a href="https://docs.openshift.com/container-platform/4.15/cli_reference/opm/cli-opm-install.html">Installing the opm CLI</a>.</p>
</li>
<li>
<p>The jq package is installed. See <a href="https://jqlang.github.io/jq/download/">Download jq</a>.</p>
</li>
<li>
<p>Podman is installed. See <a href="https://podman.io/docs/installation">Podman Installation Instructions</a>.</p>
</li>
<li>
<p>Skopeo version 1.14 or higher is installed. <a href="https://github.com/containers/skopeo/blob/main/install.md">See Installing Skopeo</a>.</p>
</li>
<li>
<p>If you already have a mirror registry for your cluster, an active Skopeo session with administrative access to this registry is required. See <a href="https://github.com/containers/skopeo#authenticating-to-a-registry">Authenticating to a registry</a> and <a href="https://docs.openshift.com/container-platform/4.15/installing/disconnected_install/installing-mirroring-installation-images.html">Mirroring images for a disconnected installation</a>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The internal OpenShift Container Platform cluster image registry cannot be used as a target mirror registry. See <a href="https://docs.openshift.com/container-platform/4.15/installing/disconnected_install/installing-mirroring-installation-images.html#installation-about-mirror-registry_installing-mirroring-installation-images">About the mirror registry</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>If you prefer to create your own mirror registry, see <a href="https://docs.openshift.com/container-platform/4.15/installing/disconnected_install/installing-mirroring-creating-registry.html">Creating a mirror registry with mirror registry for Red Hat OpenShift</a>.</p>
</li>
<li>
<p>If you do not already have a mirror registry, you can use the helper script to create one for you and you need the following additional prerequisites:</p>
<div class="ulist">
<ul>
<li>
<p>The cURL package is installed. For Red Hat Enterprise Linux, the curl command is available by installing the curl package. To use curl for other platforms, see the <a href="https://curl.se/">cURL website</a>.</p>
</li>
<li>
<p>The <code>htpasswd</code> command is available. For Red Hat Enterprise Linux, the <code>htpasswd</code> command is available by installing the <code>httpd-tools</code> package.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download and run the mirroring script to install a custom Operator catalog and mirror the related images: <code>prepare-restricted-environment.sh</code> (<a href="https://github.com/janus-idp/operator/blob/1.1.x/.rhdh/scripts/prepare-restricted-environment.sh">source</a>).</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">curl -sSLO https://raw.githubusercontent.com/janus-idp/operator/1.1.x/.rhdh/scripts/prepare-restricted-environment.sh

# if you do not already have a target mirror registry
# and want the script to create one for you
# use the following example:
bash prepare-restricted-environment.sh \
   --prod_operator_index "registry.redhat.io/redhat/redhat-operator-index:v4.14" \
   --prod_operator_package_name "rhdh" \
   --prod_operator_bundle_name "rhdh-operator" \
   --prod_operator_version "v1.1.1"

# if you already have a target mirror registry
# use the following example:
bash prepare-restricted-environment.sh \
   --prod_operator_index "registry.redhat.io/redhat/redhat-operator-index:v4.14" \
   --prod_operator_package_name "rhdh" \
   --prod_operator_bundle_name "rhdh-operator" \
   --prod_operator_version "v1.1.1" \
   --use_existing_mirror_registry "my_registry"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The script can take several minutes to complete as it copies multiple images to the mirror registry.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="proc-install-rhdh-ocp-helm_assembly-install-rhdh-ocp">1.2. Installing Red Hat Developer Hub on OpenShift Container Platform using Helm Chart</h3>
<div class="paragraph">
<p>You can use a Helm chart in Red Hat OpenShift Container Platform to install Developer Hub,  which is a flexible installation method.</p>
</div>
<div class="paragraph">
<p>Helm is a package manager on OpenShift Container Platform that provides the following features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Applies regular application updates using custom hooks</p>
</li>
<li>
<p>Manages the installation of complex applications</p>
</li>
<li>
<p>Provides charts that you can host on public and private servers</p>
</li>
<li>
<p>Supports rolling back to previous application versions</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Red Hat Developer Hub Helm chart is available in the Helm catalog on OpenShift Dedicated and OpenShift Container Platform.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You are logged in to your OpenShift Container Platform account.</p>
</li>
<li>
<p>A user with the OpenShift Container Platform <code>admin</code> role has configured the appropriate roles and permissions within your project to create an application. For more information about OpenShift Container Platform roles, see <a href="https://docs.openshift.com/container-platform/4.15/authentication/using-rbac.html">Using RBAC to define and apply permissions</a>.</p>
</li>
<li>
<p>You have created a project in OpenShift Container Platform. For more information about creating a project in OpenShift Container Platform, see <a href="https://docs.openshift.com/container-platform/4.15/applications/projects/working-with-projects.html#odc-creating-projects-using-developer-perspective_projects">Red Hat OpenShift Container Platform documentation</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>From the <strong>Developer</strong> perspective on the Developer Hub web console, click <strong>+Add</strong>.</p>
</li>
<li>
<p>From the <strong>Developer Catalog</strong> panel, click <strong>Helm Chart</strong>.</p>
</li>
<li>
<p>In the <strong>Filter by keyword</strong> box, enter <em>Developer Hub</em> and click the <strong>Red Hat Developer Hub</strong> card.</p>
</li>
<li>
<p>From the Red Hat Developer Hub page, click <strong>Create</strong>.</p>
</li>
<li>
<p>From your cluster, copy the OpenShift Container Platform router host (for example: <code>apps.&lt;clusterName&gt;.com</code>).</p>
</li>
<li>
<p>Select the radio button to configure the Developer Hub instance with either the form view or YAML view. The Form view is selected by default.</p>
<div class="ulist">
<ul>
<li>
<p>Using <strong>Form view</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>To configure the instance with the Form view, go to <strong>Root Schema</strong> &#8594; <strong>global</strong> &#8594; <strong>Enable service authentication within Backstage instance</strong> and paste your OpenShift Container Platform router host into the field on the form.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Using <strong>YAML view</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>To configure the instance with the YAML view, paste your OpenShift Container Platform router hostname in the <code>global.clusterRouterBase</code> parameter value as shown in the following example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">global:
  auth:
    backend:
      enabled: true
  clusterRouterBase: apps.&lt;clusterName&gt;.com
  # other Red Hat Developer Hub Helm Chart configurations</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Edit the other values if needed.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The information about the host is copied and can be accessed by the Developer Hub backend.</p>
</div>
<div class="paragraph">
<p>When an OpenShift Container Platform route is generated automatically, the host value for the route is inferred and the same host information is sent to the Developer Hub. Also, if the Developer Hub is present on a custom domain by setting the host manually using values, the custom host takes precedence.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Click <strong>Create</strong> and wait for the database and Developer Hub to start.</p>
</li>
<li>
<p>Click the <strong>Open URL</strong> icon to start using the Developer Hub platform.</p>
<div class="imageblock">
<div class="content">
<img src="images/rhdh/rhdh-helm-install.png" alt="rhdh helm install">
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Your <code>developer-hub</code> pod might be in a <code>CrashLoopBackOff</code> state if the Developer Hub container cannot access the configuration files. This error is indicated by the following log:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="log">Loaded config from app-config-from-configmap.yaml, env
...
2023-07-24T19:44:46.223Z auth info Configuring "database" as KeyStore provider type=plugin
Backend failed to start up Error: Missing required config value at 'backend.database.client'</code></pre>
</div>
</div>
<div class="paragraph">
<p>To resolve the error, verify the configuration files.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="proc-install-rhdh-airgapped-environment-ocp-helm_assembly-install-rhdh-ocp">1.2.1. Installing Red Hat Developer Hub using the Helm Chart in an air-gapped environment</h4>
<div class="paragraph">
<p>An air-gapped environment, also known as an air-gapped network or isolated network, ensures security by physically segregating the system or network. This isolation is established to prevent unauthorized access, data transfer, or communication between the air-gapped system and external sources.</p>
</div>
<div class="paragraph">
<p>You can install Red Hat Developer Hub in an air-gapped environment to ensure security and meet specific regulatory requirements.</p>
</div>
<div class="paragraph">
<p>To install Developer Hub in an air-gapped environment, you must have access to the <code>registry.redhat.io</code> and the registry for the air-gapped environment.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have installed an Red Hat OpenShift Container Platform 4.12 or later.</p>
</li>
<li>
<p>You have access to the <code>registry.redhat.io</code>.</p>
</li>
<li>
<p>You have access to the Red Hat OpenShift Container Platform image registry of your cluster. For more information about exposing the image registry, see the Red Hat OpenShift Container Platform documentation about <a href="https://docs.openshift.com/container-platform/4.15/registry/securing-exposing-registry.html">Exposing the registry</a>.</p>
</li>
<li>
<p>You have installed the OpenShift CLI (<code>oc</code>) on your workstation.</p>
</li>
<li>
<p>You have installed the <code>podman</code> command line tools on your workstation.</p>
</li>
<li>
<p>You you have an account in <a href="https://developers.redhat.com/">Red Hat Developer</a> portal.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to your OpenShift Container Platform account using the OpenShift CLI (<code>oc</code>), by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">oc login -u &lt;user&gt; -p &lt;password&gt; https://api.&lt;hostname&gt;:6443</code></pre>
</div>
</div>
</li>
<li>
<p>Log in to the OpenShift Container Platform image registry using the <code>podman</code> command line tool, by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">podman login -u kubeadmin -p $(oc whoami -t) default-route-openshift-image-registry.&lt;hostname&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can run the following commands to get the full host name of the OpenShift Container Platform image registry, and then use the host name in a command to log in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">REGISTRY_HOST=$(oc get route default-route -n openshift-image-registry --template='{{ .spec.host }}')</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">podman login -u kubeadmin -p $(oc whoami -t) $REGISTRY_HOST</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Log in to the <code>registry.redhat.io</code> in <code>podman</code> by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">podman login registry.redhat.io</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information about registry authentication, see <a href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry Authentication</a>.</p>
</div>
</li>
<li>
<p>Pull Developer Hub and PostgreSQL images from <a href="https://catalog.redhat.com/software/containers/search">Red Hat Image registry</a> to your workstation, by running the following commands:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">podman pull registry.redhat.io/rhdh/rhdh-hub-rhel9:{product-chart-version}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">podman pull registry.redhat.io/rhel9/postgresql-15:latest</code></pre>
</div>
</div>
</li>
<li>
<p>Push both images to the internal OpenShift Container Platform image registry by running the following commands:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">podman push --remove-signatures registry.redhat.io/rhdh/rhdh-hub-rhel9:{product-chart-version} default-route-openshift-image-registry.&lt;hostname&gt;/&lt;project_name&gt;/rhdh-hub-rhel9:{product-chart-version}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">podman push --remove-signatures registry.redhat.io/rhel9/postgresql-15:latest default-route-openshift-image-registry.&lt;hostname&gt;/&lt;project_name&gt;/postgresql-15:latest</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information about pushing images directly to the OpenShift Container Platform image registry, see <a href="https://access.redhat.com/solutions/6959306">How do I push an Image directly into the OpenShift 4 registry</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>If an x509 error occurs, verify that you have <a href="https://access.redhat.com/solutions/6088891">installed the CA certificate used for OpenShift Container Platform routes on your system</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Use the following command to verify that both images are present in the internal OpenShift Container Platform registry:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">oc get imagestream -n &lt;project_name&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Enable local image lookup for both images by running the following commands:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">oc set image-lookup postgresql-15</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">oc set image-lookup  rhdh-hub-rhel9</code></pre>
</div>
</div>
</li>
<li>
<p>Go to <strong>YAML view</strong> and update the <code>image</code> section for <code>backstage</code> and <code>postgresql</code> using the following values:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="title">Example values for Developer Hub image</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">upstream:
  backstage:
    image:
      registry: ""
      repository: rhdh-hub-rhel9
      tag: latest</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example values for PostgreSQL image</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">upstream:
  postgresql:
    image:
      registry: ""
      repository: postgresql-15
      tag: latest</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Install the Red Hat Developer Hub using Helm chart. For more information about installing Developer Hub, see <a href="#proc-install-rhdh-ocp-helm_assembly-install-rhdh-ocp">Installing Red Hat Developer Hub on OpenShift Container Platform using Helm Chart</a>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assembly-install-rhdh-eks">Chapter 2. Installing Red Hat Developer Hub on Elastic Kubernetes Service (EKS)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can install Red Hat Developer Hub on Amazon Elastic Kubernetes Service (eks-short) using one of the following methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Red Hat Developer Hub Operator</p>
</li>
<li>
<p>The Red Hat Developer Hub Helm chart</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="proc-rhdh-deploy-eks-operator_assembly-install-rhdh-eks">2.1. Installing the Red Hat Developer Hub Operator on EKS</h3>
<div class="paragraph">
<p>You can install the Developer Hub Operator on EKS using the <a href="https://olm.operatorframework.io">Operator Lifecycle Manager (OLM) framework</a>. Following that, you can proceed to deploy your Developer Hub instance in EKS.</p>
</div>
<div class="sect3">
<h4 id="_installing-the-red-hat-developer-hub-operator-with-the-olm-framework">2.1.1. Installing the Red Hat Developer Hub Operator with the OLM framework</h4>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have set the context to the EKS cluster in your current <code>kubeconfig</code>. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/create-kubeconfig.html">Creating or updating a kubeconfig file for an Amazon EKS cluster</a>.</p>
</li>
<li>
<p>You have installed <code>kubectl</code>. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/install-kubectl.html">Installing or updating kubectl</a>.</p>
</li>
<li>
<p>You have subscribed to <code>registry.redhat.io</code>. For more information, see <a href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry Authentication</a>.</p>
</li>
<li>
<p>You have installed the Operator Lifecycle Manager (OLM). For more information about installation and troubleshooting, see <a href="https://operatorhub.io/how-to-install-an-operator#How-do-I-get-Operator-Lifecycle-Manager?">How do I get Operator Lifecycle Manager?</a></p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Run the following command in your terminal to create the <code>rhdh-operator</code> namespace where the Operator is installed:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>kubectl create namespace rhdh-operator</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create a pull secret using the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>kubectl -n rhdh-operator create secret docker-registry rhdh-pull-secret \
    --docker-server=registry.redhat.io \
    --docker-username=&lt;user_name&gt; \ <b class="conum">(1)</b>
    --docker-password=&lt;password&gt; \ <b class="conum">(2)</b>
    --docker-email=&lt;email&gt; <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Enter your username in the command.</p>
</li>
<li>
<p>Enter your password in the command.</p>
</li>
<li>
<p>Enter your email address in the command.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The created pull secret is used to pull the Developer Hub images from the Red Hat Ecosystem.</p>
</div>
</div>
</div>
</li>
<li>
<p>Create a <code>CatalogSource</code> resource that contains the Operators from the Red Hat Ecosystem:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>cat &lt;&lt;EOF | kubectl -n rhdh-operator apply -f -
apiVersion: operators.coreos.com/v1alpha1
kind: CatalogSource
metadata:
  name: redhat-catalog
spec:
  sourceType: grpc
  image: registry.redhat.io/redhat/redhat-operator-index:v4.15
  secrets:
  - "rhdh-pull-secret"
  displayName: Red Hat Operators
EOF</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create an <code>OperatorGroup</code> resource as follows:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>cat &lt;&lt;EOF | kubectl apply -n rhdh-operator -f -
apiVersion: operators.coreos.com/v1
kind: OperatorGroup
metadata:
  name: rhdh-operator-group
EOF</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create a <code>Subscription</code> resource using the following code:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>cat &lt;&lt;EOF | kubectl apply -n rhdh-operator -f -
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: rhdh
  namespace: rhdh-operator
spec:
  channel: fast
  installPlanApproval: Automatic
  name: rhdh
  source: redhat-catalog
  sourceNamespace: rhdh-operator
  startingCSV: rhdh-operator.v1.3.0
EOF</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Run the following command to verify that the created Operator is running:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>kubectl -n rhdh-operator get pods -w</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the operator pod shows <code>ImagePullBackOff</code> status, then you might need permissions to pull the image directly within the Operator deployment&#8217;s manifest.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can include the required secret name in the <code>deployment.spec.template.spec.imagePullSecrets</code> list and verify the deployment name using <code>kubectl get deployment -n rhdh-operator</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>kubectl -n rhdh-operator patch deployment \
    rhdh.fast --patch '{"spec":{"template":{"spec":{"imagePullSecrets":[{"name":"rhdh-pull-secret"}]}}}}' \
    --type=merge</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p>Update the default configuration of the operator to ensure that Developer Hub resources can start correctly in EKS using the following steps:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Edit the <code>backstage-default-config</code> ConfigMap in the <code>rhdh-operator</code> namespace using the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>kubectl -n rhdh-operator edit configmap backstage-default-config</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Locate the <code>db-statefulset.yaml</code> string and add the <code>fsGroup</code> to its <code>spec.template.spec.securityContext</code>, as shown in the following example:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>  db-statefulset.yaml: |
    apiVersion: apps/v1
    kind: StatefulSet
--- TRUNCATED ---
    spec:
    --- TRUNCATED ---
      restartPolicy: Always
      securityContext:
      # You can assign any random value as fsGroup
        fsGroup: 2000
      serviceAccount: default
      serviceAccountName: default
--- TRUNCATED ---</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Locate the <code>deployment.yaml</code> string and add the <code>fsGroup</code> to its specification, as shown in the following example:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>  deployment.yaml: |
    apiVersion: apps/v1
    kind: Deployment
--- TRUNCATED ---
    spec:
      securityContext:
        # You can assign any random value as fsGroup
        fsGroup: 3000
      automountServiceAccountToken: false
--- TRUNCATED ---</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Locate the <code>service.yaml</code> string and change the <code>type</code> to <code>NodePort</code> as follows:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>  service.yaml: |
    apiVersion: v1
    kind: Service
    spec:
     # NodePort is required for the ALB to route to the Service
      type: NodePort
--- TRUNCATED ---</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Save and exit.</p>
<div class="paragraph">
<p>Wait for a few minutes until the changes are automatically applied to the operator pods.</p>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_installing-the-red-hat-developer-hub-operator-without-the-olm-framework">2.1.2. Installing the Red Hat Developer Hub Operator without the OLM framework</h4>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have installed the following commands:</p>
<div class="ulist">
<ul>
<li>
<p><code>git</code></p>
</li>
<li>
<p><code>make</code></p>
</li>
<li>
<p><code>sed</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Clone the Operator repository to your local machine using the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>git clone --depth=1 https://github.com/janus-idp/operator.git rhdh-operator &amp;&amp; cd rhdh-operator</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Run the following command and generate the deployment manifest:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>make deployment-manifest</code></pre>
</div>
</div>
<div class="paragraph">
<p>The previous command generates a file named <code>rhdh-operator-&lt;VERSION&gt;.yaml</code>, which is updated manually.</p>
</div>
</div>
</div>
</li>
<li>
<p>Run the following command to apply replacements in the generated deployment manifest:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>sed -i "s/backstage-operator/rhdh-operator/g" rhdh-operator-*.yaml
sed -i "s/backstage-system/rhdh-operator/g" rhdh-operator-*.yaml
sed -i "s/backstage-controller-manager/rhdh-controller-manager/g" rhdh-operator-*.yaml</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Open the generated deployment manifest file in an editor and perform the following steps:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Locate the <code>db-statefulset.yaml</code> string and add the <code>fsGroup</code> to its <code>spec.template.spec.securityContext</code>, as shown in the following example:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>   db-statefulset.yaml: |
    apiVersion: apps/v1
    kind: StatefulSet
--- TRUNCATED ---
    spec:
    --- TRUNCATED ---
      restartPolicy: Always
      securityContext:
        # You can assign any random value as fsGroup
        fsGroup: 2000
      serviceAccount: default
      serviceAccountName: default
--- TRUNCATED ---</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Locate the <code>deployment.yaml</code> string and add the <code>fsGroup</code> to its specification, as shown in the following example:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>  deployment.yaml: |
    apiVersion: apps/v1
    kind: Deployment
--- TRUNCATED ---
    spec:
      securityContext:
        # You can assign any random value as fsGroup
        fsGroup: 3000
      automountServiceAccountToken: false
--- TRUNCATED ---</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Locate the <code>service.yaml</code> string and change the <code>type</code> to <code>NodePort</code> as follows:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>  service.yaml: |
    apiVersion: v1
    kind: Service
    spec:
      # NodePort is required for the ALB to route to the Service
      type: NodePort
--- TRUNCATED ---</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Replace the default images with the images that are pulled from the Red Hat Ecosystem:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>sed -i "s#gcr.io/kubebuilder/kube-rbac-proxy:.*#registry.redhat.io/openshift4/ose-kube-rbac-proxy:v4.15#g" rhdh-operator-*.yaml

sed -i "s#quay.io/janus-idp/operator:.*#registry.redhat.io/rhdh/rhdh-rhel9-operator:1.1#g" rhdh-operator-*.yaml

sed -i "s#quay.io/janus-idp/backstage-showcase:.*#registry.redhat.io/rhdh/rhdh-hub-rhel9:1.1#g" rhdh-operator-*.yaml

sed -i "s#quay.io/fedora/postgresql-15:.*#registry.redhat.io/rhel9/postgresql-15:latest#g" rhdh-operator-*.yaml</code></pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Add the image pull secret to the manifest in the Deployment resource as follows:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">--- TRUNCATED ---

apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app.kubernetes.io/component: manager
    app.kubernetes.io/created-by: rhdh-operator
    app.kubernetes.io/instance: controller-manager
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: deployment
    app.kubernetes.io/part-of: rhdh-operator
    control-plane: controller-manager
  name: rhdh-controller-manager
  namespace: rhdh-operator
spec:
  replicas: 1
  selector:
    matchLabels:
      control-plane: controller-manager
  template:
    metadata:
      annotations:
        kubectl.kubernetes.io/default-container: manager
      labels:
        control-plane: controller-manager
    spec:
      imagePullSecrets:
        - name: rhdh-pull-secret
--- TRUNCATED ---</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Apply the manifest to deploy the operator using the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>kubectl apply -f rhdh-operator-VERSION.yaml</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Run the following command to verify that the Operator is running:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>kubectl -n rhdh-operator get pods -w</code></pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="proc-deploy-rhdh-instance-eks.adoc_assembly-install-rhdh-eks">2.1.3. Deploying the Developer Hub instance in EKS</h4>
<div class="paragraph">
<p>After the Red Hat Developer Hub Operator is installed and running, you can create a Developer Hub instance in EKS.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have an EKS cluster with AWS Application Load Balancer (ALB) add-on installed. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/alb-ingress.html">Application load balancing on Amazon Elastic Kubernetes Service</a> and <a href="https://docs.aws.amazon.com/eks/latest/userguide/aws-load-balancer-controller.html">Installing the AWS Load Balancer Controller add-on</a>.</p>
</li>
<li>
<p>You have configured a domain name for your Developer Hub instance. The domain name can be a hosted zone entry on Route 53 or managed outside of AWS. For more information, see <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/dns-configuring.html">Configuring Amazon Route 53 as your DNS service</a> documentation.</p>
</li>
<li>
<p>You have an entry in the AWS Certificate Manager (ACM) for your preferred domain name. Make sure to keep a record of your Certificate ARN.</p>
</li>
<li>
<p>You have subscribed to <code>registry.redhat.io</code>. For more information, see <a href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry Authentication</a>.</p>
</li>
<li>
<p>You have set the context to the EKS cluster in your current <code>kubeconfig</code>. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/create-kubeconfig.html">Creating or updating a kubeconfig file for an Amazon {eks} cluster</a>.</p>
</li>
<li>
<p>You have installed <code>kubectl</code>. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/install-kubectl.html">Installing or updating kubectl</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a ConfigMap named <code>app-config-rhdh</code> containing the Developer Hub configuration using the following template:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config-rhdh
data:
  "app-config-rhdh.yaml": |
    app:
      title: Red Hat Developer Hub
      baseUrl: https://&lt;rhdh_dns_name&gt;
    backend:
      auth:
        keys:
          - secret: "${BACKEND_SECRET}"
      baseUrl: https://&lt;rhdh_dns_name&gt;
      cors:
        origin: https://&lt;rhdh_dns_name&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create a Secret named <code>secrets-rhdh</code> and add a key named <code>BACKEND_SECRET</code> with a <code>Base64-encoded</code> string as value:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">apiVersion: v1
kind: Secret
metadata:
  name: secrets-rhdh
stringData:
  # TODO: See https://backstage.io/docs/auth/service-to-service-auth/#setup
  BACKEND_SECRET: "xxx"</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Ensure that you use a unique value of <code>BACKEND_SECRET</code> for each Developer Hub instance.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can use the following command to generate a key:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>node-p'require("crypto").randomBytes(24).toString("base64")'</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>To enable pulling the PostgreSQL image from the Red Hat Ecosystem Catalog, add the image pull secret in the default service account within the namespace where the Developer Hub instance is being deployed:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>kubectl patch serviceaccount default \
    -p '{"imagePullSecrets": [{"name": "rhdh-pull-secret"}]}' \
    -n &lt;your_namespace&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create a Custom Resource file using the following template:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">apiVersion: rhdh.redhat.com/v1alpha1
kind: Backstage
metadata:
 # TODO: this the name of your Developer Hub instance
  name: my-rhdh
spec:
  application:
    imagePullSecrets:
    - "rhdh-pull-secret"
    route:
      enabled: false
    appConfig:
      configMaps:
        - name: "app-config-rhdh"
    extraEnvs:
      secrets:
        - name: "secrets-rhdh"</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create an Ingress resource using the following template, ensuring to customize the names as needed:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  # TODO: this the name of your Developer Hub Ingress
  name: my-rhdh
  annotations:
    alb.ingress.kubernetes.io/scheme: internet-facing

    alb.ingress.kubernetes.io/target-type: ip

    # TODO: Using an ALB HTTPS Listener requires a certificate for your own domain. Fill in the ARN of your certificate, e.g.:
    alb.ingress.kubernetes.io/certificate-arn: arn:aws:acm:us-xxx:xxxx:certificate/xxxxxx

     alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}, {"HTTPS":443}]'

    alb.ingress.kubernetes.io/ssl-redirect: '443'

    # TODO: Set your application domain name.
    external-dns.alpha.kubernetes.io/hostname: &lt;rhdh_dns_name&gt;

spec:
  ingressClassName: alb
  rules:
    # TODO: Set your application domain name.
    - host: &lt;rhdh_dns_name&gt;
      http:
        paths:
        - path: /
          pathType: Prefix
          backend:
            service:
              # TODO: my-rhdh is the name of your Backstage Custom Resource.
              # Adjust if you changed it!
              name: backstage-my-rhdh
              port:
                name: http-backend</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the previous template, replace ` &lt;rhdh_dns_name&gt;` with your Developer Hub domain name and update the value of <code>alb.ingress.kubernetes.io/certificate-arn</code> with your certificate ARN.</p>
</div>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>Wait until the DNS name is responsive, indicating that your Developer Hub instance is ready for use.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="proc-rhdh-deploy-eks-helm_assembly-install-rhdh-eks">2.2. Installing the Red Hat Developer Hub Helm chart on EKS</h3>
<div class="paragraph">
<p>When you install the Developer Hub Helm chart in Elastic Kubernetes Service (EKS), it orchestrates the deployment of an Developer Hub instance, which provides a robust developer platform within the AWS ecosystem.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have an EKS cluster with AWS Application Load Balancer (ALB) add-on installed. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/alb-ingress.html">Application load balancing on Amazon Developer Hub</a> and <a href="https://docs.aws.amazon.com/eks/latest/userguide/aws-load-balancer-controller.html">Installing the AWS Load Balancer Controller add-on</a>.</p>
</li>
<li>
<p>You have configured a domain name for your Developer Hub instance. The domain name can be a hosted zone entry on Route 53 or managed outside of AWS. For more information, see <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/dns-configuring.html">Configuring Amazon Route 53 as your DNS service</a> documentation.</p>
</li>
<li>
<p>You have an entry in the AWS Certificate Manager (ACM) for your preferred domain name. Make sure to keep a record of your Certificate ARN.</p>
</li>
<li>
<p>You have subscribed to <code>registry.redhat.io</code>. For more information, see <a href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry Authentication</a>.</p>
</li>
<li>
<p>You have set the context to the EKS cluster in your current <code>kubeconfig</code>. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/create-kubeconfig.html">Creating or updating a kubeconfig file for an Amazon EKS cluster</a>.</p>
</li>
<li>
<p>You have installed <code>kubectl</code>. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/install-kubectl.html">Installing or updating kubectl</a>.</p>
</li>
<li>
<p>You have installed Helm 3 or the latest. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/helm.html">Using Helm with Amazon EKS</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Go to your terminal and run the following command to add the Helm chart repository containing the Developer Hub chart to your local Helm registry:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>helm repo add openshift-helm-charts https://charts.openshift.io/</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create a pull secret using the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>kubectl create secret docker-registry rhdh-pull-secret \
    --docker-server=registry.redhat.io \
    --docker-username=&lt;user_name&gt; \ <b class="conum">(1)</b>
    --docker-password=&lt;password&gt; \ <b class="conum">(2)</b>
    --docker-email=&lt;email&gt; <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Enter your username in the command.</p>
</li>
<li>
<p>Enter your password in the command.</p>
</li>
<li>
<p>Enter your email address in the command.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The created pull secret is used to pull the Developer Hub images from the Red Hat Ecosystem.</p>
</div>
</div>
</div>
</li>
<li>
<p>Create a file named <code>values.yaml</code> using the following template:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">global:
  # TODO: Set your application domain name.
  host: &lt;your Developer Hub domain name&gt;


route:
  enabled: false


upstream:
  service:
    # NodePort is required for the ALB to route to the Service
    type: NodePort


  ingress:
    enabled: true
    annotations:
      kubernetes.io/ingress.class: alb


      alb.ingress.kubernetes.io/scheme: internet-facing


      # TODO: Using an ALB HTTPS Listener requires a certificate for your own domain. Fill in the ARN of your certificate, e.g.:
      alb.ingress.kubernetes.io/certificate-arn: arn:aws:acm:xxx:xxxx:certificate/xxxxxx


      alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}, {"HTTPS":443}]'


      alb.ingress.kubernetes.io/ssl-redirect: '443'


      # TODO: Set your application domain name.
      external-dns.alpha.kubernetes.io/hostname: &lt;your rhdh domain name&gt;


  backstage:
    image:
      pullSecrets:
      - rhdh-pull-secret
    podSecurityContext:
      # you can assign any random value as fsGroup
      fsGroup: 2000
  postgresql:
    image:
      pullSecrets:
      - rhdh-pull-secret
    primary:
      podSecurityContext:
        enabled: true
        # you can assign any random value as fsGroup
        fsGroup: 3000
  volumePermissions:
    enabled: true</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Run the following command in your terminal to deploy Developer Hub using the latest version of Helm Chart and using the values.yaml file created in the previous step:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>helm install rhdh \
  openshift-helm-charts/redhat-developer-hub \
  [--version 1.3.0] \
  --values /path/to/values.yaml</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
For the latest chart version, see <a href="https://github.com/openshift-helm-charts/charts/tree/main/charts/redhat/redhat/redhat-developer-hub" class="bare">https://github.com/openshift-helm-charts/charts/tree/main/charts/redhat/redhat/redhat-developer-hub</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>Wait until the DNS name is responsive, indicating that your Developer Hub instance is ready for use.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assembly-install-rhdh-aks">Chapter 3. Installing Red Hat Developer Hub on Azure Kubernetes Service (AKS)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can install Red Hat Developer Hub on Microsoft Azure Kubernetes Service aks-short) using one of the following methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Red Hat Developer Hub Operator</p>
</li>
<li>
<p>The Red Hat Developer Hub Helm chart</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="proc-rhdh-deploy-aks-operator_assembly-install-rhdh-aks">3.1. Installing the Red Hat Developer Hub Operator on AKS</h3>
<div class="paragraph">
<p>You can deploy your Developer Hub on AKS using the Red Hat Developer Hub Operator.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Obtain the Red Hat Developer Hub Operator manifest file, named <code>rhdh-operator-&lt;VERSION&gt;.yaml</code>, and modify the default configuration of <code>db-statefulset.yaml</code> and <code>deployment.yaml</code> by adding the following fragment:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">securityContext:
  fsGroup: 300</code></pre>
</div>
</div>
<div class="paragraph">
<p>Following is the specified locations in the manifests:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>db-statefulset.yaml: | spec.template.spec
deployment.yaml: | spec.template.spec</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Apply the modified Operator manifest to your Kubernetes cluster:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">kubectl apply -f rhdh-operator-&lt;VERSION&gt;.yaml</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Execution of the previous command is cluster-scoped and requires appropriate cluster privileges.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p>Create an <code>ImagePull Secret</code> named <code>rhdh-pull-secret</code> using your Red Hat credentials to access images from the protected <code>registry.redhat.io</code> as shown in the following example:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">kubectl -n &lt;your_namespace&gt; create secret docker-registry rhdh-pull-secret \
    --docker-server=registry.redhat.io \
    --docker-username=&lt;redhat_user_name&gt; \
    --docker-password=&lt;redhat_password&gt; \
    --docker-email=&lt;email&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create an Ingress manifest file, named <code>rhdh-ingress.yaml</code>, specifying your Developer Hub service name as follows:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: rhdh-ingress
  namespace: &lt;your_namespace&gt;
spec:
  ingressClassName: webapprouting.kubernetes.azure.com
  rules:
    - http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: backstage-&lt;your-CR-name&gt;
                port:
                  name: http-backend</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>To deploy the created Ingress, run the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>kubectl -n &lt;your_namespace&gt; apply -f rhdh-ingress.yaml</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create a ConfigMap named <code>app-config-rhdh</code> containing the Developer Hub configuration using the following example:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config-rhdh
data:
  "app-config-rhdh.yaml": |
    app:
      title: Red Hat Developer Hub
      baseUrl: https://&lt;app_address&gt;
    backend:
      auth:
        keys:
          - secret: "${BACKEND_SECRET}"
      baseUrl: https://&lt;app_address&gt;
      cors:
        origin: https://&lt;app_address&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create a Secret named <code>secrets-rhdh</code> and add a key named <code>BACKEND_SECRET</code> with a <code>Base64-encoded</code> string value as shown in the following example:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">apiVersion: v1
kind: Secret
metadata:
  name: secrets-rhdh
stringData:
  BACKEND_SECRET: "xxx"</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create a Custom Resource (CR) manifest file named <code>rhdh.yaml</code> and include the previously created <code>rhdh-pull-secret</code> as follows:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">apiVersion: rhdh.redhat.com/v1alpha1
kind: Backstage
metadata:
  name: &lt;your-rhdh-cr&gt;
spec:
  application:
    imagePullSecrets:
      - rhdh-pull-secret
    appConfig:
      configMaps:
        - name: "app-config-rhdh"
    extraEnvs:
      secrets:
        - name: "secrets-rhdh"</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Apply the CR manifest to your namespace:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>kubectl -n &lt;your_namespace&gt; apply -f rhdh.yaml</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Access the deployed Developer Hub using the URL: <code><a href="https://&lt;app_address&gt" class="bare">https://&lt;app_address&gt</a>;</code>, where &lt;app_address&gt; is the Ingress address obtained earlier (for example, <code><a href="https://108.141.70.228" class="bare">https://108.141.70.228</a></code>).</p>
</li>
<li>
<p>Optional: To delete the CR, run the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>kubectl -n &lt;your_namespace&gt; delete -f rhdh.yaml</code></pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="proc-rhdh-deploy-aks-helm_assembly-install-rhdh-aks">3.2. Installing Red Hat Developer Hub Helm chart on AKS</h3>
<div class="paragraph">
<p>You can deploy your Developer Hub application on Azure Kubernetes Service (AKS) to access a comprehensive solution for building, testing, and deploying applications.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have an Azure account with active subscription.</p>
</li>
<li>
<p>You have installed the <a href="https://learn.microsoft.com/en-us/cli/azure/install-azure-cli">Azure CLI</a>.</p>
</li>
<li>
<p>You have installed the <a href="https://kubernetes.io/docs/reference/kubectl/"><code>kubectl</code> CLI</a>.</p>
</li>
<li>
<p>You are logged into your cluster using <code>kubectl</code>, and have <code>developer</code> or <code>admin</code> permissions.</p>
</li>
<li>
<p>You have installed Helm 3 or the latest.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Comparison of AKS specifics with the base Developer Hub deployment</div>
<ul>
<li>
<p><strong>Permissions issue</strong>: Developer Hub containers might encounter permission-related errors, such as <code>Permission denied</code> when attempting certain operations. This error can be addresssed by adjusting the <code>fsGroup</code> in the <code>PodSpec.securityContext</code>.</p>
</li>
<li>
<p><strong>Ingress configuration</strong>: In AKS, configuring ingress is essential for accessing the installed Developer Hub instance. Accessing the Developer Hub instance requires enabling the Routing add-on, an NGINX-based Ingress Controller, using the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>az aks approuting enable --resource-group &lt;your_ResourceGroup&gt; --name &lt;your_ClusterName&gt;</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>You might need to install the Azure CLI extension <code>aks-preview</code>. If the extension is not installed automatically, you might need to install it manually using the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>az extension add --upgrade -n aks-preview --allow-preview true</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>After you install the Ingress Controller, the <code>app-routing-system</code> namespace with the Ingress Controller will be deployed in your cluster. Note the address of your Developer Hub application from the installed Ingress Controller (for example, 108.141.70.228) for later access to the Developer Hub application, later referenced as <code>&lt;app_address&gt;</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">kubectl get svc nginx --namespace app-routing-system -o jsonpath='{.status.loadBalancer.ingress[0].ip}'</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p><strong>Namespace management</strong>: You can create a dedicated namespace for Developer Hub deployment in AKS using the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">kubectl create namespace &lt;your_namespace&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to AKS by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">az login [--tenant=&lt;optional_directory_name&gt;]</code></pre>
</div>
</div>
</li>
<li>
<p>Create a resource group by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">az group create --name &lt;resource_group_name&gt; --location &lt;location&gt;</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can list available regions by running the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">az account list-locations -o table</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create an AKS cluster by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">az aks create \
--resource-group &lt;resource_group_name&gt; \
--name &lt;cluster_name&gt; \
--enable-managed-identity \
--generate-ssh-keys</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can refer to <code>--help</code> for additional options.</p>
</div>
</li>
<li>
<p>Connect to your cluster by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>az aks get-credentials --resource-group &lt;resource_group_name&gt; --name &lt;cluster_name&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The previous command configures the Kubernetes client and sets the current context in the <code>kubeconfig</code> to point to your AKS cluster.</p>
</div>
</li>
<li>
<p>Open terminal and run the following command to add the Helm chart repository:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">helm repo add openshift-helm-charts https://charts.openshift.io/</code></pre>
</div>
</div>
</li>
<li>
<p>Create and activate the <em>&lt;rhdh&gt;</em> namespace:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">DEPLOYMENT_NAME=&lt;redhat-developer-hub&gt;
NAMESPACE=&lt;rhdh&gt;
kubectl create namespace ${NAMESPACE}
kubectl config set-context --current --namespace=${NAMESPACE}</code></pre>
</div>
</div>
</li>
<li>
<p>Create a pull secret, which is used to pull the Developer Hub images from the Red Hat Ecosystem, by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">kubectl -n $NAMESPACE create secret docker-registry rhdh-pull-secret \
    --docker-server=registry.redhat.io \
    --docker-username=&lt;redhat_user_name&gt; \
    --docker-password=&lt;redhat_password&gt; \
    --docker-email=&lt;email&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Create a file named <code>values.yaml</code> using the following template:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">global:
  host: &lt;app_address&gt;
route:
  enabled: false
upstream:
  ingress:
    enabled: true
    className: webapprouting.kubernetes.azure.com
    host:
  backstage:
    image:
      pullSecrets:
        - rhdh-pull-secret
    podSecurityContext:
      fsGroup: 3000
  postgresql:
    image:
      pullSecrets:
        - rhdh-pull-secret
    primary:
      podSecurityContext:
        enabled: true
        fsGroup: 3000
  volumePermissions:
    enabled: true</code></pre>
</div>
</div>
</li>
<li>
<p>To install Developer Hub by using the Helm chart, run the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">helm -n $NAMESPACE install -f values.yaml $DEPLOYMENT_NAME openshift-helm-charts/redhat-developer-hub --version 1.3.0</code></pre>
</div>
</div>
</li>
<li>
<p>Verify the deployment status:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">kubectl get deploy $DEPLOYMENT_NAME -n $NAMESPACE</code></pre>
</div>
</div>
</li>
<li>
<p>Configure your Developer Hub Helm chart instance with the Developer Hub database password and router base URL values from your cluster:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">PASSWORD=$(kubectl get secret redhat-developer-hub-postgresql -o jsonpath="{.data.password}" | base64 -d)
CLUSTER_ROUTER_BASE=$(kubectl get route console -n openshift-console -o=jsonpath='{.spec.host}' | sed 's/^[^.]*\.//')
helm upgrade $DEPLOYMENT_NAME -i "https://github.com/openshift-helm-charts/charts/releases/download/redhat-redhat-developer-hub-1.3.0/redhat-developer-hub-1.3.0.tgz" \
    --set global.clusterRouterBase="$CLUSTER_ROUTER_BASE" \
    --set global.postgresql.auth.password="$PASSWORD"</code></pre>
</div>
</div>
</li>
<li>
<p>Display the running Developer Hub instance URL, by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">echo "https://$DEPLOYMENT_NAME-$NAMESPACE.$CLUSTER_ROUTER_BASE"</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Open the running Developer Hub instance URL in your browser to use Developer Hub.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Upgrade</div>
<ul>
<li>
<p>To upgrade the deployment, run the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">helm upgrade $DEPLOYMENT_NAME -i https://github.com/openshift-helm-charts/charts/releases/download/redhat-redhat-developer-hub-1.3.0/redhat-developer-hub-1.3.0.tgz</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Delete</div>
<ul>
<li>
<p>To delete the deployment, run the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">helm -n $NAMESPACE delete $DEPLOYMENT_NAME</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-07-15 21:29:49 UTC
</div>
</div>
</body>
</html>
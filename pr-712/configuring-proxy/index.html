<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="chrometwo"><head><title>Running behind a proxy</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css"/><meta name="generator" content="publican v4.3.2"/><meta name="description" content="In a network restricted environment, configure Red Hat Developer Hub to use your proxy to access remote network resources."/><link rel="next" href="#idm46196954345760" title="Preface"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><script type="text/javascript" src="Common_Content/scripts/jquery-1.7.1.min.js"> </script><script type="text/javascript" src="Common_Content/scripts/utils.js"> </script><script type="text/javascript" src="Common_Content/scripts/highlight.js/highlight.pack.js"> </script></head><body><div id="chrometwo"><div id="main"><div xml:lang="en-US" class="book" id="idm46196960446720"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Developer Hub</span> <span class="productnumber">1.4</span></div><div><h1 class="title">Running behind a proxy</h1></div><div><h2 class="subtitle">Running Red Hat Developer Hub behind a proxy</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat Customer Content Services</span></div></div><div><a href="#idm46196941961024">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				In a network restricted environment, configure Red Hat Developer Hub to use your proxy to access remote network resources.
			</div></div></div></div><hr/></div><div class="toc"><ul class="toc"><li><span class="preface"><a href="#idm46196954345760">Preface</a></span></li><li><span class="chapter"><a href="#proc-configuring-proxy-in-operator-deployment_running-behind-a-proxy">1. Configuring proxy information in Operator deployment</a></span></li><li><span class="chapter"><a href="#proc-configuring-proxy-in-helm-deployment_running-behind-a-proxy">2. Configuring proxy information in Helm deployment</a></span></li></ul></div><section class="preface" id="idm46196954345760"><div class="titlepage"><div><div><h1 class="title">Preface</h1></div></div></div><p>
			In a network restricted environment, configure Red Hat Developer Hub to use your proxy to access remote network resources.
		</p><p>
			You can run the RHDH application behind a corporate proxy by setting any of the following environment variables before starting the application:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					<code class="literal">HTTP_PROXY</code>: Denotes the proxy to use for HTTP requests.
				</li><li class="listitem">
					<code class="literal">HTTPS_PROXY</code>: Denotes the proxy to use for HTTPS requests.
				</li></ul></div><p>
			Additionally, you can set the <code class="literal">NO_PROXY</code> environment variable to exclude certain domains from proxying. The variable value is a comma-separated list of hostnames that do not require a proxy to get reached, even if one is specified.
		</p></section><section class="chapter" id="proc-configuring-proxy-in-operator-deployment_running-behind-a-proxy"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Configuring proxy information in Operator deployment</h1></div></div></div><p>
			For Operator-based deployment, the approach you use for proxy configuration is based on your role:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					As a cluster administrator with access to the Operator namespace, you can configure the proxy variables in the Operator’s default ConfigMap file. This configuration applies the proxy settings to all the users of the Operator.
				</li><li class="listitem">
					As a developer, you can configure the proxy variables in a custom resource (CR) file. This configuration applies the proxy settings to the RHDH application created from that CR.
				</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					You have installed the Red Hat Developer Hub application.
				</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
					Perform one of the following steps based on your role:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							As an administrator, set the proxy information in the Operator’s default ConfigMap file:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Search for a ConfigMap file named <code class="literal">backstage-default-config</code> in the default namespace <code class="literal">rhdh-operator</code> and open it.
								</li><li class="listitem">
									Find the <code class="literal">deployment.yaml</code> key.
								</li><li class="listitem"><p class="simpara">
									Set the value of the <code class="literal">HTTP_PROXY</code>, <code class="literal">HTTPS_PROXY</code>, and <code class="literal">NO_PROXY</code> environment variables in the <code class="literal">Deployment</code> spec as shown in the following example:
								</p><div class="formalpara"><p class="title"><strong>Example: Setting proxy variables in a ConfigMap file</strong></p><p>
										
<pre class="programlisting language-yaml"># Other fields omitted
  deployment.yaml: |-
    apiVersion: apps/v1
    kind: Deployment
    spec:
      template:
        spec:
          # Other fields omitted
          initContainers:
            - name: install-dynamic-plugins
              # command omitted
              env:
                - name: NPM_CONFIG_USERCONFIG
                  value: /opt/app-root/src/.npmrc.dynamic-plugins
                - name: HTTP_PROXY
                  value: 'http://10.10.10.105:3128'
                - name: HTTPS_PROXY
                  value: 'http://10.10.10.106:3128'
                - name: NO_PROXY
                  value: 'localhost,example.org'
              # Other fields omitted
          containers:
            - name: backstage-backend
              # Other fields omitted
              env:
                - name: APP_CONFIG_backend_listen_port
                  value: "7007"
                - name: HTTP_PROXY
                  value: 'http://10.10.10.105:3128'
                - name: HTTPS_PROXY
                  value: 'http://10.10.10.106:3128'
                - name: NO_PROXY
                  value: 'localhost,example.org'</pre>
									</p></div></li></ol></div></li><li class="listitem"><p class="simpara">
							As a developer, set the proxy information in your custom resource (CR) file as shown in the following example:
						</p><div class="formalpara"><p class="title"><strong>Example: Setting proxy variables in a CR file</strong></p><p>
								
<pre class="programlisting language-yaml">spec:
  # Other fields omitted
  application:
    extraEnvs:
      envs:
        - name: HTTP_PROXY
          value: 'http://10.10.10.105:3128'
        - name: HTTPS_PROXY
          value: 'http://10.10.10.106:3128'
        - name: NO_PROXY
          value: 'localhost,example.org'</pre>
							</p></div></li></ul></div></li><li class="listitem">
					Save the configuration changes.
				</li></ol></div></section><section class="chapter" id="proc-configuring-proxy-in-helm-deployment_running-behind-a-proxy"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Configuring proxy information in Helm deployment</h1></div></div></div><p>
			For Helm-based deployment, either a developer or a cluster administrator with permissions to create resources in the cluster can configure the proxy variables in a <code class="literal">values.yaml</code> Helm configuration file.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					You have installed the Red Hat Developer Hub application.
				</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
					Set the proxy information in your Helm configuration file:
				</p><pre class="programlisting language-yaml">upstream:
  backstage:
    extraEnvVars:
      - name: HTTP_PROXY
        value: '&lt;http_proxy_url&gt;'
      - name: HTTPS_PROXY
        value: '&lt;https_proxy_url&gt;'
      - name: NO_PROXY
        value: '&lt;no_proxy_settings&gt;'</pre><p class="simpara">
					Where,
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">&lt;http_proxy_url&gt;</code></span></dt><dd>
								Denotes a variable that you must replace with the HTTP proxy URL.
							</dd><dt><span class="term"><code class="literal">&lt;https_proxy_url&gt;</code></span></dt><dd>
								Denotes a variable that you must replace with the HTTPS proxy URL.
							</dd><dt><span class="term"><code class="literal">&lt;no_proxy_settings&gt;</code></span></dt><dd><p class="simpara">
								Denotes a variable that you must replace with comma-separated URLs, which you want to exclude from proxying, for example, <code class="literal">foo.com,baz.com</code>.
							</p><div class="formalpara"><p class="title"><strong>Example: Setting proxy variables using Helm Chart</strong></p><p>
									
<pre class="programlisting language-yaml">upstream:
  backstage:
    extraEnvVars:
      - name: HTTP_PROXY
        value: 'http://10.10.10.105:3128'
      - name: HTTPS_PROXY
        value: 'http://10.10.10.106:3128'
      - name: NO_PROXY
        value: 'localhost,example.org'</pre>
								</p></div></dd></dl></div></li><li class="listitem">
					Save the configuration changes.
				</li></ol></div></section><div><div xml:lang="en-US" class="legalnotice" id="idm46196941961024"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"/>© 2024 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></div></div><script type="text/javascript">
                        jQuery(document).ready(function() {
                            initSwitchery();
                            jQuery('pre[class*="language-"]').each(function(i, block){hljs.highlightBlock(block);});
                        });
                    </script></body></html>
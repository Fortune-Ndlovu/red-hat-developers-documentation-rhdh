<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<title>Administration guide for Red Hat Developer Hub</title>
<style>
/* Red Hat Fonts */
@font-face {
  font-family: 'RedHatDisplay';
  src: url("https://redhatofficial.github.io/RedHatFont/RedHatDisplay/RedHatDisplayVF.woff2") format('woff2-variations');
  font-weight: 300 900;
  font-style: normal;
  font-display: fallback;
}

@font-face {
  font-family: 'RedHatDisplay';
  src: url("https://redhatofficial.github.io/RedHatFont/RedHatDisplay/RedHatDisplayVF-Italic.woff2") format('woff2-variations');
  font-weight: 300 900;
  font-style: italic;
  font-display: fallback;
}

@font-face {
  font-family: 'RedHatText';
  src: url("https://redhatofficial.github.io/RedHatFont/RedHatText/RedHatTextVF.woff2") format('woff2-variations');
  font-weight: 300 700;
  font-style: normal;
  font-display: fallback;
}

@font-face {
  font-family: 'RedHatText';
  src: url("https://redhatofficial.github.io/RedHatFont/RedHatText/RedHatTextVF-Italic.woff2") format('woff2-variations');
  font-weight: 300 700;
  font-style: italic;
  font-display: fallback;
}

@font-face {
  font-family: 'RedHatMono';
  src: url("https://redhatofficial.github.io/RedHatFont/RedHatMono/RedHatMonoVF.woff2") format('woff2-variations');
  font-weight: 300 700;
  font-style: normal;
  font-display: fallback;
}

@font-face {
  font-family: 'RedHatMono';
  src: url("https://redhatofficial.github.io/RedHatFont/RedHatMono/RedHatMonoVF-Italic.woff2") format('woff2-variations');
  font-weight: 300 700;
  font-style: italic;
  font-display: fallback;
}

/* Style borrowed from access.redhat.com */

.field-list {
  margin: 0;
  padding: 0;
  list-style: none;
}
.j-topic-dropdown .field-list,
.j-topic-grid .field-list {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  padding: 0 2.125rem;
  margin: 0 -2.125rem;
}
@media (min-width: 700px) {
  .j-topic-dropdown .field-list,
  .j-topic-grid .field-list {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 0 1.5rem;
  }
}
@media (min-width: 1000px) {
  .j-topic-dropdown .field-list,
  .j-topic-grid .field-list {
    grid-template-columns: repeat(12, minmax(0, 1fr));
  }
}
.j-topic-dropdown .field-list,
.j-topic-grid .field-list {
  row-gap: 1.5rem;
}
.j-topic-dropdown .field-list li,
.j-topic-grid .field-list li {
  display: flex;
  flex-direction: column;
  justify-content: stretch;
}
.j-topic-grid .field-list > li {
  grid-column: span 6;
}
.j-topic-dropdown .field-list {
  padding-top: 2rem;
  padding-bottom: 2rem;
}
.j-topic-dropdown .field-list > li {
  grid-column: span 6;
}
@media (min-width: 1000px) {
  .j-topic-dropdown .field-list > li {
    grid-column: span 4;
  }
}
@media (min-width: 1200px) {
  .j-topic-dropdown .field-list > li {
    grid-column: span 4;
  }
}
@media (min-width: 1000px) {
  .j-topic-dropdown .field-list.field-list--less-than-3 li {
    grid-column: span 6;
  }
}
.j-card-grid .field-list {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}
@media (min-width: 700px) {
  .j-card-grid .field-list {
    flex-direction: row;
    flex-wrap: wrap;
  }
}
@media (min-width: 700px) {
  .j-card-grid .field-list > li {
    flex-basis: calc(50% - 0.75rem);
    width: calc(50% - 0.75rem);
  }
}
@media (min-width: 1000px) {
  .j-card-grid .field-list > li {
    flex-basis: calc(33% - 0.9375rem);
    width: calc(33% - 0.9375rem);
  }
}
@media (min-width: 1200px) {
  .j-card-grid .field-list > li {
    flex-basis: calc(25% - 1.125rem);
    width: calc(25% - 1.125rem);
  }
}
body {
  min-height: 100%;
}
.dialog-off-canvas-main-canvas,
.j-chrome-content-container,
.main-content,
.portal-content-area,
#content,
.pvof-doc__content-wrapper__inner,
.pvof-doc__content-wrapper__outer,
.top-page-wrap[class] {
  flex-grow: 1;
}
.dialog-off-canvas-main-canvas,
.j-chrome-content-container,
.main-content,
.page-wrap,
.portal-content-area,
#content,
.pvof-doc__content-wrapper__outer,
.top-page-wrap,
body {
  display: flex;
  flex-direction: column;
}
.top-page-wrap[class] {
  min-height: 0;
}
.sr-only {
  position: absolute;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  width: 0.0625rem;
  height: 0.0625rem;
  padding: 0;
  border: 0;
  white-space: nowrap;
  -webkit-clip-path: inset(50%);
  clip-path: inset(50%);
}
.sr-only-focusable:active,
.sr-only-focusable:focus {
  position: static;
  overflow: visible;
  clip: auto;
  width: auto;
  height: auto;
  white-space: normal;
  -webkit-clip-path: none;
  clip-path: none;
}
#consent_blackbar[id][id] {
  z-index: 20;
}
.j-superdoc__product-title[class],
.u-j-secondary-section-heading {
  font-size: 1.25rem;
  line-height: 1.323;
  font-family: var(
    --jupiter__font__family--title,
    'Red Hat Display',
    RedHatDisplay,
    Inter,
    -apple-system,
    'Segoe UI',
    Roboto,
    Oxygen-Sans,
    Ubuntu,
    Cantarell,
    'Helvetica Neue',
    sans-serif
  );
  font-weight: 500;
  text-transform: uppercase;
}
.cp-subnav[class] {
  position: fixed;
  right: 0;
  bottom: 0;
  left: 0;
  margin: 0;
  padding: 0;
  background: #eee;
}
.nav-faux-tabs[class] {
  margin: 0;
}
#toolbar-administration {
  position: absolute;
  top: 0;
  width: 100%;
  height: 4.9375rem;
}
body.toolbar-icon-9.toolbar-tray-open.toolbar-horizontal {
  padding-top: 4.9375rem;
}
body.toolbar-fixed .toolbar-bar[class][class][class] {
  position: absolute;
  width: 100%;
}
.toolbar-horizontal .toolbar-tray[class] {
  position: absolute;
}
#admin-toolbar-search-tab {
  display: none;
}
body.toolbar-fixed.toolbar-vertical .toolbar-bar[class][class][class] {
  position: fixed;
}
@keyframes fade-in {
  0% {
    visibility: hidden;
    opacity: 0;
  }
  1% {
    visibility: visible;
  }
  to {
    visibility: visible;
    opacity: 1;
  }
}
#content,
.rhdocs, #content {
  --rh-table--maxHeight: calc(100vh - 6.25rem);
  font-size: 1.125rem;
  line-height: 1.6667;
  font-family: RedHatText, Red Hat Text, Helvetica Neue, Arial, sans-serif;
  color: #252525;
  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;
}
@media (min-height: 48em) {
  #content,
  .rhdocs, #content {
    --rh-table--maxHeight: calc(100vh - 12.5rem);
  }
}
#content *,
#content :after,
#content :before,
.rhdocs *,
.rhdocs :after,
.rhdocs :before {
  box-sizing: border-box;
}
#content img,
#content object,
#content svg,
.rhdocs img,
.rhdocs object,
.rhdocs svg, #content {
  display: inline-block;
  max-width: 100%;
  vertical-align: middle;
}
#content hr,
.rhdocs hr {
  clear: both;
  height: 0;
  margin: 1rem 0;
  border: 0;
  border-top: 0.0625rem solid #d2d2d2;
}
#content a,
#toc a {
  color: #06c;
  text-decoration: none;
}
#content a:focus,
#content a:hover,
.rhdocs a:focus,
.rhdocs a:hover {
  color: #036;
  text-decoration: underline;
}
#content p,
.rhdocs p {
  margin: 1.49963rem 0;
}
#content li > p,
.rhdocs li > p {
  margin: 0;
}
#content h1,
#content h2,
#content h3,
#content h4,
#content h5,
#content h6,
.rhdocs h1,
.rhdocs h2,
.rhdocs h3,
.rhdocs h4,
.rhdocs h5,
.rhdocs h6 {
  margin: 0 0 0.625rem;
  line-height: 1.3333;
  font-family: RedHatDisplay, Red Hat Display, Helvetica Neue, Arial, sans-serif;
  font-weight: 500;
}
#content h1,
.rhdocs h1 {
  margin: 2rem 0;
  font-size: 2.25rem;
}
#content h2,
.rhdocs h2 {
  margin: 2rem 0;
  font-size: 1.625rem;
}
#content h3,
.rhdocs h3 {
  font-size: 1.5rem;
  font-weight: 400;
}
#content h4,
.rhdocs h4 {
  font-size: 1.25rem;
}
#content h5,
.rhdocs h5 {
  font-size: 1.25rem;
  font-weight: 400;
}
#content h6,
.rhdocs h6 {
  font-size: 1.125rem;
  line-height: 1.6667;
  font-weight: 500;
}
#content .heading,
.rhdocs .heading {
  margin: 1rem 0 0;
  font-size: 1rem;
  line-height: 1.6667;
  font-weight: 700;
  font-style: normal;
  text-transform: none;
}
#content .heading + .content > :first-child,
#content .heading + p,
.rhdocs .heading + .content > :first-child,
.rhdocs .heading + p {
  margin-top: 0;
}
#content ol,
#content ul,
.rhdocs ol,
.rhdocs ul {
  margin: 1rem 0;
  padding: 0 0 0 1.5rem;
}
#content ol ::marker,
#content ul ::marker,
.rhdocs ol ::marker,
.rhdocs ul ::marker {
  font: inherit;
}
#content li,
.rhdocs li {
  margin: 0 0 0.5em;
  padding: 0;
}
#content li > p,
.rhdocs li > p {
  margin: 0.5rem 0;
}
#content li > ol,
#content li > ul,
.rhdocs li > ol,
.rhdocs li > ul {
  margin: 0;
}
#content dl,
.rhdocs dl {
  margin: 1rem 0;
}
#content dl dt,
.rhdocs dl dt {
  margin: 0.5rem 0;
  font-weight: 600;
}
#content dl dd,
.rhdocs dl dd {
  margin: 0.5rem 0 0.5rem 1rem;
}
#content dl dd > p,
.rhdocs dl dd > p {
  margin: 0.5rem 0;
}
#content .informaltable,
#content .table-contents,
#content .table-wrapper,
.rhdocs .informaltable,
.rhdocs .table-contents,
.rhdocs .table-wrapper {
  overflow: auto;
  max-height: var(--rh-table--maxHeight);
}
#content table,
.rhdocs table {
  margin: 2rem 0;
  table-layout: fixed;
  border: 0;
  font-size: 1rem;
  line-height: 1.6667;
}
#content table caption,
.rhdocs table caption {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  color: #585858;
  text-align: left;
}
#content table td,
#content table th,
.rhdocs table td,
.rhdocs table th {
  padding: 0.5em 1rem;
  border: 0;
  border-bottom: 0.0625rem solid #d2d2d2;
  border-bottom: 0.0625rem solid var(--pfe-table--Border, #d2d2d2);
}
#content table td.halign-left,
#content table th.halign-left,
.rhdocs table td.halign-left,
.rhdocs table th.halign-left {
  text-align: left;
}
#content table td.halign-center,
#content table th.halign-center,
.rhdocs table td.halign-center,
.rhdocs table th.halign-center {
  text-align: center;
}
#content table td.halign-right,
#content table th.halign-right,
.rhdocs table td.halign-right,
.rhdocs table th.halign-right {
  text-align: right;
}
#content table td.valign-top,
#content table th.valign-top,
.rhdocs table td.valign-top,
.rhdocs table th.valign-top {
  vertical-align: top;
}
#content table td.valign-middle,
#content table th.valign-middle,
.rhdocs table td.valign-middle,
.rhdocs table th.valign-middle {
  vertical-align: middle;
}
#content table td.valign-bottom,
#content table th.valign-bottom,
.rhdocs table td.valign-bottom,
.rhdocs table th.valign-bottom {
  vertical-align: bottom;
}
#content table thead td,
#content table thead th,
.rhdocs table thead td,
.rhdocs table thead th {
  font-weight: 600;
  background: #f5f5f5;
}
#content rh-table.rh-table--expanded-vertically,
#content rh-table table,
.rhdocs rh-table.rh-table--expanded-vertically,
.rhdocs rh-table table {
  max-height: -moz-max-content;
  max-height: max-content;
}
#content pre,
.rhdocs pre {
  font-size: 0.875rem;
  line-height: 1.6667;
  font-family: RedHatMono, Red Hat Mono, Consolas, monospace;
  color: #151515;
  white-space: pre;
  word-break: normal;
  background: #f5f5f5;
  overflow-wrap: normal;
}
#content pre[class],
.rhdocs pre[class] {
  line-height: 1.6667;
}
#content pre.nowrap,
.rhdocs pre.nowrap {
  overflow: auto;
  white-space: pre;
  word-break: normal;
  overflow-wrap: normal;
}
#content .codeblock__wrapper pre,
.rhdocs .codeblock__wrapper pre {
  background: transparent;
}
#content code,
.rhdocs code {
  padding: 0.125em 0.5em;
  font-size: 0.875rem;
  line-height: 1.6667;
  font-family: RedHatMono, Red Hat Mono, Consolas, monospace;
  color: #000;
  word-break: break-word;
  background: #eee;
  overflow-wrap: break-word;
}
#content .content--md code,
#content .content--sm code,
#content .rh-table--full-screen code,
.rhdocs .content--md code,
.rhdocs .content--sm code,
.rhdocs .rh-table--full-screen code {
  word-break: normal;
  overflow-wrap: normal;
}
#content[class] pre code,
.rhdocs[class] pre code {
  padding: 0;
  font-size: inherit;
  line-height: inherit;
  font-family: inherit;
  color: inherit;
  font-weight: inherit;
  background: inherit;
}
#content .keycap,
#content kbd,
.rhdocs .keycap,
.rhdocs kbd {
  margin: 0 0.25rem;
  padding: 0.125rem 0.375rem;
  border-radius: 0.1875rem;
  font-size: 90%;
  font-family: RedHatMono, Red Hat Mono, Consolas, monospace;
  font-weight: 400;
  background-color: #eee;
  background-image: linear-gradient(180deg, #ddd, #eee, #fff);
  box-shadow: 0 -0.0625rem 0 0 #fff, 0 0.0625rem 0 0.1875rem #aaa;
}
#content .keycap strong,
.rhdocs .keycap strong {
  font-weight: inherit;
}
#content kbd.keyseq,
.rhdocs kbd.keyseq {
  padding: 0;
  border: 0;
  background: transparent;
  box-shadow: none;
}
#content kbd.keyseq kbd,
.rhdocs kbd.keyseq kbd {
  display: inline-block;
  margin: 0 0.375rem;
}
#content kbd.keyseq kbd:first-child,
.rhdocs kbd.keyseq kbd:first-child {
  margin-left: 0;
}
#content b.button,
.rhdocs b.button {
  padding: 0.1875rem;
  font-size: 90%;
  font-weight: 700;
}
#content b.button:before,
.rhdocs b.button:before {
  content: '[';
}
#content b.button:after,
.rhdocs b.button:after {
  content: ']';
}
#content summary::-webkit-details-marker,
.rhdocs summary::-webkit-details-marker {
  display: none;
}
#content summary,
.rhdocs summary {
  position: relative;
  padding: 1em 2em 0.75em 2.1875rem;
  color: #06c;
  cursor: pointer;
}
#content summary:before,
.rhdocs summary:before {
  content: '';
  position: absolute;
  top: 50%;
  left: 0;
  display: block;
  width: 0.6875rem;
  height: 0.6875rem;
  border: 0.25rem solid #151515;
  border-bottom: 0;
  border-left: 0;
  transition: transform 0.25s;
  transform: translateX(0.25rem) translateY(0.125em) rotate(45deg);
  transform-origin: right top;
}
#content summary:focus,
.rhdocs summary:focus {
  outline-color: #73bcf7;
}
#content details[open] > summary:before,
.rhdocs details[open] > summary:before {
  transform: translateY(0.4375rem) translateY(0.125em) rotate(135deg);
}
html {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
}
body {
  margin: 1em;
}
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
  display: block;
}
audio,
canvas,
progress,
video {
  display: inline-block;
  vertical-align: baseline;
}
audio:not([controls]) {
  display: none;
  height: 0;
}
[hidden],
template {
  display: none;
}
a {
  background: transparent;
}
a:active,
a:hover {
  outline: 0;
}
abbr[title] {
  border-bottom: 0.0625rem dotted;
}
b,
strong {
  font-weight: 700;
}
dfn {
  font-style: italic;
}
h1 {
  font-size: 2em;
  margin: 0.67em 0;
}
mark {
  background: #ff0;
  color: #000;
}
small {
  font-size: 80%;
}
sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
sup {
  top: -0.5em;
}
sub {
  bottom: -0.25em;
}
img {
  border: 0;
}
svg:not(:root) {
  overflow: hidden;
}
figure {
  margin: 1em 2.5rem;
}
hr {
  box-sizing: content-box;
  height: 0;
}
pre {
  overflow: auto;
}
code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em;
}
button,
input,
optgroup,
select,
textarea {
  color: inherit;
  font: inherit;
  margin: 0;
}
button {
  overflow: visible;
}
button,
select {
  text-transform: none;
}
button,
html input[type='button'],
input[type='reset'],
input[type='submit'] {
  -webkit-appearance: button;
  cursor: pointer;
}
button[disabled],
html input[disabled] {
  cursor: default;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}
input {
  line-height: normal;
}
input[type='checkbox'],
input[type='radio'] {
  box-sizing: border-box;
  padding: 0;
}
input[type='number']::-webkit-inner-spin-button,
input[type='number']::-webkit-outer-spin-button {
  height: auto;
}
input[type='search'] {
  -webkit-appearance: textfield;
  box-sizing: content-box;
}
input[type='search']::-webkit-search-cancel-button,
input[type='search']::-webkit-search-decoration {
  -webkit-appearance: none;
}
fieldset {
  border: 0.0625rem solid silver;
  margin: 0 0.125rem;
  padding: 0.35em 0.625em 0.75em;
}
legend {
  border: 0;
  padding: 0;
}
textarea {
  overflow: auto;
}
optgroup {
  font-weight: 700;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}
td,
th {
  padding: 0;
}
._additional-resources[class][class],
._additional-resources[class][class][id]:last-child {
  margin: 2em 0 4em;
  padding: 2rem 2rem 1rem;
  border: 0.0625rem solid #d2d2d2;
  border-radius: 0.1875rem;
  background: #fff;
}
._additional-resources[class][class][id]:last-child {
  margin-top: -2rem;
}
._additional-resources[class][class]:only-child {
  grid-column: 1/-1;
}
._additional-resources[class][class] .additional-resources__heading,
._additional-resources[class][class] .heading,
._additional-resources[class][class] h1,
._additional-resources[class][class] h2,
._additional-resources[class][class] h3,
._additional-resources[class][class] h4,
._additional-resources[class][class] h5,
._additional-resources[class][class] h6,
._additional-resources[class][class] p.title {
  display: block;
  margin: 0 0 0.5rem;
  padding: 0;
  font-size: 1.125rem;
  line-height: 1.5rem;
  font-family: RedHatDisplay, Red Hat Display, Helvetica Neue, Arial, sans-serif;
  font-weight: 700;
  text-transform: uppercase;
}
._additional-resources[class][class] ul {
  position: relative;
  margin: 0;
  padding: 0;
  list-style: none;
  border: 0;
}
.related-topic-content__wrapper ._additional-resources[class][class] ul {
  display: block;
}
._additional-resources[class][class] ul:after {
  content: '';
  position: absolute;
  bottom: 0;
  display: block;
  width: 100%;
  height: 0.125rem;
  background-color: #fff;
}
._additional-resources[class][class] li {
  box-sizing: content-box;
  margin: 0;
  padding: 1rem 1.5rem 1rem 0;
  border-bottom: 0.0625rem solid #d2d2d2;
  -moz-column-break-inside: avoid;
  break-inside: avoid;
}
._additional-resources[class][class] li:only-child {
  grid-column: 1/-1;
}
._additional-resources[class][class] li:last-child {
  border: 0;
}
@media (min-width: 1100px) {
  ._additional-resources[class][class] li:last-child {
    border-bottom: 0.0625rem solid #d2d2d2;
  }
}
._additional-resources[class][class] li p:only-child {
  margin: 0;
  padding: 0;
}
._additional-resources[class][class] li a {
  text-decoration: none;
}
._additional-resources[class][class] li a:focus,
._additional-resources[class][class] li a:hover {
  text-decoration: underline;
}
.admonitionblock,
#content .caution,
#content .important,
#content .note,
#content .tip,
#content .warning {
  position: relative;
  margin: 2rem 0;
  padding: 0.8888888889em 0.8888888889em 0.8888888889em 3.3125rem;
  border-left: 0.3333333333em solid #151515;
  font-size: 1rem;
  line-height: 1.5;
  color: #151515;
  background: #f4f4f4;
}
.admonitionblock .admonition_header,
.admonitionblock .title--type,
#content .caution .admonition_header,
#content .caution .title--type,
#content .important .admonition_header,
#content .important .title--type,
#content .note .admonition_header,
#content .note .title--type,
#content .tip .admonition_header,
#content .tip .title--type,
#content .warning .admonition_header,
#content .warning .title--type {
  font-weight: 700;
}
.admonitionblock .admonition_header p,
.admonitionblock .title--type p,
#content .caution .admonition_header p,
#content .caution .title--type p,
#content .important .admonition_header p,
#content .important .title--type p,
#content .note .admonition_header p,
#content .note .title--type p,
#content .tip .admonition_header p,
#content .tip .title--type p,
#content .warning .admonition_header p,
#content .warning .title--type p {
  display: inline-block;
  margin: 0;
  padding: 0;
}
.admonitionblock:after,
.admonitionblock:before,
#content .caution:after,
#content .caution:before,
#content .important:after,
#content .important:before,
#content .note:after,
#content .note:before,
#content .tip:after,
#content .tip:before,
#content .warning:after,
#content .warning:before {
  content: '';
  position: absolute;
  display: block;
}
.admonitionblock:before,
#content .caution:before,
#content .important:before,
#content .note:before,
#content .tip:before,
#content .warning:before {
  top: 0.8888888889em;
  left: 0.7222222222em;
  width: 1.3333333333em;
  height: 1.3333333333em;
  border-radius: 50%;
  background: #151515;
}
.admonitionblock:after,
#content .caution:after,
#content .important:after,
#content .note:after,
#content .tip:after,
#content .warning:after {
  top: 0.8888888889em;
  left: 1.0833333333em;
  width: 0.6111111111em;
  height: 1.3333333333em;
  background: url(https://access.redhat.com/sites/dxp-docs/penumbra-dist/adoc-templates/images/fa-icons/thumbtack-solid.svg)
    no-repeat 50%;
  background-size: 100% auto;
}
.admonitionblock.note:after,
#content .caution.note:after,
#content .important.note:after,
#content .note.note:after,
#content .tip.note:after,
#content .warning.note:after {
  transform: translateY(0.0555555556em);
}
.admonitionblock.caution,
#content .caution.caution,
#content .important.caution,
#content .note.caution,
#content .tip.caution,
#content .warning.caution {
  border-left-color: #df7409;
  color: #8f4c09;
  background: #fff3e7;
}
.admonitionblock.caution:before,
#content .caution.caution:before,
#content .important.caution:before,
#content .note.caution:before,
#content .tip.caution:before,
#content .warning.caution:before {
  content: none;
}
.admonitionblock.caution:after,
#content .caution.caution:after,
#content .important.caution:after,
#content .note.caution:after,
#content .tip.caution:after,
#content .warning.caution:after {
  top: 0.9444444444em;
  left: 0.7777777778em;
  width: 1.2222222222em;
  background-image: url(https://access.redhat.com/sites/dxp-docs/penumbra-dist/adoc-templates/images/fa-icons/exclamation-triangle-solid.svg);
}
.admonitionblock.important,
#content .caution.important,
#content .important.important,
#content .note.important,
#content .tip.important,
#content .warning.important {
  border-left-color: #f0ab00;
  color: #7d643f;
  background: #fdf7e7;
}
.admonitionblock.important:before,
#content .caution.important:before,
#content .important.important:before,
#content .note.important:before,
#content .tip.important:before,
#content .warning.important:before {
  content: none;
}
.admonitionblock.important:after,
#content .caution.important:after,
#content .important.important:after,
#content .note.important:after,
#content .tip.important:after,
#content .warning.important:after {
  left: 0.75em;
  width: 1.2777777778em;
  background-image: url(https://access.redhat.com/sites/dxp-docs/penumbra-dist/adoc-templates/images/fa-icons/exclamation-circle-solid.svg);
}
.admonitionblock.warning,
#content .caution.warning,
#content .important.warning,
#content .note.warning,
#content .tip.warning,
#content .warning.warning {
  border-left-color: #c9190b;
  color: #7d1007;
  background: #faeae8;
}
.admonitionblock.warning:before,
#content .caution.warning:before,
#content .important.warning:before,
#content .note.warning:before,
#content .tip.warning:before,
#content .warning.warning:before {
  top: 0.8888888889em;
  left: 0.7222222222em;
  width: 1.3333333333em;
  height: 1.3333333333em;
  border-radius: 0.1666666667em;
  background: #c9190b;
}
.admonitionblock.warning:after,
#content .caution.warning:after,
#content .important.warning:after,
#content .note.warning:after,
#content .tip.warning:after,
#content .warning.warning:after {
  left: 1.3888888889em;
  width: 0.5em;
  background-image: url(https://access.redhat.com/sites/dxp-docs/penumbra-dist/adoc-templates/images/fa-icons/exclamation-solid.svg);
  transform: scale(0.5) translateX(-0.25em);
  transform-origin: left center;
}
.admonitionblock.tip,
#content .caution.tip,
#content .important.tip,
#content .note.tip,
#content .tip.tip,
#content .warning.tip {
  border-left-color: #2b9af3;
  color: #002952;
  background: #e7f1fa;
}
.admonitionblock.tip:before,
#content .caution.tip:before,
#content .important.tip:before,
#content .note.tip:before,
#content .tip.tip:before,
#content .warning.tip:before {
  background: #2b9af3;
}
.admonitionblock.tip:after,
#content .caution.tip:after,
#content .important.tip:after,
#content .note.tip:after,
#content .tip.tip:after,
#content .warning.tip:after {
  left: 1.1111111111em;
  width: 0.5555555556em;
  background: url(https://access.redhat.com/sites/dxp-docs/penumbra-dist/adoc-templates/images/fa-icons/lightbulb-solid.svg)
    no-repeat 50%;
  transform: translateY(0.0555555556em);
}
.admonitionblock .content > :first-child,
#content .caution .content > :first-child,
#content .important .content > :first-child,
#content .note .content > :first-child,
#content .tip .content > :first-child,
#content .warning .content > :first-child {
  margin-top: 0;
}
.admonitionblock .content > :last-child,
#content .caution .content > :last-child,
#content .important .content > :last-child,
#content .note .content > :last-child,
#content .tip .content > :last-child,
#content .warning .content > :last-child {
  margin-bottom: 0;
}
#content table .caution,
#content table .important,
#content table .note,
#content table .tip,
#content table .warning,
table .admonitionblock {
  padding-left: 0.8888888889em;
}
#content table .caution .admonition_header,
#content table .caution .title--type,
#content table .important .admonition_header,
#content table .important .title--type,
#content table .note .admonition_header,
#content table .note .title--type,
#content table .tip .admonition_header,
#content table .tip .title--type,
#content table .warning .admonition_header,
#content table .warning .title--type,
table .admonitionblock .admonition_header,
table .admonitionblock .title--type {
  padding-left: 1.5625rem;
}
#content table .caution > div:nth-child(2),
#content table .important > div:nth-child(2),
#content table .note > div:nth-child(2),
#content table .tip > div:nth-child(2),
#content table .warning > div:nth-child(2),
table .admonitionblock > div:nth-child(2) {
  margin: 0.5rem 0;
}
#content table .caution > div:nth-child(2) > :first-child,
#content table .important > div:nth-child(2) > :first-child,
#content table .note > div:nth-child(2) > :first-child,
#content table .tip > div:nth-child(2) > :first-child,
#content table .warning > div:nth-child(2) > :first-child,
table .admonitionblock > div:nth-child(2) > :first-child {
  margin-top: 0;
}
#content table .caution > div:nth-child(2) > :last-child,
#content table .important > div:nth-child(2) > :last-child,
#content table .note > div:nth-child(2) > :last-child,
#content table .tip > div:nth-child(2) > :last-child,
#content table .warning > div:nth-child(2) > :last-child,
table .admonitionblock > div:nth-child(2) > :last-child {
  margin-bottom: 0;
}
.codeblock__wrapper + .codeblock__wrapper,
pre + pre,
pre[class] + pre[class] {
  margin-top: 2rem;
}
.codeblock__wrapper {
  position: relative;
  z-index: 0;
  overflow: visible;
  background: #f8f8f8;
  transform: translate(0);
}
.codeblock__wrapper:before {
  content: '';
  position: absolute;
  top: 0.0625rem;
  right: var(--scrollbar__width, 6px);
  bottom: var(--scrollbar__height, 1px);
  z-index: 1;
  display: block;
  width: 4.0625rem;
  height: 7.125rem;
  max-height: 100%;
  max-height: calc(100% - var(--scrollbar__height, 2px));
  background: linear-gradient(270deg, #f8f8f8 80%, hsla(0, 0%, 97.3%, 0));
  background-repeat: no-repeat;
  background-size: 6.25rem 100%;
}
.admonition .codeblock__wrapper,
.admonitionblock .codeblock__wrapper {
  background: #fff;
}
.admonition .codeblock__wrapper:after,
.admonitionblock .codeblock__wrapper:after {
  background: linear-gradient(270deg, #fff 70%, hsla(0, 0%, 100%, 0));
}
.codeblock__inner-wrapper,
#content pre {
  max-height: calc(100vh - 6.25rem);
  border: 0.0625rem solid #d9d9d9;
}
@media (min-height: 48em) {
  .codeblock__inner-wrapper,
  #content pre {
    max-height: calc(100vh - 12.5rem);
  }
}
.codeblock__inner-wrapper {
  display: grid;
  overflow: auto;
  grid-template-columns: 1fr 4.375rem;
}
.codeblock__wrapper--expanded .codeblock__inner-wrapper {
  max-height: -moz-max-content;
  max-height: max-content;
}
.codeblock__inner-wrapper:after {
  content: '';
  display: block;
  width: 4.375rem;
  min-height: 0.625rem;
}
#content .codeblock__inner-wrapper pre {
  max-height: -moz-max-content;
  max-height: max-content;
  border: 0;
}
.codeblock[class] {
  overflow: visible;
  margin: 0;
  padding-right: 0;
}
.codeblock[class][class][class][class][class] {
  max-width: 99999em;
}
.codeblock__copy {
  --pfe-clipboard--icon--Color--hover: #06c;
  position: absolute;
  top: 1rem;
  left: calc(100% - 2.75rem - var(--scrollbar__width, 0px));
  z-index: 2;
  width: 1.75rem;
  height: 1.75rem;
  padding: 0.3125rem 0.375rem;
  background: #f0efef;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}
.codeblock__copy span {
  position: absolute;
  display: block;
  visibility: hidden;
  width: 0;
  height: 0;
}
.codeblock__copy:focus {
  outline: 0.0625rem dashed currentcolor;
}
.codeblock__copy svg#icon--copy {
  width: 1rem;
  height: 1rem;
}
.codeblock__expand {
  position: absolute;
  top: 3.25rem;
  left: calc(100% - 2.75rem - var(--scrollbar__width, 0px));
  z-index: 2;
  width: 1.75rem;
  height: 1.75rem;
  border: 0;
  text-indent: -9999em;
  background: #f0efef;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  cursor: pointer;
}
.codeblock__expand:before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  -webkit-mask-image: url(https://access.redhat.com/sites/dxp-docs/penumbra-dist/adoc-templates/images/fa-icons/arrows-up-down-solid.svg);
  mask-image: url(https://access.redhat.com/sites/dxp-docs/penumbra-dist/adoc-templates/images/fa-icons/arrows-up-down-solid.svg);
  -webkit-mask-size: auto 1rem;
  mask-size: auto 1rem;
  -webkit-mask-position: center center;
  mask-position: center center;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  background: #6a6e73;
}
.codeblock__wrapper--expanded .codeblock__expand {
  background: #2b9af3;
}
.codeblock__wrapper--expanded .codeblock__expand:before {
  background: #fff;
}
.codeblock__expand:focus:before,
.codeblock__expand:hover:before {
  background: #06c;
}
.codeblock__wrapper--expanded .codeblock__expand:focus:before,
.codeblock__wrapper--expanded .codeblock__expand:hover:before {
  background: #fff;
}
.codeblock__expand:focus {
  outline: 0.0625rem dashed currentcolor;
}
.colist > ol > li:before,
.conum {
  position: relative;
  top: -0.125em;
  display: inline-block;
  width: 1.25rem;
  height: 1.25rem;
  padding: 0;
  border-radius: 50%;
  font-size: 0.75rem;
  line-height: 1.35rem;
  font-family: RedHatText, Red Hat Text, Helvetica Neue, Arial, sans-serif;
  color: #fff;
  font-weight: 600;
  font-style: normal;
  text-align: center;
  vertical-align: middle;
  background: #06c;
}
.colist > ol {
  margin: 1rem 0 2rem;
  padding: 0;
  list-style: none;
  counter-reset: colist;
}
.colist arabic > ol > li,
.colist > ol > li {
  position: relative;
  margin: 0.5rem 0;
  padding-left: 1.75rem;
  counter-increment: colist;
  font-size: 1rem;
}
.colist > ol > li .colist-num {
  display: none;
}
.colist > ol > li:before {
  content: counter(colist);
  position: absolute;
  top: 0.1875rem;
  left: 0;
}
#content .calloutlist dt {
  float: left;
  clear: left;
  margin: 0;
  padding: 0 0.5rem 0 0;
}
.rhdocs__guides-list__wrapper {
  margin: 0 0 2em;
  padding: 1.5rem 1.5rem 2em;
  border-bottom: 0.0625rem solid #d2d2d2;
}
@media (min-width: 1100px) {
  .rhdocs__guides-list__wrapper {
    padding: 1.5rem 0 2em;
    border: 0;
  }
}
.rhdocs__guides-list__headline[class] {
  margin: 0 0 1rem;
  padding: 0;
  font-size: 1.25rem;
  font-weight: 500;
}
.rhdocs__guides-list[class] {
  padding: 1rem 0;
}
.rhdocs__guides-list,
.rhdocs__guides-list ul {
  list-style: none;
}
.rhdocs__guides-list[class] ul {
  margin: 0 0 0.5rem;
  padding: 0;
}
.rhdocs__guides-list li {
  margin: 0;
  padding: 0;
}
.rhdocs__guides-list[class] a {
  display: inline-block;
  padding: 0.375rem 0;
  color: #06c;
}
.rhdocs__guides-list[class] a:focus,
.rhdocs__guides-list[class] a:hover {
  text-decoration: underline;
}
.rhdocs__guides-list[class][class] code {
  margin: 0;
  padding: 0;
  border: 0;
  font: inherit;
  color: inherit;
  background: transparent;
}
cp-documentation {
  display: block;
  padding-bottom: 2.5rem;
}
cp-documentation.PFElement,
cp-documentation[pfelement] {
  padding: 0;
}
rh-table {
  display: block;
}
#content ::-webkit-scrollbar,
:host .rhdocs ::-webkit-scrollbar {
  width: 0.625rem;
  height: 0.625rem;
}
#content ::-webkit-scrollbar,
#content ::-webkit-scrollbar-track,
:host .rhdocs ::-webkit-scrollbar,
:host .rhdocs ::-webkit-scrollbar-track {
  background-color: #d6d6d6;
}
#content ::-webkit-scrollbar-thumb,
:host .rhdocs ::-webkit-scrollbar-thumb {
  background-color: #8e8e8e;
}
#content *,
:host .rhdocs * {
  scrollbar-color: #8e8e8e #d6d6d6;
}
#content p:empty,
.rhdocs p:empty {
  display: none;
}
#content[class] h1 code,
#content[class] h2 code,
#content[class] h3 code,
#content[class] h4 code,
#content[class] h5 code,
#content[class] h6 code,
.rhdocs[class] h1 code,
.rhdocs[class] h2 code,
.rhdocs[class] h3 code,
.rhdocs[class] h4 code,
.rhdocs[class] h5 code,
.rhdocs[class] h6 code {
  margin: 0;
  padding: 0;
  border: 0;
  font: inherit;
  color: inherit;
  background: transparent;
}
#content .pane-page-title h1,
.rhdocs__header__primary-wrapper h1 {
  font-size: 2.25rem;
  line-height: 1.333;
  font-family: RedHatDisplay, Red Hat Display, Helvetica Neue, Arial, sans-serif;
}
.rhdocs-details[class] {
  margin: 1rem 0 3rem;
  padding: 0;
  list-style: none;
}
#toc {
  margin: 1rem 0 2rem;
  padding: 1rem;
  background: #f2f2f2;
}
#toc > :last-child {
  margin-bottom: 0;
}
#toctitle {
  margin-top: 0;
  font-size: 1.25rem;
  line-height: 1.6667;
  font-weight: 400;
  text-transform: none;
}
#toc li {
  margin-bottom: 0.25em;
  padding-left: 0.5em;
}
.preamble {
  margin: 0 0 2rem;
}
.sect1 {
  margin: 2rem 0 1rem;
}
:host .sect1,
cp-documentation .sect1 {
  margin: 0 0 2rem;
  padding: 0.0625rem 0 0;
}
:host(.cp-documentation--has-external-header)
  .sect1:first-child
  > h2:first-child,
:host(.cp-documentation--has-external-header)
  .sect1:first-child
  > h3:first-child {
  margin-top: 0;
}
.listingblock,
.literalblock {
  margin: 1rem 0;
}
.quoteblock,
.verseblock {
  margin: 1rem 0;
  padding: 1rem 1rem 1rem 2rem;
  border-left: 0.25rem solid #d2d2d2;
}
.quoteblock.pullleft,
.verseblock.pullleft {
  float: left;
  width: 25rem;
  margin-right: 3rem;
}
@media (min-width: 768px) {
  .quoteblock.pullleft,
  .verseblock.pullleft {
    margin-left: -1rem;
  }
}
.quoteblock.pullright,
.verseblock.pullright {
  float: right;
  width: 25rem;
  margin-left: 3rem;
}
@media (min-width: 768) {
  .quoteblock.pullright,
  .verseblock.pullright {
    margin-right: -2rem;
  }
}
@media (min-width: 1100px) {
  .quoteblock.pullright,
  .verseblock.pullright {
    margin-right: -10rem;
  }
}
.quoteblock > :first-child,
.verseblock > :first-child {
  margin-top: 0;
}
.quoteblock .content,
.verseblock .content {
  font-size: 1.25rem;
  line-height: 1.6667;
  font-family: RedHatText, Red Hat Text, Helvetica Neue, Arial, sans-serif;
}
.quoteblock .attribution,
.verseblock .attribution {
  font-size: 0.875rem;
  line-height: 1.6667;
  font-weight: 600;
  font-style: italic;
  text-transform: uppercase;
}
.quoteblock .attribution .citetitle,
.verseblock .attribution .citetitle {
  color: #585858;
}
.quoteblock .attribution cite,
.verseblock .attribution cite {
  font-size: 1em;
}
.quoteblock blockquote {
  margin: 0;
  padding: 0;
  font-style: italic;
}
.quoteblock blockquote .content > :first-child {
  margin-top: 0;
}
.quoteblock blockquote .content > :first-child:before {
  content: 'â€œ';
  display: block;
  float: left;
  margin-right: 0.5rem;
  font-size: 2.75rem;
  line-height: 1.125em;
  color: #e00;
  font-style: normal;
}
.quoteblock blockquote .content > :first-child .content > :first-child:before {
  content: none;
}
.imageblock {
  margin: 1rem 0;
}
.imageblock.pullleft {
  float: left;
  width: 25rem;
  margin-right: 3rem;
}
@media (min-width: 768px) {
  .imageblock.pullleft {
    margin-left: -1rem;
  }
}
.imageblock.pullright {
  float: right;
  width: 25rem;
  margin-left: 3rem;
}
@media (min-width: 768) {
  .imageblock.pullright {
    margin-right: -2rem;
  }
}
@media (min-width: 1100px) {
  .imageblock.pullright {
    margin-right: -10rem;
  }
}
.imageblock.interrupter {
  margin: 2rem 0;
}
@media (min-width: 768px) {
  .imageblock.interrupter {
    margin-right: -2rem;
    margin-left: -1rem;
  }
  .imageblock.interrupter .caption {
    margin-right: 2rem;
    margin-left: 1rem;
  }
}
@media (min-width: 1100px) {
  .imageblock.interrupter {
    margin-right: -10rem;
  }
  .imageblock.interrupter .caption {
    margin-right: 10rem;
  }
}
.imageblock.interrupter img {
  max-width: 100%;
}
.imageblock .caption {
  display: block;
  margin: 0.5rem 0 0;
  font-size: 0.875rem;
  line-height: 1.6667;
  color: #585858;
}
.rhdocs-footnotes {
  margin: 3rem 0 1rem;
  padding: 1rem 0 0;
  border-top: 0.0625rem solid #d2d2d2;
}
.rhdocs-footnotes > ol {
  margin: 0;
  padding: 0 0 0 1.5rem;
}
@supports (counter-reset: footnotenum) {
  .rhdocs-footnotes > ol {
    padding: 0;
    list-style: none;
    counter-reset: footnotenum;
  }
  .rhdocs-footnotes > ol > li {
    counter-increment: footnotenum;
  }
  .rhdocs-footnotes > ol > li:before {
    content: '[' counter(footnotenum) ']';
    display: inline-block;
    margin-right: 0.25rem;
    color: #585858;
  }
}
.rhdocs-footer {
  margin: 3rem 0 0;
  padding: 1rem;
  font-size: 0.875rem;
  line-height: 1.6667;
  color: #252525;
  background: #ededed;
}
.center {
  margin-right: auto;
  margin-left: auto;
}
.stretch {
  width: 100%;
}
.visually-hidden {
  position: absolute;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  width: 0.0625rem;
  height: 0.0625rem;
  margin: -0.0625rem;
  padding: 0;
  border: 0;
}
.rh-docs-legal-notice {
  margin-top: 4em;
}
pre,
pre[class] {
  position: relative;
  overflow: auto;
  margin: 0;
  padding: 1.25em 1em;
}
code[class*='language-'],
pre[class*='language-'] {
  color: #151515;
  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;
}
code.language-none,
code.language-text,
code.language-txt,
pre.language-none,
pre.language-text,
pre.language-txt {
  color: #151515;
}
code[class*='language-']::-moz-selection,
code[class*='language-'] ::-moz-selection,
pre[class*='language-']::-moz-selection,
pre[class*='language-'] ::-moz-selection {
  color: #263238;
  background: #cceae7;
}
code[class*='language-']::selection,
code[class*='language-'] ::selection,
pre[class*='language-']::selection,
pre[class*='language-'] ::selection {
  color: #263238;
  background: #cceae7;
}
:not(pre) > code[class*='language-'] {
  padding: 0.1em;
  border-radius: 0.2em;
  white-space: normal;
}
.token.atrule {
  color: #40199a;
}
.token.attr-name {
  color: #06c;
}
.token.attr-value,
.token.attribute {
  color: #b300b3;
}
.token.boolean {
  color: #40199a;
}
.token.builtin,
.token.cdata,
.token.char,
.token.class,
.token.class-name {
  color: #06c;
}
.token.comment {
  color: #6a6e73;
}
.token.constant {
  color: #40199a;
}
.token.deleted {
  color: #c9190b;
}
.token.doctype {
  color: #6a6e73;
}
.token.entity {
  color: #c9190b;
}
.token.function {
  color: #40199a;
}
.token.hexcode {
  color: #b300b3;
}
.token.id,
.token.important {
  color: #40199a;
  font-weight: 700;
}
.token.inserted {
  color: #06c;
}
.token.keyword {
  color: #40199a;
}
.token.number {
  color: #b300b3;
}
.token.operator {
  color: #06c;
}
.token.prolog {
  color: #6a6e73;
}
.token.property {
  color: #06c;
}
.token.pseudo-class,
.token.pseudo-element {
  color: #b300b3;
}
.token.punctuation,
.token.regex {
  color: #06c;
}
.token.selector {
  color: #c9190b;
}
.token.string {
  color: #b300b3;
}
.token.symbol {
  color: #40199a;
}
.token.tag {
  color: #c9190b;
}
.token.unit {
  color: #b300b3;
}
.token.url,
.token.variable {
  color: #c9190b;
}
.rhdocs.local-render {
  max-width: 45.8125rem;
  margin: 0 auto;
  padding: 0 1.5rem;
}
@media (min-width: 1100px) {
  #content {
    display: flex;
  }
}
#toc {
  position: relative;
  z-index: 2;
  padding: 1rem 0 0;
  background: #fff;
}
.rhdocs__header--assembly ~ .rh-docs__content-wrapper .rh-docs__sidebar:after {
  top: -1.5rem;
}
@media (min-width: 1100px) {
  .rh-docs__sidebar:after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    display: block;
    width: 0;
    border-right: 0.125rem solid #d2d2d2;
  }
}
@media (min-width: 1100px) {
  .rh-docs__sidebar, #toc {
    flex-basis: 30%;
    flex-grow: 1;
    width: 30%;
    min-width: 15.2777777778em;
    max-width: 19.4444444444em;
    padding-right: 1.875rem;
    padding-left: 1.5rem;
  }
  :host .rh-docs__sidebar {
    padding-left: 0;
  }
}
@media (min-width: 1100px) {
  .rh-docs__sidebar ~ .rh-docs__content,
  .rh-docs__sidebar ~ cp-documentation {
    flex-basis: 70%;
  }
}
@media (min-width: 1100px) {
  .rh-docs__content,
  cp-documentation {
    flex-grow: 1;
  }
}
.rh-docs__content {
  padding: 0 1.5rem;
}
@media print {
  .field code,
  .field pre,
  code[class*='language-'],
  pre,
  pre[class*='language-'] {
    white-space: pre-wrap !important;
    word-wrap: break-word !important;
    word-break: break-word !important;
    overflow-wrap: break-word !important;
  }
}
.content-expander__trigger {
  display: none;
  border: none;
}
.content-expander__trigger.content-expander__trigger--processed {
  display: inline-block;
}
.content-expander.content-expander--processed,
.js .content-expander {
  display: none;
}
.content-expander[open] {
  display: block;
}
.j-switch__wrapper {
  position: relative;
  line-height: var(--jupiter__lineHeight--xs, 1.3333);
}
.j-switch__label {
  position: relative;
  top: 0;
  margin-right: 5rem;
  margin-bottom: 0;
  padding: 0.5em 3.5833333333em 0.5em 0.5em;
  font-weight: 400;
  cursor: pointer;
}
@media (min-width: 1400px) {
  .j-switch__label {
    top: -0.5em;
    margin: 0;
  }
}
.j-switch__input:focus + .j-switch__label,
.j-switch__label:focus {
  outline: 0.0625rem dashed #151515;
}
.j-switch {
  top: 0.5em;
  right: 0.5em;
  box-sizing: content-box;
  width: 2.3333333333em;
  height: 1.11111em;
  border: 0.125rem solid;
  border-radius: calc(var(--jupiter__lineHeight--xs, 1.3333) * 0.5em);
  transition: background-color 0.25s;
}
.j-switch,
.j-switch:before {
  position: absolute;
  display: block;
}
.j-switch:before {
  content: '';
  top: 0.1666666667em;
  left: 0.1666666667em;
  width: 0.7777777778em;
  height: 0.7777777778em;
  border-radius: 50%;
  background: currentColor;
  box-shadow: 0 0.0625rem 0.0625rem 0 rgba(3, 3, 3, 0.05),
    0 0.25rem 0.5rem 0.25rem rgba(3, 3, 3, 0.06);
  transition: transform 0.25s cubic-bezier(0.21, 0.84, 0.56, 1.55);
}
input:checked + label .j-switch {
  border-color: var(--jupiter__palette__blue--40, #06c);
  background-color: var(--jupiter__palette__blue--40, #06c);
}
input:checked + label .j-switch:before {
  background-color: #fff;
  transform: translate(1.2222222222em);
}
.j-reading-mode__toggle {
  display: none;
}
@media (min-width: 1000px) {
  .j-reading-mode__toggle {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    width: 100%;
  }
}
.j-reading-mode__shortcut-hint {
  display: inline-block;
  margin-left: 0.3em;
}
.j-reading-mode__shortcut-hint kbd {
  margin: 0 0.25rem;
  padding: 0.125rem 0.375rem;
  border-radius: 0.1875rem;
  font-size: 90%;
  font-family: var(
    --jupiter__font__family--mono,
    'Red Hat Mono',
    RedHatMono,
    Consolas,
    monospace
  );
  color: inherit;
  font-weight: 400;
  background-color: #eee;
  background-image: linear-gradient(180deg, #ddd, #eee, #fff);
  box-shadow: 0 -0.0625rem 0 0 #fff, 0 0.0625rem 0 0.1875rem #aaa;
}
@keyframes reveal-dropdowns {
  0% {
    visibility: hidden;
    max-height: 0;
    opacity: 0;
  }
  1% {
    visibility: visible;
  }
  99% {
    max-height: 9999em;
  }
  to {
    visibility: visible;
    opacity: 1;
  }
}
.book-nav__list[class] {
  display: flex;
  justify-content: space-between;
  margin: 5rem 0 0;
  padding: 0;
  list-style: none;
  line-height: var(--jupiter__lineHeight--xs, 1.3333);
}
@media (min-width: 1200px) {
  .book-nav__list[class] {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 2rem;
  }
}
.book-nav__item a {
  position: relative;
  display: inline-block;
  padding-left: 1.25rem;
  font-size: 0.875rem;
  font-weight: 500;
  text-transform: uppercase;
}
.book-nav__item a:before {
  content: '';
  position: absolute;
  top: 0.125rem;
  left: 0;
  display: block;
  width: 0.875rem;
  height: 0.875rem;
  background: url(https://access.redhat.com/sites/dxp-docs/penumbra-dist/jupiter/images/arrow-down-solid.svg)
    no-repeat;
  background-size: contain;
  transform: rotate(90deg);
}
@supports ((-webkit-mask: url('')) or (mask: url(''))) {
  .book-nav__item a:before {
    background: currentColor;
    -webkit-mask-image: url(https://access.redhat.com/sites/dxp-docs/penumbra-dist/jupiter/images/arrow-down-solid.svg);
    mask-image: url(https://access.redhat.com/sites/dxp-docs/penumbra-dist/jupiter/images/arrow-down-solid.svg);
    -webkit-mask-position: center center;
    mask-position: center center;
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
  }
}
.book-nav__item--next {
  grid-column: 2;
  text-align: right;
}
.book-nav__item--next a {
  padding-right: 1.25rem;
  padding-left: 0;
  text-align: right;
}
.book-nav__item--next a:before {
  right: 0;
  left: auto;
  transform: rotate(-90deg);
}
.breadcrumbs[class] {
  box-shadow: 0.25rem 0 0.25rem 0 rgba(0, 0, 0, 0.25);
}
#breadcrumbs[class][class] {
  padding-right: 2rem;
  padding-left: 2rem;
}
#breadcrumbs[class],
.breadcrumbs[class] {
  width: auto;
}
body[debug]:after {
  content: '';
  position: fixed;
  top: 50%;
  left: 0;
  z-index: 99999;
  display: block;
  width: 100%;
  height: 0.0625rem;
  background: rgba(255, 0, 0, 0.2);
  pointer-events: none;
}
#toc {
  position: relative;
  z-index: 6;
  display: flex;
  justify-content: space-between;
  height: 3.25rem;
}
@media (min-width: 1000px) {
  #toc {
    height: auto;
  }
}
.js .j-doc-nav__title {
  position: absolute;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  width: 0.0625rem;
  height: 0.0625rem;
  margin: -0.0625rem;
  padding: 0;
  border: 0;
}
@media (min-width: 1000px) {
  .j-sidebar__menu-container {
    position: sticky;
    top: 0;
  }
}
@media (min-width: 1200px) {
  .j-sidebar__menu-container {
    margin-left: auto;
  }
}
.j-has-opened-doc-menu--options--mobile .j-sidebar__menu-container {
  display: none;
}
@media (min-width: 1200px) {
  .j-has-opened-doc-menu--options--mobile .j-sidebar__menu-container {
    display: block;
  }
}
.j-has-opened-doc-menu--toc .j-sidebar__menu-container {
  z-index: 10;
  width: 100%;
  background: #fff;
}
.j-has-opened-doc-menu--toc
  .j-sidebar__menu-container
  .j-sidebar__menu-trigger {
  width: 100%;
}
.j-has-opened-doc-menu--toc
  .j-sidebar__menu-container
  .j-sidebar__menu-trigger__open-text {
  color: #757575;
}
.j-has-opened-doc-menu--toc
  .j-sidebar__menu-container
  .j-sidebar__menu-trigger__close-text {
  display: flex;
}
.j-sidebar__menu-container .j-sidebar__menu-trigger__close-text {
  display: none;
}
.j-sidebar__menu-container li,
.j-sidebar__menu-container ul {
  margin: 0;
  padding: 0;
  list-style: none;
}
#toc {
  margin-right: auto;
  margin-left: auto;
  padding-top: 1.25rem;
  padding-right: 1.5rem;
  padding-left: 1.5rem;
  background: #fff;
  transition: padding-left 0.5s ease, padding-right 0.5s ease;
}
@media (min-width: 1000px) {
  #toc {
    visibility: visible;
    height: auto;
    max-height: 9999em;
    animation: none;
    overflow-x: hidden;
    overflow-y: auto;
    max-height: 100vh;
    padding-top: 3.9375rem;
    padding-right: 2rem;
    padding-left: 2rem;
  }
}
@media (min-width: 1200px) {
  #toc {
    bottom: 0;
  }
}
#toc {
  position: sticky;
  top: 0;
  overflow-x: hidden;
  overflow-y: auto;
  max-height: 100vh;
  /* height: 0; */
  animation: reveal-dropdowns 0.1618s 4s 1 forwards;
  box-shadow: 0 0.5rem 0.625rem 0 rgba(0, 0, 0, 0.15);
}
@media (min-width: 1000px) {
  #toc {
    box-shadow: none;
  }
}
.j-sidebar__menu-container--processed #toc {
  visibility: visible;
  height: auto;
  max-height: 9999em;
  animation: none;
  max-height: 100vh;
}
.j-sidebar__menu-container[open] #toc {
  box-shadow: 0 0.3125rem 1.0625rem 0 rgba(0, 0, 0, 0.15);
}
@media (min-width: 1000px) {
  .j-sidebar__menu-container[open] #toc {
    box-shadow: none;
  }
}
@media (min-width: 1000px) {
  .j-reading-mode--enabled #toc {
    padding-right: 0;
    padding-left: 0;
  }
}
#toc {
  width: 100%;
  padding: 0;
  line-height: var(--jupiter__lineHeight--xs, 1.3333);
  background: #fff;
  transition: width 0.5s ease;
}
.j-sidebar__menu-trigger {
  display: none;
  justify-content: space-between;
  padding: 1rem;
  list-style: none;
  font-size: 0.875rem;
  color: #151515;
  font-weight: 600;
  text-transform: uppercase;
  background-color: transparent;
  cursor: pointer;
}
.j-sidebar__menu-trigger::-webkit-details-marker {
  display: none;
}
.j-sidebar__menu-trigger.content-expander__trigger--processed {
  display: flex;
}
@media (min-width: 1000px) {
  .j-sidebar__menu-trigger.content-expander__trigger--processed {
    display: none;
  }
}
.j-sidebar__menu-trigger--options {
  color: #06c;
}
.j-sidebar__menu-trigger--options:focus,
.j-sidebar__menu-trigger--options:hover {
  color: #004080;
}
@supports (
  (
      -webkit-mask-image: url('/sites/dxp-docs/penumbra-dist/jupumbra/images//language-format.svg')
    )
    or
    (
      mask-image:
        url('/sites/dxp-docs/penumbra-dist/jupumbra/images//language-format.svg')
    )
) {
  .j-sidebar__menu-trigger--options {
    background: none;
  }
  .j-sidebar__menu-trigger--options:before {
    content: '';
    display: block;
    width: 2.625rem;
    height: 1.25rem;
    margin-right: 0.5em;
    background: currentcolor;
    -webkit-mask: url(https://access.redhat.com/sites/dxp-docs/penumbra-dist/jupumbra/images/language-format.svg)
      no-repeat center center;
    mask: url(https://access.redhat.com/sites/dxp-docs/penumbra-dist/jupumbra/images/language-format.svg)
      no-repeat center center;
    -webkit-mask-size: 100% auto;
    mask-size: 100% auto;
  }
}
.j-sidebar__menu-trigger--tablet {
  position: absolute;
  top: -2.8125rem;
  right: 0.625rem;
  display: none;
  width: auto;
  color: #06c;
}
.j-sidebar__menu-trigger--tablet:focus,
.j-sidebar__menu-trigger--tablet:hover {
  color: #004080;
}
@media (min-width: 1000px) {
  .j-sidebar__menu-trigger--tablet.content-expander__trigger--processed {
    display: flex;
  }
}
@media (min-width: 1400px) {
  .j-sidebar__menu-trigger--tablet.content-expander__trigger--processed {
    display: none;
  }
}
@supports (
  (
      -webkit-mask-image: url('/sites/dxp-docs/penumbra-dist/jupumbra/images//language-format.svg')
    )
    or
    (
      mask-image:
        url('/sites/dxp-docs/penumbra-dist/jupumbra/images//language-format.svg')
    )
) {
  .j-sidebar__menu-trigger--tablet {
    background: none;
  }
  .j-sidebar__menu-trigger--tablet:before {
    content: '';
    display: block;
    width: 2.625rem;
    height: 1.25rem;
    margin-right: 0.5em;
    background: currentcolor;
    -webkit-mask: url(https://access.redhat.com/sites/dxp-docs/penumbra-dist/jupumbra/images/language-format.svg)
      no-repeat center center;
    mask: url(https://access.redhat.com/sites/dxp-docs/penumbra-dist/jupumbra/images/language-format.svg)
      no-repeat center center;
    -webkit-mask-size: 100% auto;
    mask-size: 100% auto;
  }
}
.j-sidebar__menu-trigger svg {
  height: 1.875rem;
  fill: #06c;
}
.j-sidebar__menu-trigger svg:focus,
.j-sidebar__menu-trigger svg:hover {
  fill: #004080;
}
#toctitle {
  font-size: 1.125em;
  line-height: var(--jupiter__lineHeight--xs, 1.3333);
  font-family: var(
    --jupiter__font__family,
    'Red Hat Text',
    RedHatText,
    Inter,
    -apple-system,
    'Segoe UI',
    Roboto,
    Oxygen-Sans,
    Ubuntu,
    Cantarell,
    'Helvetica Neue',
    sans-serif
  );
}
.j-doc-nav__title--desktop {
  display: none;
  margin-top: 0;
}
@media (min-width: 1200px) {
  .j-doc-nav__title--desktop {
    display: block;
  }
}
@media (min-width: 1200px) {
  .j-doc-nav__menu-title,
  .j-doc-nav__title--mobile {
    display: none;
  }
}
.j-doc-nav__menu-title {
  margin: 0;
  padding: 0.875rem 0;
  font-size: 0.875rem;
  font-weight: 500;
  text-transform: uppercase;
}
#toc {
  margin: 0 auto;
}
@media (min-width: 1000px) {
  .pvof-doc__toc {
    max-inline-size: 25rem;
  }
}
@media (min-width: 1850px) {
  .pvof-doc__toc {
    margin-right: 0;
  }
}
.pvof-doc__toc:last-child {
  margin-bottom: 3.75rem;
}
@media (min-width: 1000px) {
  .j-doc-nav__list {
    width: calc(33.33333vw - 5.75rem - var(--scrollbarWidth, 40px) / 12 * 4);
  }
}
@media (min-width: 1400px) {
  .j-doc-nav__list {
    width: calc(25vw - 5.75rem - var(--scrollbarWidth, 40px) / 12 * 3);
  }
}
@media (min-width: 1850px) {
  .j-doc-nav__list {
    width: 22.5rem;
  }
}
#toc ul {
  margin: 0;
  padding: 0;
}
#toc li {
  position: relative;
  display: flex;
  flex-wrap: wrap;
}
.j-doc-nav__children-toggle,
#toc a {
  display: block;
  -webkit-margin-end: -0.5em;
  margin-inline-end: -0.5em;
  padding: 0.5625rem 0;
  -webkit-padding-end: 0.5em;
  padding-inline-end: 0.5em;
  border: 0;
}
.j-doc-nav__children-toggle[class],
#toc a[class] {
  color: #151515;
}
.j-doc-nav__children-toggle.is-active
#toc a.is-active {
  color: #06c;
  background: #e7f1fa;
}
#toc a {
  flex-grow: 1;
  -webkit-margin-start: -1em;
  margin-inline-start: -1em;
  -webkit-padding-start: 1em;
  padding-inline-start: 1em;
  border-radius: 0.1875rem;
}
#toc a:focus,
#toc a:hover {
  text-decoration: none;
  background: #dedede;
}
#toc a {
  font-size: 1rem;
  color: #6a6e73;
  font-weight: 700;
}
#toc a:focus,
#tox a:hover {
  color: #151515;
}
@media (min-width: 1000px) {
  .j-doc-nav__list-item > .j-doc-nav__link.is-active,
  .j-doc-nav__list-item > .j-doc-nav__link.is-active:focus,
  .j-doc-nav__list-item > .j-doc-nav__link.is-active:hover {
    color: #06c;
    background: #e7f1fa;
  }
}
.j-doc-nav__link--has-children {
  width: calc(100% - 2.5rem);
  min-height: 2.5rem;
}
.j-doc-nav__children-toggle {
  position: relative;
  display: none;
  overflow: hidden;
  width: 2.5rem;
  -webkit-margin-start: 0.8125em;
  margin-inline-start: 0.8125em;
  border-radius: 0.1875rem;
  background: transparent;
  transition: background 0.25s;
  cursor: pointer;
}
.j-doc-nav__children-toggle.content-expander__trigger--processed {
  display: block;
}
.j-doc-nav__children-toggle:focus,
.j-doc-nav__children-toggle:hover {
  background: #dedede;
}
.j-doc-nav__children-toggle:before {
  content: '';
  position: absolute;
  top: 50%;
  right: 0.8125rem;
  display: block;
  width: 0.375rem;
  height: 0.375rem;
  border: 0.125rem solid #6a6e73;
  border-bottom: 0;
  border-left: 0;
  transform: translate(-0.1875rem) rotate(45deg);
  transform-origin: right top;
}
.j-doc-nav__children-toggle[aria-expanded='true']:before {
  transform: translate(-0.375rem, -0.1875rem) rotate(-45deg);
  transform-origin: right top;
}
.j-doc-nav__children-toggle:focus:before,
.j-doc-nav__children-toggle:hover:before {
  border-color: #06c;
}
.j-doc-nav__children-toggle__collapse-text {
  display: none;
}
.j-doc-nav__children-toggle[aria-expanded='true']
  > .j-doc-nav__children-toggle__collapse-text {
  display: block;
}
.j-doc-nav__children-toggle[aria-expanded='true']
  > .j-doc-nav__children-toggle__expand-text {
  display: none;
}
.j-doc-nav__subnav[open] {
  margin-bottom: 1.5rem;
}
.j-doc-nav__subnav[class] {
  padding-left: 0.5rem;
}
.j-superdoc-subnav__item {
  position: relative;
  display: flex;
  flex-wrap: wrap;
}
.j-options-container--mobile {
  width: 100%;
  background: #fff;
}
@media (min-width: 1000px) {
  .j-options-container--mobile {
    display: none;
  }
}
.js .j-options-container--mobile {
  position: absolute;
  top: 3.25rem;
  z-index: 0;
  height: 0;
}
.j-has-opened-doc-menu--toc .j-options-container--mobile,
.j-options-container--mobile .j-sidebar__menu-trigger__close-text {
  display: none;
}
.j-options-container--mobile .j-doc-options__list[open] {
  position: relative;
  z-index: 10;
  width: 100%;
  height: auto;
  background: #fff;
}
.j-options-container--mobile .j-doc-options__list[open]:before {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  z-index: -2;
  width: 100%;
  height: 50%;
  box-shadow: 0 0.3125rem 1.0625rem 0 rgba(0, 0, 0, 0.15);
}
.j-options-container--mobile .j-doc-options__list[open]:after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: -1;
  background: #fff;
}
.j-options-container--mobile
  .j-sidebar__menu-trigger--options[aria-expanded='true']
  .j-sidebar__menu-trigger__close-text {
  display: flex;
  align-items: center;
}
.j-sidebar__menu-trigger--options {
  position: absolute;
  top: -3.25rem;
  right: 0;
  padding: 1rem;
}
.j-sidebar__menu-trigger--options[aria-expanded='true'] {
  width: 100%;
}
.j-sidebar__menu-trigger--options[aria-expanded='true']:before {
  display: none;
}
.j-sidebar__menu-trigger__open-headline {
  display: flex;
}
.j-sidebar__menu-trigger--options[aria-expanded='true']
  .j-sidebar__menu-trigger__open-headline {
  display: none;
  color: #757575;
}
.j-doc__doc-options {
  position: relative;
  width: 100%;
  font-size: 0.875rem;
}
@media (min-width: 1400px) {
  .j-doc__doc-options {
    width: auto;
  }
}
.j-doc__doc-options .j-options-container {
  width: 100%;
  padding: 0 1.5625rem;
  background-color: #fff;
}
.js .j-doc__doc-options .j-options-container {
  position: absolute;
  left: 0;
  box-shadow: 0 0.625rem 0.625rem 0 rgba(0, 0, 0, 0.25);
}
@media (min-width: 1400px) {
  .js .j-doc__doc-options .j-options-container {
    position: relative;
    padding: 0;
    box-shadow: none;
  }
}
@media (min-width: 1400px) {
  .js .j-doc__doc-options {
    border-top: 0.0625rem solid #efefef;
  }
}
.j-doc__tertiary-sidebar__inner .j-doc__doc-options {
  display: none;
}
@media (min-width: 1000px) {
  .j-doc__tertiary-sidebar__inner .j-doc__doc-options {
    display: block;
  }
}
.j-doc-options__item {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: space-between;
  padding-bottom: 0.875rem;
}
.js .j-doc-options__item:first-of-type {
  padding-top: 0.875rem;
}
@media (min-width: 1000px) {
  .j-doc-options__item {
    flex-direction: column;
  }
}
.j-doc-options__item select {
  flex: 0 1 auto;
  width: 80%;
  padding: 0.375rem 0.5rem;
  box-shadow: inset 0 -0.0625rem 0 #8a8d90, inset 0.0625rem 0 0 #f0f0f0,
    inset 0 0.0625rem 0 #f0f0f0, inset -0.0625rem 0 0 #f0f0f0;
}
@media (min-width: 1000px) {
  .j-doc-options__item select {
    width: 100%;
  }
}
.j-doc-option__label--only-one-language {
  margin-bottom: 0.75rem;
}
.j-languages__current-langauge {
  display: flex;
  flex: 0 1 auto;
  align-items: center;
  width: 80%;
  padding: 0.375rem 0.5rem;
  font-size: 1rem;
  background-color: #f0f0f0;
  box-shadow: inset 0 -0.0625rem 0 #8a8d90, inset 0.0625rem 0 0 #e0e0e0,
    inset 0 0.0625rem 0 #e0e0e0, inset -0.0625rem 0 0 #e0e0e0;
}
@media (min-width: 1000px) {
  .j-languages__current-langauge {
    width: 100%;
  }
}
.j-doc-options__list {
  padding: 1.25rem 0 0;
}
@media (min-width: 1000px) {
  .j-doc-options__list {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}
@media (min-width: 1400px) {
  .j-doc-options__list {
    display: block;
  }
}
.js .j-doc-options__list {
  margin: 0 0 1.5rem;
  padding-top: 0;
}
@media (min-width: 1000px) {
  .js .j-doc-options__list {
    margin: 0;
  }
}
.j-options-container--mobile .j-doc-options__list {
  padding: 0 1.5625rem;
}
.js .j-options-container--desktop .j-doc-options__list {
  visibility: hidden;
  overflow: hidden;
  height: 0;
  animation: reveal-dropdowns 0.1618s 4s 1 forwards;
}
.js .j-options-container--desktop .j-doc-options__list[open] {
  visibility: visible;
  height: auto;
  animation: none;
}
@media (min-width: 1400px) {
  .js .j-options-container--desktop .j-doc-options__list {
    visibility: visible;
    height: auto;
    max-height: 9999em;
    animation: none;
  }
}
.j-options-container--desktop--processed .j-doc-options__list {
  visibility: visible;
  height: auto;
  max-height: 9999em;
  animation: none;
}
.j-doc-option__label[class],
.j-doc-option__select[class] {
  display: none;
}
.js .j-doc-option__label,
.js .j-doc-option__select {
  display: block;
}
.j-doc-option__label {
  align-items: center;
  margin-bottom: 0.75rem;
  padding-top: 0.5rem;
  font-size: 1rem;
  line-height: 1.4;
  font-weight: 400;
}
.js .j-doc-option__label,
noscript .j-doc-option__label[class] {
  display: flex;
}
@supports (
  (-webkit-mask-image: url(/themes/custom/penumbra/dist/css/)) or
    (mask-image: url(/themes/custom/penumbra/dist/css/))
) {
  .j-doc-option__label:before {
    content: '';
    display: block;
    width: 1.875rem;
    height: 1.875rem;
    margin-right: 0.5em;
    background: currentcolor;
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-position: center center;
    mask-position: center center;
    -webkit-mask-size: auto 100%;
    mask-size: auto 100%;
  }
}
@supports (
  (-webkit-mask-image: url(/themes/custom/penumbra/dist/css/)) or
    (mask-image: url(/themes/custom/penumbra/dist/css/))
) {
  .j-doc-option__label--language:before {
    -webkit-mask-image: url(https://access.redhat.com/sites/dxp-docs/penumbra-dist/jupumbra/images/language.svg);
    mask-image: url(https://access.redhat.com/sites/dxp-docs/penumbra-dist/jupumbra/images/language.svg);
  }
}
@supports (
  (-webkit-mask-image: url(/themes/custom/penumbra/dist/css/)) or
    (mask-image: url(/themes/custom/penumbra/dist/css/))
) {
  .j-doc-option__label--format:before {
    -webkit-mask-image: url(https://access.redhat.com/sites/dxp-docs/penumbra-dist/jupumbra/images/document.svg);
    mask-image: url(https://access.redhat.com/sites/dxp-docs/penumbra-dist/jupumbra/images/document.svg);
  }
}
.j-sidebar__menu-details-container {
  display: none;
  max-inline-size: 18.75rem;
  margin: 0 auto 1.5rem;
}
.js .j-sidebar__menu-details-container {
  display: flex;
}
.j-sidebar__menu-details-button {
  flex: 1 1 auto;
  width: 45%;
  padding: 0 0.5rem;
  border: 0.0625rem solid var(--jupiter__palette__gray--80, #d2d2d2);
  background-color: #fff;
}
.j-sidebar__menu-details-button:focus,
.j-sidebar__menu-details-button:hover {
  border-color: var(--jupiter__palette__blue--40, #06c);
  background-color: #e7f1fa;
}
.j-sidebar__menu-details-button--expand {
  border-radius: 0.1875rem 0 0 0.1875rem;
}
.j-sidebar__menu-details-button--collapse {
  border-radius: 0 0.1875rem 0.1875rem 0;
}
body,
html {
  height: auto;
  min-height: 100%;
}
.container .pvof-doc__content-wrapper__outer--css-not-removed {
  width: calc(100vw - 3.125rem);
}
@media (min-width: 48rem) {
  .container .pvof-doc__content-wrapper__outer--css-not-removed {
    margin-left: calc(-50vw - -23.4375rem);
  }
}
@media (min-width: 62rem) {
  .container .pvof-doc__content-wrapper__outer--css-not-removed {
    margin-left: calc(-50vw - -30.3125rem);
  }
}
@media (min-width: 75rem) {
  .container .pvof-doc__content-wrapper__outer--css-not-removed {
    margin-left: calc(-50vw - -36.5625rem);
  }
}
pfe-page-status {
  z-index: 100;
}
.pvof-doc__content-wrapper__outer--css-not-removed .doc-wrapper, #content {
  float: none;
  width: auto;
  padding: 0 1rem;
}
.pvof-doc__tertiary-sidebar__inner {
  display: flex;
  flex-direction: column;
}
@media (min-width: 1400px) {
  .pvof-doc__tertiary-sidebar__inner {
    padding-bottom: 2.5rem;
  }
}
.book > .titlepage,
.chapter,
section[id] {
  padding-bottom: 3.75rem;
}
.book > .titlepage .chapter:last-child,
.book > .titlepage section[id]:last-child,
.chapter .chapter:last-child,
.chapter section[id]:last-child,
section[id] .chapter:last-child,
section[id] section[id]:last-child {
  margin-bottom: -3.75rem;
}
.codeblock__wrapper + section[id],
pre + section[id] {
  padding-top: 3.75rem;
}
.cta-link {
  font-size: inherit;
}
#content a {
  word-wrap: break-word;
  overflow-wrap: break-word;
}
#content .warning .admonition {
  margin: 0;
  padding: 0;
  border: 0;
  color: inherit;
  background: transparent;
}
#content .warning .admonition:before {
  content: none;
}
.j-has-opened-doc-menu .QSIPopOver,
.j-has-opened-doc-menu .QSISlider,
.rh-table--is-full-screen .QSIPopOver,
.rh-table--is-full-screen .QSISlider {
  z-index: 0 !important;
}
.QSIPopOver {
  top: auto !important;
  bottom: 18.75rem !important;
}
.alert {
  position: relative;
}
button.dismiss-button {
  position: absolute;
  top: 50%;
  right: 0.3125rem;
  z-index: 50;
  width: 2.5rem;
  height: 2.5rem;
  margin-top: -1.25rem;
  padding: 0;
  border: 0;
  text-align: center;
  background: none;
  cursor: pointer;
}
button.dismiss-button:after {
  content: '\f109';
  display: inline-block;
  opacity: 0.3;
  filter: alpha(opacity=30);
  font-size: 1.3125rem;
  line-height: 1;
  line-height: 2.5rem;
  font-family: rh-web-iconfont;
  font-weight: 400;
  font-style: normal;
  font-variant: normal;
  text-decoration: inherit;
  text-transform: none !important;
  text-rendering: optimizeLegibility;
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  font-smoothing: antialiased;
}
#to-top a {
  position: fixed;
  right: 0;
  bottom: 0.9375rem;
  z-index: 99999;
  width: 2.75rem;
  height: 2.75rem;
  padding: 0.625rem;
  opacity: 0;
  font-size: 1.5rem;
  line-height: 1.5rem;
  color: #fff;
  vertical-align: middle;
  text-decoration: none;
  background-color: #333;
  background-color: rgba(0, 0, 0, 0.8);
  transition: opacity 0.218s;
  cursor: pointer;
}
#to-top a.affix {
  opacity: 0.8;
}
#to-top a.affix:focus,
#to-top a.affix:hover {
  opacity: 1;
}
.alert {
  border: 0;
  border-radius: 0;
}
.alert > h2:first-child,
.alert > h3:first-child,
.alert > h4:first-child,
.alert > h5:first-child,
.alert > h6:first-child,
.alert > p:first-child {
  margin-top: 0 !important;
}
.alert > p:last-child {
  margin-bottom: 0 !important;
}
.alert-w-icon[class] {
  padding-left: 2.8125rem;
}
.alert-w-icon .alert-icon {
  float: left;
  margin-right: 0.625rem;
  margin-left: -1.875rem;
  font-size: 1.125rem;
}
.alert-w-icon .alert-icon[class*=' rh-icon-'],
.alert-w-icon .alert-icon[class^='rh-icon-'] {
  margin-top: -0.375rem;
  margin-left: -2.5rem;
  font-size: 2.25rem;
  line-height: 1em;
}
.alert-w-icon .alert-icon[class*=' icon-innov-prev'],
.alert-w-icon .alert-icon[class^='icon-innov-prev'] {
  margin-top: 0.25rem;
  font-size: 1.3125rem;
}
.alert-w-icon.alert-plain {
  padding-left: 5rem;
  color: #252525;
  background: none;
}
.alert-w-icon.alert-plain .alert-icon {
  margin-right: 0;
  margin-left: -4.375rem;
  font-size: 3rem;
}
.alert-w-icon.alert-plain.alert-success .alert-icon {
  color: #3f9c35;
}
.alert-w-icon.alert-plain.alert-info .alert-icon {
  color: #0088ce;
}
.alert-w-icon.alert-plain.alert-warning .alert-icon {
  color: #f0ab00;
}
.alert-w-icon.alert-plain.alert-danger .alert-icon {
  color: #e00;
}
#target_banner .copy-url {
  float: right;
  margin-top: 0;
}
#target_banner .dropdown-menu {
  font-size: inherit;
}
.titlepage .svg-img[data*='title_logo.svg'] {
  width: 15rem;
  margin: 1.5rem 0;
}
.guibutton,
.guimenu,
.guimenuitem {
  font-weight: 700;
}
.guibutton {
  padding: 0.1875rem;
  font-size: 90%;
}
.guibutton:before {
  content: '[';
}
.guibutton:after {
  content: ']';
}
.para {
  margin: 1.49963rem 0;
}
.para[class] {
  margin-bottom: 1.49963rem;
}
#content dd {
  margin-bottom: 2.5rem;
}
.card-light,
.card-light-gray,
.card-light-grey {
  border: 0.0625rem solid #f0f0f0;
  color: #252525;
  background: #f0f0f0;
}
#content .card-light-gray.push-bottom:first-child,
#content .card-light-grey.push-bottom:first-child,
#content .card-light.push-bottom:first-child {
  margin-bottom: 3.125rem !important;
}
.card-light-gray a.card-link,
.card-light-gray h1,
.card-light-gray h2,
.card-light-gray h3,
.card-light-gray h4,
.card-light-gray h5,
.card-light-gray h6,
.card-light-grey a.card-link,
.card-light-grey h1,
.card-light-grey h2,
.card-light-grey h3,
.card-light-grey h4,
.card-light-grey h5,
.card-light-grey h6,
.card-light a.card-link,
.card-light h1,
.card-light h2,
.card-light h3,
.card-light h4,
.card-light h5,
.card-light h6 {
  color: #252525;
}
.card-light-gray.card-active:after,
.card-light-grey.card-active:after,
.card-light.card-active:after {
  border-top-color: #f0f0f0;
}
.card-md,
.card-narrow {
  display: block;
  padding: 1.1875rem;
  white-space: normal;
  word-wrap: break-word;
}
.card-sm .card .card-heading,
.card .card-heading.card-heading-sm {
  font-size: 1.0625em;
  line-height: 1.5;
  font-weight: 500;
}
.card .card-heading.card-heading-flush {
  margin-bottom: 0.25rem;
}
.card .card-heading.card-heading-red {
  color: #d10000;
}
.card > p {
  margin-top: 0;
}
.card > p:last-child {
  margin-bottom: 0;
}
.new-experience {
  position: relative;
  z-index: 1;
  margin: 1.5rem;
  padding: 1.5rem;
  border: 0.0625rem solid #bee1f4;
  font-size: 1rem;
  background-color: #e7f1fa;
}
@media (min-width: 48rem) {
  .new-experience {
    display: flex;
  }
}
@media (min-width: 48rem) {
  .new-experience--contained {
    position: relative;
    left: 50%;
    width: calc(100vw - 2.5rem);
    transform: translateX(-50%);
  }
}
.new-experience__primary-content {
  flex-grow: 1;
}
@media (min-width: 48rem) {
  .new-experience__primary-content {
    margin-right: 1.25rem;
  }
}
.new-experience__title {
  margin: 0;
  padding: 0;
  font-size: inherit;
  line-height: 1.6;
  font-weight: inherit;
}
.new-experience__title + a,
.new-experience__title + pfe-cta {
  display: inline-block;
  margin-top: 1.5em;
}
.new-experience__secondary-content {
  min-width: 12.5rem;
}
@media (min-width: 48rem) {
  .new-experience__secondary-content {
    text-align: right;
  }
}
#content .example {
  margin-bottom: 2rem;
  padding: 1rem 0 1rem 1rem;
  border-left: 0.3125rem solid #ccc;
}
dl.calloutlist[class] {
  display: grid;
  grid-template-columns: min-content 1fr;
  gap: 1.25em 0.75em;
}
dl.calloutlist[class] dt {
  float: none;
  margin: 0;
  padding: 0;
}
dl.calloutlist[class] dd {
  margin: 0;
  padding: 0;
}
dl.calloutlist[class] dd > :first-child {
  margin-top: 0;
}
dl.calloutlist[class] dd > :last-child {
  margin-bottom: 0;
}
.toast {
  position: fixed;
  right: 0.9375rem;
  bottom: 0.9375rem;
  left: 0.9375rem;
  z-index: 999;
  min-width: 6.25rem;
  max-width: 32.8125rem;
  padding: 0.9375rem;
  color: #fff;
  background-color: #000;
  background-color: rgba(0, 0, 0, 0.9);
  box-shadow: 0 0.125rem 0.3125rem 0 rgba(0, 0, 0, 0.26);
  transition: transform 0.2s cubic-bezier(0.465, 0.183, 0.153, 0.946);
  transform: translate3d(0, 150%, 0);
  will-change: transform;
}
.toast.show {
  transform: translateZ(0);
}
.toast a {
  color: #fff;
  text-decoration: underline;
}
.toast a:focus,
.toast a:hover {
  color: #2b9af3;
}
.toast a.btn {
  text-decoration: none;
}
.toast .btn.btn-link {
  color: #fff;
}
.toast .close {
  opacity: 0.3;
  color: #fff;
  text-decoration: none;
}
.toast .close:focus,
.toast .close:hover {
  opacity: 0.5;
  color: #fff;
}
.no-csstransforms3d.csstransitions .toast {
  transition: all 0.2s cubic-bezier(0.465, 0.183, 0.153, 0.946);
}
.no-csstransforms3d .toast {
  visibility: hidden;
  opacity: 0;
}
.no-csstransforms3d .toast.show {
  visibility: visible;
  opacity: 1;
}
.annotator-outer[class][class] {
  position: static;
  display: none;
  flex-direction: column;
  flex-grow: 1;
  width: auto;
  height: auto;
  margin: 0;
}
@media (min-width: 1400px) {
  .annotator-outer[class][class] {
    display: flex;
  }
}
.annotator-frame[class] * {
  height: auto;
}
@media (min-width: 1400px) {
  .annotator-frame .h-sidebar-iframe[class] {
    position: static;
    width: calc(100% + 1.5rem);
  }
}
.annotator-toolbar[class][class] {
  position: static;
  width: auto;
}
.annotator-toolbar > ul,
.annotator-toolbar > ul > li {
  display: block;
  width: auto;
  height: auto;
  margin: 0;
  padding: 0;
  list-style: none;
}
.annotator-toolbar > ul > li {
  display: flex;
  justify-content: flex-end;
}
.annotator-frame[class] .annotator-frame-button--sidebar_toggle,
.annotator-outer .annotator-frame-button[class][class],
.app-content-wrapper * {
  font-family: RedHatText, Red Hat Text, Helvetica Neue, Arial, sans-serif !important;
}
.annotator-outer .annotator-frame-button[class][class] {
  position: static;
  height: auto;
  margin-right: 1.875rem;
  padding: 0.75em 1em;
  font-size: 0.9375rem;
  line-height: 1.333;
  font-weight: 500;
}
@media (min-width: 1400px) {
  .annotator-outer .annotator-frame-button[class][class] {
    margin-right: 0;
  }
}
.annotator-outer iframe {
  flex-grow: 1;
  margin-bottom: 1.25rem;
}
@media (min-width: 1400px) {
  .annotator-outer iframe {
    min-height: 37.5rem;
  }
}
.producttitle {
  font-size: 1.25rem;
  color: #000;
  text-transform: uppercase;
}
.producttitle .productnumber {
  color: var(--jupiter__palette__red--50, #e00);
}
.cp-modal-open,
.zoom-open {
  overflow: hidden;
}
.cp-modal,
.cp-video-modal,
.zoom-modal {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1040;
  z-index: 1050;
  display: none;
  overflow: hidden;
  opacity: 0;
  filter: alpha(opacity=0);
  outline: 0;
  transition: all 0.2s cubic-bezier(0.465, 0.183, 0.153, 0.946);
  -webkit-overflow-scrolling: touch;
}
.in.cp-modal,
.in.cp-video-modal,
.in.zoom-modal {
  display: block;
  overflow-x: hidden;
  overflow-y: auto;
  opacity: 1;
  filter: alpha(opacity=100);
}
.cp-modal .close,
.cp-video-modal .close,
.zoom-modal .close {
  position: absolute;
  top: 0;
  right: -0.5rem;
  width: 28px;
  width: 1.75rem;
  height: 28px;
  height: 1.75rem;
  margin-top: 0;
  margin-bottom: 0.375rem;
  opacity: 0.9;
  border-radius: 50%;
  font-size: 1.75rem;
  line-height: 1.75rem;
  color: #1a1a1a;
  text-shadow: none;
  background-color: #fff;
}
.cp-modal .close:after,
.cp-video-modal .close:after,
.zoom-modal .close:after {
  line-height: 1.75rem;
}
.cp-modal-wrap,
.zoom-wrap {
  position: relative;
  margin: 0.625rem;
  padding-top: 0.5rem;
}
@media (min-width: 48rem) {
  .cp-modal-wrap,
  .zoom-wrap {
    width: 38.4375rem;
    margin: 2.8125rem auto;
  }
}
@media (min-width: 62rem) {
  .cp-modal-wrap,
  .zoom-wrap {
    width: 49.8958rem;
  }
}
@media (min-width: 75rem) {
  .cp-modal-wrap,
  .zoom-wrap {
    width: 60.3125rem;
  }
}
.cp-modal-body :last-child {
  margin-bottom: 0;
}
.cp-modal-backdrop,
.zoom-backdrop {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1040;
  display: none;
  opacity: 0;
  filter: alpha(opacity=0);
  background-color: #000;
  transition: opacity 0.2s cubic-bezier(0.465, 0.183, 0.153, 0.946);
}
.in.cp-modal-backdrop,
.in.zoom-backdrop {
  display: block;
  opacity: 0.8;
  filter: alpha(opacity=80);
}
.cp-modal-body {
  padding: 1.875rem;
  background: #fff;
}
.cp-modal[data-cp-modal-video='true'] .cp-modal-body,
.cp-video-modal .cp-modal-body {
  padding: 0;
}
[data-action='zoom'] {
  position: relative;
}
[data-action='zoom']:after {
  position: absolute;
  right: 0;
  bottom: 0;
  display: inline-block;
  padding: 0.375rem;
  line-height: 1;
  font-family: rh-web-iconfont;
  color: #fff;
  font-weight: 400;
  font-style: normal;
  font-variant: normal;
  text-decoration: inherit;
  text-decoration: none !important;
  text-transform: none !important;
  background: rgba(0, 0, 0, 0.4);
  text-rendering: optimizeLegibility;
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  font-smoothing: antialiased;
}
[data-action='zoom']:focus:after,
[data-action='zoom']:hover:after {
  background: rgba(0, 0, 0, 0.9);
}
.zoom-wrap .zoom-larger {
  text-align: center;
}
.zoom-wrap .zoom-larger a {
  color: #fff;
}
.zoom-wrap .zoom-larger a:focus,
.zoom-wrap .zoom-larger a:hover {
  color: #fff;
  text-decoration: underline;
}
.zoom-wrap .zoom-larger a:after {
  content: 'â¿»';
  display: inline-block;
  margin-left: 0.25rem;
}
.zoom-body {
  margin: 0 0 1rem;
  padding: 1rem;
  border-radius: 0.5rem;
  text-align: center;
  background: #fff;
}
.zoom-body .video-wrapper {
  position: relative;
  overflow: hidden;
  height: 0;
  padding-bottom: 56.25%;
}
.zoom-body .video-wrapper[data-aspect-ratio='4:3'] {
  padding-bottom: 75%;
}
.zoom-body iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.para > .title[class],
p.title[class] {
  margin: 1.25rem 0 0;
  font-size: 1rem;
  line-height: 1.6667;
  font-weight: 700;
  font-style: normal;
  text-transform: none;
}
.para > .title[class] + .content > :first-child,
.para > .title[class] + p,
p.title[class] + .content > :first-child,
p.title[class] + p {
  margin-top: 0;
}
#content[class] pre .caution,
#content[class] pre .important,
#content[class] pre .note,
#content[class] pre .tip,
#content[class] pre .warning {
  margin: 0;
  padding: 0;
  border: 0;
  font: inherit;
  color: inherit;
  background: transparent;
}
#content[class] pre .caution:after,
#content[class] pre .important:after,
#content[class] pre .note:after,
#content[class] pre .tip:after,
#content[class] pre .warning:after {
  content: none;
}
#content[class] code.email {
  padding: 0;
  font: inherit;
  background-color: transparent;
}
#content[class] .author {
  margin-bottom: 1.5rem;
}
#content[class] .author .author {
  margin-bottom: 0;
}
table {
  margin: 2rem 0;
}
#content[class] table {
  width: auto;
}
table .table-contents table {
  max-width: 100%;
  overflow: auto;
}
rh-table table {
  max-width: 9999em;
  margin: 0;
  overflow: visible;
}
#content td,
#content th {
  padding: 0.5em 1rem;
  border-left: 0;
  transition: background 0.25s ease-out;
}
#content td.content--md[class][class],
#content th.content--md[class][class] {
  min-width: 13em;
}
#content td.content--lg[class][class],
#content th.content--lg[class][class] {
  min-width: 20em;
}
#content thead th {
  padding-top: 1.5em;
}
#content caption {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  color: currentColor;
  color: var(--pfe-table__caption--Color, currentColor);
  font-weight: 700;
  text-align: center;
}
#content .revhistory table td,
#content .revhistory table th {
  border-color: transparent;
}
#content .revhistory table td {
  padding: 0.625rem 0.875rem;
}
#content .revhistory table.simplelist {
  margin: 0;
}
@media print {
  #masthead {
    display: none !important;
  }
}
.main-content[class] {
  padding-top: 0;
  padding-bottom: 0;
}
@media (min-width: 1000px) {
  .j-superdoc {
    display: grid;
    grid-template-rows: min-content 1fr;
    grid-template-columns: repeat(12, minmax(0, 1fr));
    gap: 0 1.5rem;
    padding: 0 1.5rem;
  }
}
#toc {
  grid-row: 1 / span 2;
  grid-column: 1 / span 4;
  display: flex;
  flex-direction: column;
  position: sticky;
  top: 0;
  box-shadow: 0 0.3125rem 1.0625rem 0 rgba(0, 0, 0, 0.15);
}
@media (min-width: 1000px) {
  #toc {
    position: static;
    grid-row: 1 / span 2;
    grid-column: 1 / span 4;
    border: 0;
    box-shadow: 0.1875rem 0 0.1875rem 0 rgba(0, 0, 0, 0.08);
  }
}
@media (min-width: 1400px) {
  #toc{
    grid-column: 1 / span 3;
  }
}
@media (min-width: 1000px) {
  .j-reading-mode--enabled #toc {
    overflow: hidden;
    width: 0;
  }
}
@media (min-width: 1000px) {
  .j-reading-mode--animation-complete #toc {
    visibility: hidden;
  }
}
@media print {
  #toc {
    display: none !important;
  }
}
.j-superdoc__product-title {
  display: flex;
}
.j-superdoc__product-title__name {
  display: inline-block;
  margin-right: 1rem;
}
.j-superdoc__product-title__version {
  display: inline-block;
  color: #d0021b;
}
.rhdocs__header .rhdocs-content-type,
.rhdocs__header .rhdocs__header__secondary-wrapper {
  display: none;
}
#content {
  left: 0;
  max-width: 45.8125rem;
  margin-top: 3.9375rem;
  margin-right: auto;
  margin-left: auto;
  padding-right: 1.5rem;
  padding-bottom: 2.5rem;
  padding-left: 1.5rem;
  transition: left 0.25s ease;
}
@media (min-width: 1000px) {
  #content {
    justify-self: center;
    grid-row: 2;
    grid-column: 5/-1;
    max-width: 100%;
    padding-right: 0;
    padding-left: 0;
  }
}
@media (min-width: 1400px) {
  #content {
    grid-row: 1;
    grid-column: 4/11;
    max-width: 42.8125rem;
  }
}
@media print {
  #content {
    grid-column: 1/-1 !important;
    width: 100% !important;
    margin-right: auto !important;
    margin-left: auto !important;
  }
}
@media (min-width: 1000px) {
  .j-reading-mode--enabled #content {
    position: relative;
    left: calc(
      -16.66667vw - -0.75rem - var(--scrollbarWidth, 40px) / 12 * 4 / -2
    );
  }
}
@media (min-width: 1400px) {
  .j-reading-mode--enabled #content {
    left: calc(-12.5vw - -0.75rem - var(--scrollbarWidth, 40px) / 12 * 3 / -2);
  }
}
.j-doc__tertiary-sidebar {
  background: #fff;
  transition: box-shadow 0.25s ease;
}
@media (min-width: 1000px) {
  .j-doc__tertiary-sidebar {
    grid-column: 5/-1;
    padding-top: 2.5rem;
  }
}
@media (min-width: 1400px) {
  .j-doc__tertiary-sidebar {
    grid-column: -3/-1;
    width: auto;
    height: auto;
    transition: none;
  }
}
.js .j-doc__tertiary-sidebar {
  padding: 0.5em 0;
}
@media (min-width: 1000px) {
  .js .j-doc__tertiary-sidebar {
    position: sticky;
    top: -0.0625rem;
    z-index: 1;
    grid-row: 1;
    margin: 0 -1.5rem;
  }
}
@media (min-width: 1400px) {
  .js .j-doc__tertiary-sidebar {
    position: static;
    display: block;
    margin: 3.9375rem 0 0;
    padding: 0;
  }
}
@media print {
  .j-doc__tertiary-sidebar {
    display: none !important;
  }
}
@media (min-width: 1000px) {
  .j-doc__tertiary-sidebar--sticky {
    z-index: 5;
    background: #fff;
    box-shadow: 0.1875rem 0 0.1875rem 0 rgba(0, 0, 0, 0.25);
  }
}
@media (min-width: 1000px) and (min-width: 1400px) {
  .j-doc__tertiary-sidebar--sticky {
    position: static;
    box-shadow: none;
  }
}
@media (min-width: 1000px) {
  .j-reading-mode--enabled .j-doc__tertiary-sidebar--sticky {
    grid-column: 1/-1;
  }
}
@media (min-width: 1400px) {
  .j-reading-mode--enabled .j-doc__tertiary-sidebar--sticky {
    grid-column: -3/-1;
  }
}
@media (min-width: 1200px) {
  .j-doc__tertiary-sidebar__inner {
    position: sticky;
    top: 2.5rem;
  }
}
.rh-table--is-full-screen #to-top {
  display: none;
}
/* Additional styles   */

/* Toc  in fixed position
#toc {
  position: fixed;
  top:  0;
  left: 0;
  width: 300px;
}
/* Build: h1 then #content
h1 {
  position: relative;
  left: 350px;
}
#content {
  position: relative;
  left: 0;
  margin-left: 350px;
}
/* Preview: h1 in #content
#content > h1 {
  position: relative;
  left: 0;
}
#content > #toc {
  position: relative;
  left: 0;
}
*/

</style>
</head>
<body id="title-admin" class="book">
<div id="header">
<h1>Administration guide for Red Hat Developer Hub</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#snip-customer-support-info_admin-rhdh">Red Hat Developer Hub support</a></li>
<li><a href="#proc-install-operator_admin-rhdh">1. Installing the Red Hat Developer Hub Operator</a></li>
<li><a href="#assembly-install-rhdh-ocp">2. Deploying Red Hat Developer Hub on OpenShift Container Platform</a>
<ul class="sectlevel2">
<li><a href="#proc-install-rhdh-ocp-helm_admin-rhdh">2.1. Deploying Red Hat Developer Hub on OpenShift Container Platform using Helm Chart</a></li>
<li><a href="#proc-install-rhdh-ocp-operator_admin-rhdh">2.2. Deploying Red Hat Developer Hub on OpenShift Container Platform using the Operator</a></li>
</ul>
</li>
<li><a href="#enabling-authentication">3. Enabling authentication in Red Hat Developer Hub</a>
<ul class="sectlevel2">
<li><a href="#proc-adding-azure-as-an-authentication-provider_admin-rhdh">3.1. Enabling the Microsoft Azure authentication provider</a></li>
<li><a href="#proc-adding-gitlab-oauth-as-an-authentication-provider_admin-rhdh">3.2. Enabling the GitLab OAuth authentication provider</a></li>
</ul>
</li>
<li><a href="#assembly-rhdh-telemetry_admin-rhdh">4. Telemetry data collection</a>
<ul class="sectlevel2">
<li><a href="#disabling-telemetry-data-collection_admin-rhdh">4.1. Disabling telemetry data collection in RHDH</a></li>
<li><a href="#enabling-telemetry-data-collection_admin-rhdh">4.2. Enabling telemetry data collection in RHDH</a></li>
<li><a href="#customizing-telemetry-segment_admin-rhdh">4.3. Customizing telemetry Segment source</a></li>
</ul>
</li>
<li><a href="#assembly-running-rhdh-behind-a-proxy">5. Running the RHDH application behind a corporate proxy</a>
<ul class="sectlevel2">
<li><a href="#proc-configuring-proxy-in-helm-deployment_admin-rhdh">5.1. Configuring proxy information in Helm deployment</a></li>
<li><a href="#proc-configuring-proxy-in-operator-deployment_admin-rhdh">5.2. Configuring proxy information in Operator deployment</a></li>
</ul>
</li>
<li><a href="#assembly-rhdh-integration-aws_admin-rhdh">6. Red Hat Developer Hub integration with Amazon Web Services (AWS)</a>
<ul class="sectlevel2">
<li><a href="#proc-rhdh-deploy-eks-using-helm_admin-rhdh">6.1. Deploying Red Hat Developer Hub in Elastic Kubernetes Service (EKS) using Helm Chart</a></li>
<li><a href="#proc-rhdh-deploy-eks-using-operator_admin-rhdh">6.2. Deploying Red Hat Developer Hub on Elastic Kubernetes Service (EKS) using the Operator</a></li>
<li><a href="#proc-rhdh-monitoring-logging-aws_admin-rhdh">6.3. Monitoring and logging with Amazon Web Services (AWS) in Red Hat Developer Hub</a></li>
<li><a href="#proc-using-aws-cognito-auth-provider_admin-rhdh">6.4. Using Amazon Cognito as an authentication provider in Red Hat Developer Hub</a></li>
</ul>
</li>
<li><a href="#assembly-rhdh-integration-aks_admin-rhdh">7. Red Hat Developer Hub integration with Microsoft Azure Kubernetes Service (AKS)</a>
<ul class="sectlevel2">
<li><a href="#proc-rhdh-deploy-aks_admin-rhdh">7.1. Deploying Red Hat Developer Hub on Azure Kubernetes Service (AKS)</a></li>
<li><a href="#proc-rhdh-monitoring-logging-aks_admin-rhdh">7.2. Monitoring and logging with Azure Kubernetes Services (AKS) in Red Hat Developer Hub</a></li>
<li><a href="#proc-using-azure-auth-provider_admin-rhdh">7.3. Using Microsoft Azure as an authentication provider in Red Hat Developer Hub</a></li>
</ul>
</li>
<li><a href="#con-rbac-overview_admin-rhdh">8. Role-Based Access Control (RBAC) in Red Hat Developer Hub</a>
<ul class="sectlevel2">
<li><a href="#con-rbac-config-permission-policies_admin-rhdh">8.1. Permission policies configuration</a></li>
<li><a href="#proc-rbac-ui-manage-roles_admin-rhdh">8.2. Managing role-based access controls (RBAC) using the Red Hat Developer Hub Web UI</a></li>
<li><a href="#con-rbac-rest-api_admin-rhdh">8.3. Role-based Access Control (RBAC) REST API</a></li>
</ul>
</li>
<li><a href="#assembly-admin-templates">9. Managing templates</a>
<ul class="sectlevel2">
<li><a href="#proc-creating-templates_assembly-admin-templates">9.1. Creating a template by using the Template Editor</a></li>
<li><a href="#ref-creating-templates_assembly-admin-templates">9.2. Creating a template as a YAML file</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Red Hat Developer Hub is an enterprise-grade, open developer platform that you can use to build developer portals. This platform contains a supported and opinionated framework that helps reduce the friction and frustration of developers while boosting their productivity.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="snip-customer-support-info_admin-rhdh">Red Hat Developer Hub support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you experience difficulty with a procedure described in this documentation, visit the <a href="http://access.redhat.com">Red Hat Customer Portal</a>. You can use the Red Hat Customer Portal for the following purposes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To search or browse through the Red Hat Knowledgebase of technical support articles about Red Hat products.</p>
</li>
<li>
<p>To create a <a href="https://access.redhat.com/support/cases/#/case/new/get-support?caseCreate=true">support case</a> for Red Hat Global Support Services (GSS). For support case creation, select <strong>Red Hat Developer Hub</strong> as the product and select the appropriate product version.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="proc-install-operator_admin-rhdh">1. Installing the Red Hat Developer Hub Operator</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As an administrator, you can install the Red Hat Developer Hub Operator. Authorized users can use the Operator to install Red Hat Developer Hub on the following platforms:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Red Hat OpenShift Container Platform (RHOCP)</p>
</li>
<li>
<p>Amazon Elastic Kubernetes Service (EKS)</p>
</li>
<li>
<p>Microsoft Azure Kubernetes Service (AKS)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>RHOCP is currently supported from version 4.12 to 4.15. See also the <a href="https://access.redhat.com/support/policy/updates/developerhub">Red Hat Developer Hub Life Cycle</a>.</p>
</div>
<div class="paragraph">
<p>Containers are available for the following CPU architectures:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>AMD64 and Intel 64 (x86_64)</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You are logged in as an administrator on the OpenShift Container Platform web console.</p>
</li>
<li>
<p>You have configured the appropriate roles and permissions within your project to create an application. For more information, see the <a href="https://docs.openshift.com/container-platform/4.15/applications/index.html">Red Hat OpenShift documentation on Building applications</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the <strong>Administrator</strong> perspective of the OpenShift Container Platform web console, navigate to <strong>Operators</strong> &gt; <strong>OperatorHub</strong>.</p>
</li>
<li>
<p>In the <strong>Filter by keyword</strong> box, enter Developer Hub and click the <strong>Red Hat Developer Hub</strong> Operator card.</p>
</li>
<li>
<p>On the <strong>Red Hat Developer Hub Operator</strong> page, click <strong>Install</strong>.</p>
</li>
<li>
<p>On the <strong>Install Operator</strong> page, click <strong>Install</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>To view the installed Red Hat Developer Hub Operator, click <strong>View operator</strong>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
For enhanced security, deploy the Red Hat Developer Hub Operator in a dedicated default namespace such as <code>rhdh-operator</code>. The cluster administrator can restrict other users' access to the operator resources through role bindings or cluster role bindings. You can choose to deploy the operator in the <code>openshift-operators</code> namespace instead, however, the Red Hat Developer Hub operator shares the namespace with other operators, and therefore any users who can create workloads in that namespace can get their privileges escalated from all operators' service accounts.
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p>For more information about installing Developer Hub, see <a href="#proc-install-rhdh-ocp-operator_admin-rhdh">Deploying Red Hat Developer Hub on OpenShift Container Platform using the Operator</a>.</p>
</li>
<li>
<p>For more information about installing Operators, see <a href="https://docs.openshift.com/container-platform/4.15/operators/admin/olm-adding-operators-to-cluster.html#olm-installing-from-operatorhub-using-web-console_olm-adding-operators-to-a-cluster">Installing from OperatorHub using the web console</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assembly-install-rhdh-ocp">2. Deploying Red Hat Developer Hub on OpenShift Container Platform</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can install Red Hat Developer Hub on OpenShift Container Platform using one of the following methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Helm chart</p>
</li>
<li>
<p>The Red Hat Developer Hub Operator</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="proc-install-rhdh-ocp-helm_admin-rhdh">2.1. Deploying Red Hat Developer Hub on OpenShift Container Platform using Helm Chart</h3>
<div class="paragraph">
<p>You can use a Helm chart in Red Hat OpenShift Container Platform to install Developer Hub,  which is a flexible installation method.</p>
</div>
<div class="paragraph">
<p>Helm is a package manager on OpenShift Container Platform that provides the following features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Applies regular application updates using custom hooks</p>
</li>
<li>
<p>Manages the installation of complex applications</p>
</li>
<li>
<p>Provides charts that you can host on public and private servers</p>
</li>
<li>
<p>Supports rolling back to previous application versions</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Red Hat Developer Hub Helm chart is available in the Helm catalog on OpenShift Dedicated and OpenShift Container Platform.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You are logged in to your OpenShift Container Platform account.</p>
</li>
<li>
<p>A user with the OpenShift Container Platform <code>admin</code> role has configured the appropriate roles and permissions within your project to create an application. For more information about OpenShift Container Platform roles, see <a href="https://docs.openshift.com/container-platform/4.15/authentication/using-rbac.html">Using RBAC to define and apply permissions</a>.</p>
</li>
<li>
<p>You have created a project in OpenShift Container Platform. For more information about creating a project in OpenShift Container Platform, see <a href="https://docs.openshift.com/container-platform/4.15/applications/projects/working-with-projects.html#odc-creating-projects-using-developer-perspective_projects">Red Hat OpenShift Container Platform documentation</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>From the <strong>Developer</strong> perspective on the Developer Hub web console, click <strong>+Add</strong>.</p>
</li>
<li>
<p>From the <strong>Developer Catalog</strong> panel, click <strong>Helm Chart</strong>.</p>
</li>
<li>
<p>In the <strong>Filter by keyword</strong> box, enter <em>Developer Hub</em> and click the <strong>Red Hat Developer Hub</strong> card.</p>
</li>
<li>
<p>From the Red Hat Developer Hub page, click <strong>Create</strong>.</p>
</li>
<li>
<p>From your cluster, copy the OpenShift Container Platform router host (for example: <code>apps.&lt;clusterName&gt;.com</code>).</p>
</li>
<li>
<p>Select the radio button to configure the Developer Hub instance with either the form view or YAML view. The Form view is selected by default.</p>
<div class="ulist">
<ul>
<li>
<p>Using <strong>Form view</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>To configure the instance with the Form view, go to <strong>Root Schema</strong> &#8594; <strong>global</strong> &#8594; <strong>Enable service authentication within Backstage instance</strong> and paste your OpenShift Container Platform router host into the field on the form.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Using <strong>YAML view</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>To configure the instance with the YAML view, paste your OpenShift Container Platform router hostname in the <code>global.clusterRouterBase</code> parameter value as shown in the following example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">global:
  auth:
    backend:
      enabled: true
  clusterRouterBase: apps.&lt;clusterName&gt;.com
  # other Red Hat Developer Hub Helm Chart configurations</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Edit the other values if needed.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The information about the host is copied and can be accessed by the Developer Hub backend.</p>
</div>
<div class="paragraph">
<p>When an OpenShift Container Platform route is generated automatically, the host value for the route is inferred and the same host information is sent to the Developer Hub. Also, if the Developer Hub is present on a custom domain by setting the host manually using values, the custom host takes precedence.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Click <strong>Create</strong> and wait for the database and Developer Hub to start.</p>
</li>
<li>
<p>Click the <strong>Open URL</strong> icon to start using the Developer Hub platform.</p>
<div class="imageblock">
<div class="content">
<img src="images/rhdh/rhdh-helm-install.png" alt="rhdh helm install">
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Your <code>developer-hub</code> pod might be in a <code>CrashLoopBackOff</code> state if the Developer Hub container cannot access the configuration files. This error is indicated by the following log:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-log" data-lang="log">Loaded config from app-config-from-configmap.yaml, env
...
2023-07-24T19:44:46.223Z auth info Configuring "database" as KeyStore provider type=plugin
Backend failed to start up Error: Missing required config value at 'backend.database.client'</code></pre>
</div>
</div>
<div class="paragraph">
<p>To resolve the error, verify the configuration files.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="proc-add-custom-app-file-openshift-helm_admin-rhdh">2.1.1. Adding a custom application configuration file to OpenShift Container Platform using the Helm chart</h4>
<div class="paragraph">
<p>You can use the Red Hat Developer Hub Helm chart to add a custom application configuration file to your OpenShift Container Platform instance.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have created an Red Hat OpenShift Container Platform account.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>From the OpenShift Container Platform web console, select the <strong>ConfigMaps</strong> tab.</p>
</li>
<li>
<p>Click <strong>Create ConfigMap</strong>.</p>
</li>
<li>
<p>From <strong>Create ConfigMap</strong> page, select the <strong>YAML view</strong> option in <strong>Configure via</strong> and make changes to the file, if needed.</p>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
</li>
<li>
<p>Go to the <strong>Helm</strong> tab to see the list of Helm releases.</p>
</li>
<li>
<p>Click the overflow menu on the Helm release that you want to use and select <strong>Upgrade</strong>.</p>
</li>
<li>
<p>Use either the <strong>Form view</strong> or <strong>YAML view</strong> to edit the Helm configuration.</p>
<div class="ulist">
<ul>
<li>
<p>Using <strong>Form view</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Expand <strong>Root Schema → Backstage chart schema → Backstage parameters → Extra app configuration files to inline into command arguments</strong>.</p>
</li>
<li>
<p>Click the <strong>Add Extra app configuration files to inline into command arguments</strong> link.</p>
</li>
<li>
<p>Enter the value in the following fields:</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><strong>configMapRef</strong>: <code>app-config-rhdh</code></p>
</li>
<li>
<p><strong>filename</strong>: <code>app-config-rhdh.yaml</code></p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Click <strong>Upgrade</strong>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Using <strong>YAML view</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Set the value of the <code>upstream.backstage.extraAppConfig.configMapRef</code> and <code>upstream.backstage.extraAppConfig.filename</code> parameters as follows:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># ... other Red Hat Developer Hub Helm Chart configurations
upstream:
  backstage:
    extraAppConfig:
      - configMapRef: app-config-rhdh
        filename: app-config-rhdh.yaml
# ... other Red Hat Developer Hub Helm Chart configurations</code></pre>
</div>
</div>
</li>
<li>
<p>Click <strong>Upgrade</strong>.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="proc-install-rhdh-airgapped-environment-ocp-helm_admin-rhdh">2.1.2. Installing Red Hat Developer Hub using the Helm Chart in an air-gapped environment</h4>
<div class="paragraph">
<p>An air-gapped environment, also known as an air-gapped network or isolated network, ensures security by physically segregating the system or network. This isolation is established to prevent unauthorized access, data transfer, or communication between the air-gapped system and external sources.</p>
</div>
<div class="paragraph">
<p>You can install Red Hat Developer Hub in an air-gapped environment to ensure security and meet specific regulatory requirements.</p>
</div>
<div class="paragraph">
<p>To install Developer Hub in an air-gapped environment, you must have access to the <code>registry.redhat.io</code> and the registry for the air-gapped environment.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have installed an Red Hat OpenShift Container Platform 4.12 or later.</p>
</li>
<li>
<p>You have access to the <code>registry.redhat.io</code>.</p>
</li>
<li>
<p>You have access to the Red Hat OpenShift Container Platform image registry of your cluster. For more information about exposing the image registry, see the Red Hat OpenShift Container Platform documentation about <a href="https://docs.openshift.com/container-platform/4.15/registry/securing-exposing-registry.html">Exposing the registry</a>.</p>
</li>
<li>
<p>You have installed the <code>oc</code> command line tool on your workstation.</p>
</li>
<li>
<p>You have installed the <code>podman</code> command line tools on your workstation.</p>
</li>
<li>
<p>You you have an account in <a href="https://developers.redhat.com/">Red Hat Developer</a> portal.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to your OpenShift Container Platform account using the <code>oc</code> command line tool, by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">oc login -u &lt;user&gt; -p &lt;password&gt; https://api.&lt;hostname&gt;:6443</code></pre>
</div>
</div>
</li>
<li>
<p>Log in to the OpenShift Container Platform image registry using the <code>podman</code> command line tool, by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">podman login -u kubeadmin -p $(oc whoami -t) default-route-openshift-image-registry.&lt;hostname&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can run the following commands to get the full host name of the OpenShift Container Platform image registry, and then use the host name in a command to log in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">REGISTRY_HOST=$(oc get route default-route -n openshift-image-registry --template='{{ .spec.host }}')</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">podman login -u kubeadmin -p $(oc whoami -t) $REGISTRY_HOST</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Log in to the <code>registry.redhat.io</code> in <code>podman</code> by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">podman login registry.redhat.io</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information about registry authentication, see <a href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry Authentication</a>.</p>
</div>
</li>
<li>
<p>Pull Developer Hub and PostgreSQL images from <a href="https://catalog.redhat.com/software/containers/search">Red Hat Image registry</a> to your workstation, by running the following commands:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">podman pull registry.redhat.io/rhdh/rhdh-hub-rhel9:{product-chart-version}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">podman pull registry.redhat.io/rhel9/postgresql-15:latest</code></pre>
</div>
</div>
</li>
<li>
<p>Push both images to the internal OpenShift Container Platform image registry by running the following commands:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">podman push --remove-signatures registry.redhat.io/rhdh/rhdh-hub-rhel9:{product-chart-version} default-route-openshift-image-registry.&lt;hostname&gt;/&lt;project_name&gt;/rhdh-hub-rhel9:{product-chart-version}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">podman push --remove-signatures registry.redhat.io/rhel9/postgresql-15:latest default-route-openshift-image-registry.&lt;hostname&gt;/&lt;project_name&gt;/postgresql-15:latest</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information about pushing images directly to the OpenShift Container Platform image registry, see <a href="https://access.redhat.com/solutions/6959306">How do I push an Image directly into the OpenShift 4 registry</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>If an x509 error occurs, verify that you have <a href="https://access.redhat.com/solutions/6088891">installed the CA certificate used for OpenShift Container Platform routes on your system</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Use the following command to verify that both images are present in the internal OpenShift Container Platform registry:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">oc get imagestream -n &lt;project_name&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Enable local image lookup for both images by running the following commands:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">oc set image-lookup postgresql-15</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">oc set image-lookup  rhdh-hub-rhel9</code></pre>
</div>
</div>
</li>
<li>
<p>Go to <strong>YAML view</strong> and update the <code>image</code> section for <code>backstage</code> and <code>postgresql</code> using the following values:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="title">Example values for Developer Hub image</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">upstream:
  backstage:
    image:
      registry: ""
      repository: rhdh-hub-rhel9
      tag: latest</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example values for PostgreSQL image</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">upstream:
  postgresql:
    image:
      registry: ""
      repository: postgresql-15
      tag: latest</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Install the Red Hat Developer Hub using Helm chart. For more information about installing Developer Hub, see <a href="#proc-install-rhdh-ocp-helm_admin-rhdh">Deploying Red Hat Developer Hub on OpenShift Container Platform using Helm Chart</a>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="proc-install-rhdh-ocp-operator_admin-rhdh">2.2. Deploying Red Hat Developer Hub on OpenShift Container Platform using the Operator</h3>
<div class="paragraph">
<p>As a developer, you can deploy a Red Hat Developer Hub instance on OpenShift Container Platform by using the <strong>Developer Catalog</strong> in the Red Hat OpenShift Container Platform web console. This deployment method uses the Red Hat Developer Hub Operator.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>A cluster administrator has installed the Red Hat Developer Hub Operator. For more information, see <a href="#proc-install-operator_admin-rhdh">Installing the Red Hat Developer Hub Operator</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a project in OpenShift Container Platform for your Red Hat Developer Hub instance, or select an existing project.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>For more information about creating a project in OpenShift Container Platform, see <a href="https://docs.openshift.com/container-platform/4.15/applications/projects/working-with-projects.html#creating-a-project-using-the-web-console_projects">Creating a project by using the web console</a> in the Red Hat OpenShift Container Platform documentation.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>From the <strong>Developer</strong> perspective on the OpenShift Container Platform web console, click <strong>+Add</strong>.</p>
</li>
<li>
<p>From the <strong>Developer Catalog</strong> panel, click <strong>Operator Backed</strong>.</p>
</li>
<li>
<p>In the <strong>Filter by keyword</strong> box, enter <em>Developer Hub</em> and click the <strong>Red Hat Developer Hub</strong> card.</p>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
</li>
<li>
<p>Add <a href="#proc-add-custom-app-config-file-ocp-operator_admin-rhdh">custom configurations</a> for the Red Hat Developer Hub instance.</p>
</li>
<li>
<p>On the <strong>Create Backstage</strong> page, click <strong>Create</strong></p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>After the pods are ready, you can access the Red Hat Developer Hub platform by opening the URL.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Confirm that the pods are ready by clicking the pod in the <strong>Topology</strong> view and confirming the <strong>Status</strong> in the <strong>Details</strong> panel. The pod status is <strong>Active</strong> when the pod is ready.</p>
</li>
<li>
<p>From the <strong>Topology</strong> view, click the <strong>Open URL</strong> icon on the Developer Hub pod.</p>
<div class="imageblock">
<div class="content">
<img src="images/rhdh/operator-install-1.png" alt="operator install 1">
</div>
</div>
</li>
</ol>
</div>
<div id="additional-resources_proc-install-rhdh-ocp-operator" class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://docs.openshift.com/container-platform/4.15/applications/index.html">OpenShift Container Platform - Building applications overview</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="proc-add-custom-app-config-file-ocp-operator_admin-rhdh">2.2.1. Adding a custom application configuration file to OpenShift Container Platform using the Operator</h4>
<div class="paragraph">
<p>A custom application configuration file is a <code>ConfigMap</code> object that you can use to change the configuration of your Red Hat Developer Hub instance. If you are deploying your Developer Hub instance on Red Hat OpenShift Container Platform, you can use the Red Hat Developer Hub Operator to add a custom application configuration file to your OpenShift Container Platform instance by creating the <code>ConfigMap</code> object and referencing it in the Developer Hub custom resource (CR).</p>
</div>
<div class="paragraph">
<p>The custom application configuration file contains a sensitive environment variable, named <code>BACKEND_SECRET</code>. This variable contains a mandatory backend authentication key that Developer Hub uses to reference an environment variable defined in an OpenShift Container Platform secret. You must create a secret, named 'secrets-rhdh', and reference it in the Developer Hub CR.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>You are responsible for protecting your Red Hat Developer Hub installation from external and unauthorized access. Manage the backend authentication key like any other secret. Meet strong password requirements, do not expose it in any configuration files, and only inject it into configuration files as an environment variable.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have an active Red Hat OpenShift Container Platform account.</p>
</li>
<li>
<p>Your administrator has installed the Red Hat Developer Hub Operator in OpenShift Container Platform. For more information, see <a href="https://access.redhat.com/documentation/en-us/red_hat_developer_hub/1.3/html-single/administration_guide_for_red_hat_developer_hub/index">Installing the Red Hat Developer Hub Operator</a>.</p>
</li>
<li>
<p>You have created the Red Hat Developer Hub CR in OpenShift Container Platform.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>From the <strong>Developer</strong> perspective in the OpenShift Container Platform web console, select the <strong>ConfigMaps</strong> view.</p>
</li>
<li>
<p>Click <strong>Create ConfigMap</strong>.</p>
</li>
<li>
<p>Select the <strong>YAML view</strong> option in <strong>Configure via</strong> and use the following example as a base template to create a <code>ConfigMap</code> object, such as <code>app-config-rhdh.yaml</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">kind: ConfigMap
apiVersion: v1
metadata:
  name: app-config-rhdh
data:
  "app-config-rhdh.yaml": |
    app:
      title: Red Hat Developer Hub
      baseUrl: https://backstage-&lt;custom_resource_name&gt;-&lt;namespace_name&gt;.&lt;openshift_ingress_domain&gt;
    backend:
      auth:
        keys:
          - secret: "${BACKEND_SECRET}"
      baseUrl: https://backstage-&lt;custom_resource_name&gt;-&lt;namespace_name&gt;.&lt;openshift_ingress_domain&gt;
      cors:
        origin: https://backstage-&lt;custom_resource_name&gt;-&lt;namespace_name&gt;.&lt;openshift_ingress_domain&gt;</code></pre>
</div>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Use the mandatory backend authentication key for Red Hat Developer Hub to reference an environment variable defined in an OpenShift Container Platform secret.</p>
</li>
<li>
<p>Set the external URL of your Red Hat Developer Hub instance in the <code>app.baseUrl</code>, <code>backend.baseUrl</code> and <code>backend.cors.origin</code> fields of the application configuration. By default, the URL is similar to the following example:
<code>https://backstage-&lt;custom_resource_name&gt;-&lt;namespace_name&gt;.&lt;openshift_ingress_domain&gt;;</code>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can use the <code>oc get ingresses.config/cluster -o jsonpath='{.spec.domain}'</code> command to display your ingress domain. If you want to use a different host or sub-domain, customize the CR <code>spec.application.route</code> field and adjust the application configuration accordingly.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
</li>
<li>
<p>Select the <strong>Secrets</strong> view.</p>
</li>
<li>
<p>Click <strong>Create Key/value Secret</strong>.</p>
</li>
<li>
<p>Create a secret named <code>secrets-rhdh</code>.</p>
</li>
<li>
<p>Add a key named <code>BACKEND_SECRET</code> and a base64 encoded string as a value. Use a unique value for each Red Hat Developer Hub instance. For example, you can use the following command to generate a key from your terminal:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">node -p 'require("crypto").randomBytes(24).toString("base64")'</code></pre>
</div>
</div>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
</li>
<li>
<p>Select the <strong>Topology</strong> view.</p>
</li>
<li>
<p>Click the overflow menu for the Red Hat Developer Hub instance that you want to use and select <strong>Edit Backstage</strong> to load the YAML view of the Red Hat Developer Hub instance.</p>
<div class="imageblock">
<div class="content">
<img src="images/rhdh/operator-install-2.png" alt="operator install 2">
</div>
</div>
</li>
<li>
<p>In the CR, enter the name of the custom application configuration config map as the value for the <code>spec.application.appConfig.configMaps</code> field, and enter the name of your secret as the value for the <code>spec.application.extraEnvs.secrets</code> field. For example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: example
spec:
  application:
    appConfig:
      mountPath: /opt/app-root/src
      configMaps:
         - name: app-config-rhdh
    extraEnvs:
      secrets:
         - name: secrets-rhdh
    extraFiles:
      mountPath: /opt/app-root/src
    replicas: 1
    route:
      enabled: true
  database:
    enableLocalDb: true</code></pre>
</div>
</div>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
<li>
<p>Navigate back to the <strong>Topology</strong> view and wait for the Red Hat Developer Hub pod to start.</p>
</li>
<li>
<p>Click the <strong>Open URL</strong> icon to use the Red Hat Developer Hub platform with the configuration changes.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p>For more information about roles and responsibilities in Developer Hub, see <a href="https://access.redhat.com/documentation/en-us/red_hat_developer_hub/1.3/html-single/administration_guide_for_red_hat_developer_hub/index">Role-Based Access Control (RBAC) in Red Hat Developer Hub</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="proc-config-dynamic-plugins-rhdh-operator_admin-rhdh">2.2.2. Configuring dynamic plugins with the Red Hat Developer Hub Operator</h4>
<div class="paragraph">
<p>You can store the configuration for dynamic plugins in a <code>ConfigMap</code> object that your <code>Backstage</code> custom resource (CR) can reference.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If the <code>pluginConfig</code> field references environment variables, you must define the variables in your <code>secrets-rhdh</code> secret.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>From the OpenShift Container Platform web console, select the <strong>ConfigMaps</strong> tab.</p>
</li>
<li>
<p>Click <strong>Create ConfigMap</strong>.</p>
</li>
<li>
<p>From the <strong>Create ConfigMap</strong> page, select the <strong>YAML view</strong> option in <strong>Configure via</strong> and edit the file, if needed.</p>
<div class="listingblock">
<div class="title">Example <code>ConfigMap</code> object using the GitHub dynamic plugin</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">kind: ConfigMap
apiVersion: v1
metadata:
  name: dynamic-plugins-rhdh
data:
  dynamic-plugins.yaml: |
    includes:
      - dynamic-plugins.default.yaml
    plugins:
      - package: './dynamic-plugins/dist/backstage-plugin-catalog-backend-module-github-dynamic'
        disabled: false
        pluginConfig: {}</code></pre>
</div>
</div>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
</li>
<li>
<p>Go to the <strong>Topology</strong> view.</p>
</li>
<li>
<p>Click on the overflow menu for the Red Hat Developer Hub instance that you want to use and select <strong>Edit Backstage</strong> to load the YAML view of the Red Hat Developer Hub instance.</p>
<div class="imageblock">
<div class="content">
<img src="images/rhdh/operator-install-2.png" alt="operator install 2">
</div>
</div>
</li>
<li>
<p>Add the <code>dynamicPluginsConfigMapName</code> field to your <code>Backstage</code> CR. For example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: rhdh.redhat.com/v1alpha1
kind: Backstage
metadata:
  name: my-rhdh
spec:
  application:
# ...
    dynamicPluginsConfigMapName: dynamic-plugins-rhdh
# ...</code></pre>
</div>
</div>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
<li>
<p>Navigate back to the <strong>Topology</strong> view and wait for the Red Hat Developer Hub pod to start.</p>
</li>
<li>
<p>Click the <strong>Open URL</strong> icon to start using the Red Hat Developer Hub platform with the new configuration changes.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Ensure that the dynamic plugins configuration has been loaded, by appending <code>/api/dynamic-plugins-info/loaded-plugins</code> to your Red Hat Developer Hub root URL and checking the list of plugins:</p>
<div class="listingblock">
<div class="title">Example list of plugins</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">[
  {
    "name": "backstage-plugin-catalog-backend-module-github-dynamic",
    "version": "0.5.2",
    "platform": "node",
    "role": "backend-plugin-module"
  },
  {
    "name": "backstage-plugin-techdocs",
    "version": "1.10.0",
    "role": "frontend-plugin",
    "platform": "web"
  },
  {
    "name": "backstage-plugin-techdocs-backend-dynamic",
    "version": "1.9.5",
    "platform": "node",
    "role": "backend-plugin"
  },
]</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="proc-install-rhdh-airgapped-environment-ocp-operator_admin-rhdh">2.2.3. Installing Red Hat Developer Hub using the Operator in an air-gapped environment</h4>
<div class="paragraph">
<p>On an OpenShift Container Platform cluster operating on a restricted network, public resources are not available. However, deploying the Red Hat Developer Hub Operator and running Developer Hub requires the following public resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Operator images (bundle, operator, catalog)</p>
</li>
<li>
<p>Operands images (RHDH, PostgreSQL)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To make these resources available, replace them with their equivalent resources in a mirror registry accessible to the OpenShift Container Platform cluster.</p>
</div>
<div class="paragraph">
<p>You can use a helper script that mirrors the necessary images and provides the necessary configuration to ensure those images will be used when installing the Red Hat Developer Hub Operator and creating Developer Hub instances.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This script requires a target mirror registry which you should already have installed if your OpenShift Container Platform cluster is ready to operate on a restricted network. However, if you are preparing your cluster for disconnected usage, you can use the script to deploy a mirror registry in the cluster and use it for the mirroring process.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have an active <code>oc</code> session with administrative permissions to the OpenShift Container Platform cluster. See <a href="https://docs.openshift.com/container-platform/4.15/cli_reference/openshift_cli/getting-started-cli.html">Getting started with the OpenShift CLI</a>.</p>
</li>
<li>
<p>You have an active <code>oc registry</code> session to the <code>registry.redhat.io</code> Red Hat Ecosystem Catalog. See <a href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry Authentication</a>.</p>
</li>
<li>
<p>The <code>opm</code> CLI tool is installed. See <a href="https://docs.openshift.com/container-platform/4.15/cli_reference/opm/cli-opm-install.html">Installing the opm CLI</a>.</p>
</li>
<li>
<p>The jq package is installed. See <a href="https://jqlang.github.io/jq/download/">Download jq</a>.</p>
</li>
<li>
<p>Podman is installed. See <a href="https://podman.io/docs/installation">Podman Installation Instructions</a>.</p>
</li>
<li>
<p>Skopeo version 1.14 or higher is installed. <a href="https://github.com/containers/skopeo/blob/main/install.md">See Installing Skopeo</a>.</p>
</li>
<li>
<p>If you already have a mirror registry for your cluster, an active Skopeo session with administrative access to this registry is required. See <a href="https://github.com/containers/skopeo#authenticating-to-a-registry">Authenticating to a registry</a> and <a href="https://docs.openshift.com/container-platform/4.15/installing/disconnected_install/installing-mirroring-installation-images.html">Mirroring images for a disconnected installation</a>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The internal OpenShift Container Platform cluster image registry cannot be used as a target mirror registry. See <a href="https://docs.openshift.com/container-platform/4.15/installing/disconnected_install/installing-mirroring-installation-images.html#installation-about-mirror-registry_installing-mirroring-installation-images">About the mirror registry</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>If you prefer to create your own mirror registry, see <a href="https://docs.openshift.com/container-platform/4.15/installing/disconnected_install/installing-mirroring-creating-registry.html">Creating a mirror registry with mirror registry for Red Hat OpenShift</a>.</p>
</li>
<li>
<p>If you do not already have a mirror registry, you can use the helper script to create one for you and you need the following additional prerequisites:</p>
<div class="ulist">
<ul>
<li>
<p>The cURL package is installed. For Red Hat Enterprise Linux, the curl command is available by installing the curl package. To use curl for other platforms, see the <a href="https://curl.se/">cURL website</a>.</p>
</li>
<li>
<p>The <code>htpasswd</code> command is available. For Red Hat Enterprise Linux, the <code>htpasswd</code> command is available by installing the <code>httpd-tools</code> package.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download and run the mirroring script to install a custom Operator catalog and mirror the related images: <code>prepare-restricted-environment.sh</code> (<a href="https://github.com/janus-idp/operator/blob/1.1.x/.rhdh/scripts/prepare-restricted-environment.sh">source</a>).</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">curl -sSLO https://raw.githubusercontent.com/janus-idp/operator/1.1.x/.rhdh/scripts/prepare-restricted-environment.sh

# if you do not already have a target mirror registry
# and want the script to create one for you
# use the following example:
bash prepare-restricted-environment.sh \
   --prod_operator_index "registry.redhat.io/redhat/redhat-operator-index:v4.14" \
   --prod_operator_package_name "rhdh" \
   --prod_operator_bundle_name "rhdh-operator" \
   --prod_operator_version "v1.1.1"

# if you already have a target mirror registry
# use the following example:
bash prepare-restricted-environment.sh \
   --prod_operator_index "registry.redhat.io/redhat/redhat-operator-index:v4.14" \
   --prod_operator_package_name "rhdh" \
   --prod_operator_bundle_name "rhdh-operator" \
   --prod_operator_version "v1.1.1" \
   --use_existing_mirror_registry "my_registry"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The script can take several minutes to complete as it copies multiple images to the mirror registry.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="enabling-authentication">3. Enabling authentication in Red Hat Developer Hub</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Authentication within Red Hat Developer Hub facilitates user sign-in, identification, and access to external resources.
It supports multiple authentication providers.</p>
</div>
<div class="paragraph">
<p>Authentication providers are typically used in the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>One provider for sign-in and identification.</p>
</li>
<li>
<p>Additional providers for accessing external resources.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Red Hat Developer Hub supports the following authentication providers:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Auth0</dt>
<dd>
<p><code>auth0</code></p>
</dd>
<dt class="hdlist1">Atlassian</dt>
<dd>
<p><code>atlassian</code></p>
</dd>
<dt class="hdlist1">Microsoft Azure</dt>
<dd>
<p><code>microsoft</code></p>
</dd>
<dt class="hdlist1">Microsoft Azure Easy Auth</dt>
<dd>
<p><code>azure-easyauth</code></p>
</dd>
<dt class="hdlist1">Bitbucket</dt>
<dd>
<p><code>bitbucket</code></p>
</dd>
<dt class="hdlist1">Bitbucket Server</dt>
<dd>
<p><code>bitbucketServer</code></p>
</dd>
<dt class="hdlist1">Cloudflare Access</dt>
<dd>
<p><code>cfaccess</code></p>
</dd>
<dt class="hdlist1">GitHub</dt>
<dd>
<p><code>github</code></p>
</dd>
<dt class="hdlist1">GitLab</dt>
<dd>
<p><code>gitlab</code></p>
</dd>
<dt class="hdlist1">Google</dt>
<dd>
<p><code>google</code></p>
</dd>
<dt class="hdlist1">Google IAP</dt>
<dd>
<p><code>gcp-iap</code></p>
</dd>
<dt class="hdlist1">OIDC</dt>
<dd>
<p><code>oidc</code></p>
</dd>
<dt class="hdlist1">Okta</dt>
<dd>
<p><code>okta</code></p>
</dd>
<dt class="hdlist1">OAuth 2 Custom Proxy</dt>
<dd>
<p><code>oauth2Proxy</code></p>
</dd>
<dt class="hdlist1">OneLogin</dt>
<dd>
<p><code>onelogin</code></p>
</dd>
<dt class="hdlist1">SAML</dt>
<dd>
<p><code>saml</code></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>For each provider that you want to use, follow the dedicated procedure to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Set up the shared secret that the authentication provider and Red Hat Developer Hub require to communicate.</p>
</li>
<li>
<p>Configure Red Hat Developer Hub to use the authentication provider.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="proc-adding-azure-as-an-authentication-provider_admin-rhdh">3.1. Enabling the Microsoft Azure authentication provider</h3>
<div class="paragraph">
<p>Red Hat Developer Hub includes a Microsoft Azure authentication provider that can authenticate users by using OAuth.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>To allow Developer Hub to authenticate with Microsoft Azure, create an OAuth Application in Microsoft Azure.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Go to <a href="https://portal.azure.com/#view/Microsoft_AAD_RegisteredApps/ApplicationsListBlade"><strong>Azure Portal &gt; App registrations</strong></a>, and create an <strong>App Registration</strong> for Developer Hub.</p>
</li>
<li>
<p>On your <strong>App registration</strong> overview page, add a new <strong>Web platform configuration</strong>, with the configuration:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Redirect URI</strong></dt>
<dd>
<p>Enter the backend authentication URI set in Developer Hub: <code>https://<em>&lt;APP_FQDN&gt;</em>/api/auth/microsoft/handler/frame</code></p>
</dd>
<dt class="hdlist1"><strong>Front-channel logout URL</strong></dt>
<dd>
<p>Leave blank.</p>
</dd>
<dt class="hdlist1"><strong>Implicit grant and hybrid flows</strong></dt>
<dd>
<p>Leave all checkboxes cleared.</p>
</dd>
</dl>
</div>
</li>
<li>
<p>On the <strong>API permissions</strong> tab, click <strong>Add Permission</strong>, then add the following <strong>Delegated permission</strong> for the
<strong>Microsoft Graph API</strong>:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>email</code></dt>
<dt class="hdlist1"><code>offline_access</code></dt>
<dt class="hdlist1"><code>openid</code></dt>
<dt class="hdlist1"><code>profile</code></dt>
<dt class="hdlist1"><code>User.Read</code></dt>
<dt class="hdlist1">(Optional)</dt>
<dd>
<p>Optional custom scopes of the Microsoft Graph API that you define both here and in the Developer Hub configuration (<code>app-config-rhdh.yaml</code>).</p>
</dd>
</dl>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Your company might require you to grant admin consent for these permissions.
Even if your company does not require admin consent, you might do so as it means users do not need to individually consent the first time they access backstage.
To grant admin consent, a directory admin must go to the <a href="https://learn.microsoft.com/en-us/azure/active-directory/manage-apps/user-admin-consent-overview">admin consent</a> page and click <strong>Grant admin consent for COMPANY NAME</strong>.
</td>
</tr>
</table>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Go to the <strong>Certificates &amp; Secrets</strong> page, then the <strong>Client secrets</strong> tab, and create a new client secret.
Save the <strong>Client secret</strong> for the next step.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add your Microsoft Azure credentials in your Developer Hub secrets.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Edit your Developer Hub secrets, such as <code>secrets-rhdh</code>.</p>
</li>
<li>
<p>Add the following key/value pairs:</p>
<div class="ulist">
<ul>
<li>
<p><code>AUTH_AZURE_CLIENT_ID</code>: Enter the <strong>Application ID</strong> that you generated on Microsoft Azure.</p>
</li>
<li>
<p><code>AUTH_AZURE_CLIENT_SECRET</code>: Enter the <strong>Client secret</strong> that you generated on Microsoft Azure.</p>
</li>
<li>
<p><code>AUTH_AZURE_TENANT_ID</code>: Enter your <strong>Tenant ID</strong> on Microsoft Azure.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Set up the Microsoft Azure authentication provider in your Developer Hub custom configuration.</p>
<div class="paragraph">
<p>Edit your custom Developer Hub config map, such as <code>app-config-rhdh</code>.</p>
</div>
<div class="paragraph">
<p>In the <code>app-config-rhdh.yaml</code> content, add the <code>microsoft</code> provider configuration under the root <code>auth</code> configuration, and enable the <code>microsoft</code> provider for sign-in:</p>
</div>
<div class="listingblock">
<div class="title"><code>app-config-rhdh.yaml</code> fragment</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">auth:
  environment: production
  providers:
    microsoft:
      production:
        clientId: ${AUTH_AZURE_CLIENT_ID}
        clientSecret: ${AUTH_AZURE_CLIENT_SECRET}
        tenantId: ${AUTH_AZURE_TENANT_ID}
        # domainHint: ${AUTH_AZURE_TENANT_ID} # <b class="conum">(1)</b>
        # additionalScopes: # <b class="conum">(2)</b>
          # - Mail.Send
signInPage: microsoft # <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Optional for single-tenant applications. You can reduce login friction for users with accounts in multiple tenants by automatically filtering out accounts from other tenants. If you want to use this parameter for a single-tenant application, uncomment and enter the tenant ID. If your application registration is multi-tenant, leave this parameter blank. For more information, see <a href="https://learn.microsoft.com/en-us/azure/active-directory/manage-apps/home-realm-discovery-policy">Home Realm Discovery</a>.</p>
</li>
<li>
<p>Optional for additional scopes. To add scopes for the application registration, uncomment and enter the list of scopes that you want to add.
The default and mandatory value is <code>['user.read']</code>.</p>
</li>
<li>
<p>To enable the Microsoft Azure provider as default sign-in provider.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Optional for environments with restrictions on outgoing access, such as firewall rules. If your environment has outgoing access restrictions make sure your Backstage backend has access to the following hosts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>login.microsoftonline.com</code>: To get and exchange authorization codes and access tokens.</p>
</li>
<li>
<p><code>graph.microsoft.com</code>: To fetch user profile information (as seen in this source code).
If this host is unreachable, users might see an <em>Authentication failed, failed to fetch user profile</em> error when they attempt to log in.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="proc-adding-gitlab-oauth-as-an-authentication-provider_admin-rhdh">3.2. Enabling the GitLab OAuth authentication provider</h3>
<div class="paragraph">
<p>Red Hat Developer Hub includes a GitLab authentication provider that can authenticate users by using GitLab OAuth.</p>
</div>
<div class="ulist">
<div class="title">Prerequistes</div>
<ul>
<li>
<p>You configured Developer Hub with a custom config map and secret.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>To allow Developer Hub to authenticate with Gitlab, create an OAuth Application in Gitlab.</p>
<div class="paragraph">
<p>Go to <a href="https://gitlab.com/-/profile/applications">GitLab User settings &gt; Applications</a>, and click the <strong>Add new application</strong> button.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Name</strong></dt>
<dd>
<p>Enter your application name, such as <code>Developer Hub</code>.</p>
</dd>
<dt class="hdlist1"><strong>Redirect URI</strong></dt>
<dd>
<p>Enter the backend authentication URI set in Developer Hub, such as <code>http://<em>&lt;APP_FQDN&gt;</em>/api/auth/gitlab/handler/frame</code>.
Due to a peculiarity with GitLab OAuth, ensure the URL has no trailing <code>/</code> after 'frame'.</p>
</dd>
<dt class="hdlist1"><strong>Scopes</strong></dt>
<dd>
<p>Select the following scopes from the list and click <strong>Save application</strong>:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>read_user</code></dt>
<dd>
<p>Grants read-only access to the authenticated user&#8217;s profile through the /user API endpoint, which includes username, public email, and full name.
Also grants access to read-only API endpoints under /users.</p>
</dd>
<dt class="hdlist1"><code>read_repository</code></dt>
<dd>
<p>Grants read-only access to the authenticated user&#8217;s profile through the /user API endpoint, which includes username, public email, and full name.
Also grants access to read-only API endpoints under /users.</p>
</dd>
<dt class="hdlist1"><code>write_repository</code></dt>
<dd>
<p>Grants read/write access to repositories on private projects using Git-over-HTTP (not using the API).</p>
</dd>
<dt class="hdlist1"><code>openid</code></dt>
<dd>
<p>Grants permission to authenticate with GitLab using OpenID Connect.
Also gives read-only access to the user&#8217;s profile and group memberships.</p>
</dd>
<dt class="hdlist1"><code>profile</code></dt>
<dd>
<p>Grants read-only access to the user&#8217;s profile data using OpenID Connect.</p>
</dd>
<dt class="hdlist1"><code>email</code></dt>
<dd>
<p>Grants read-only access to the user&#8217;s primary email address using OpenID Connect.</p>
<div class="paragraph">
<p>Save the <strong>Application ID</strong> and <strong>Secret</strong> for the next step.</p>
</div>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</li>
<li>
<p>Add your Gitlab credentials in your Developer Hub secrets.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Edit your Developer Hub secrets, such as <code>secrets-rhdh</code>.</p>
</li>
<li>
<p>Add the following key/value pairs:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>AUTH_GITLAB_CLIENT_ID</code></dt>
<dd>
<p>Enter the <strong>Application ID</strong> that you generated on GitLab, such as <code>4928c033ab3d592845c044a653bc20583baf84f2e67b954c6fdb32a532ab76c9</code>.</p>
</dd>
<dt class="hdlist1"><code>AUTH_GITLAB_CLIENT_SECRET</code></dt>
<dd>
<p>Enter the <strong>Secret</strong> that you generated on Gitlab, such as <code>gloas-f2c9c350759cc08346fbf94a476ae83c579c76dd629fc5eeef9dc21eedfe0475</code>.</p>
</dd>
</dl>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Set up the Gitlab authentication provider in your Developer Hub custom configuration.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Edit your custom Developer Hub config map, such as <code>app-config-rhdh</code>.</p>
</li>
<li>
<p>In the <code>app-config-rhdh.yaml</code> content, add the <code>gitlab</code> provider configuration under the root <code>auth</code> configuration, and enable the <code>gitlab</code> provider for sign-in:</p>
<div class="listingblock">
<div class="title"><code>app-config-rhdh.yaml</code> fragment</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">auth:
  environment: production
  providers:
    gitlab:
      production:
        clientId: ${AUTH_GITLAB_CLIENT_ID}
        clientSecret: ${AUTH_GITLAB_CLIENT_SECRET}
        # audience: https://gitlab.company.com # <b class="conum">(1)</b>
        # callbackUrl: https://<em>&lt;APP_FQDN&gt;</em>/api/auth/gitlab/handler/frame # <b class="conum">(2)</b>
signInPage: gitlab # <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Optionally, when using a self-hosted Gitlab: uncomment, and enter your GitLab instance base URL, such as
<code>https://gitlab.company.com</code>.</p>
</li>
<li>
<p>Optionally, when using a custom redirect URI: uncomment, and enter the URL matching the <strong>Redirect URI</strong> registered when creating your GitLab OAuth App, such as <code>http://<em>&lt;APP_FQDN&gt;</em>/api/auth/gitlab/handler/frame</code>.
Due to a peculiarity with GitLab OAuth, ensure the URL has no trailing <code>/</code> after 'frame'.</p>
</li>
<li>
<p>To enable the Gitlab provider as default sign-in provider.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>The <code>backstage-developer-hub</code> deployment starts a pod with the updated configuration.</p>
</li>
<li>
<p>Your Developer Hub sign-in page displays <strong>Sign in using GitLab</strong>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assembly-rhdh-telemetry_admin-rhdh">4. Telemetry data collection</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The telemetry data collection feature is enabled by default. Red Hat Developer Hub sends telemetry data to Red Hat by using the <code>backstage-plugin-analytics-provider-segment</code> plugin.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can disable the telemetry data collection feature based on your needs. For example, in an air-gapped environment, you can disable this feature to avoid needless outbound requests affecting the responsiveness of the RHDH application. For more details, see the <a href="https://access.redhat.com/documentation/en-us/red_hat_developer_hub/1.3/html-single/administration_guide_for_red_hat_developer_hub/index#disabling-telemetry-data-collection_admin-rhdh">Disabling telemetry data collection in RHDH</a> section.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Red Hat analyzes the collected data to understand your interactions with the RHDH application without disclosing your identity and compromising your privacy. Red Hat uses the collected data only for internal analysis and to improve the offerings and your experience with Red Hat Developer Hub.</p>
</div>
<div class="paragraph">
<p>This feature collects the following data about your RHDH usage:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Events of page visits and clicks on links or buttons.</p>
</li>
<li>
<p>System-related information, for example, locale, timezone, user agent including browser and OS details.</p>
</li>
<li>
<p>Page-related information, for example, title, category, extension name, URL, path, referrer, and search parameters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>IP address and username are anonymized to maintain your privacy:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The IP addresses are anonymized and recorded as <code>0.0.0.0</code>.</p>
</li>
<li>
<p>The usernames are recorded as an anonymized hash.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The username hash is a unique identifier that is used solely to identify the number of unique users of the RHDH application.</p>
</div>
<div class="paragraph">
<p>With RHDH, you can customize the telemetry data collection feature and the telemetry Segment source configuration based on your needs.</p>
</div>
<div class="sect2">
<h3 id="disabling-telemetry-data-collection_admin-rhdh">4.1. Disabling telemetry data collection in RHDH</h3>
<div class="paragraph">
<p>To disable telemetry data collection, you must disable the <code>analytics-provider-segment</code> plugin either using the Helm Chart or the Red Hat Developer Hub Operator configuration.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If the <code>analytics-provider-segment</code> plugin is already present in your dynamic plugins configuration, set the value of the <code>plugins.disabled</code> parameter to <code>true</code> to disable telemetry data collection.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Disable the <code>analytics-provider-segment</code> plugin by using one of the following options:</p>
<div class="ulist">
<div class="title">Using Helm Chart</div>
<ul>
<li>
<p>Add the following YAML code in your Helm configuration file:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># ...
global:
  dynamic:
    plugins:
      - package: './dynamic-plugins/dist/janus-idp-backstage-plugin-analytics-provider-segment'
        disabled: true
# ...</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="olist loweralpha">
<div class="title">Using the Operator</div>
<ol class="loweralpha" type="a">
<li>
<p>Perform one of the following steps:</p>
<div class="ulist">
<ul>
<li>
<p>If you have created the <code>dynamic-plugins-rhdh</code> ConfigMap file, add the <code>analytics-provider-segment</code> plugin to the list of plugins and set its <code>plugins.disabled</code> parameter to <code>true</code>.</p>
</li>
<li>
<p>If you have not created the ConfigMap file, create it with the following YAML code:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">kind: ConfigMap
apiVersion: v1
metadata:
  name: dynamic-plugins-rhdh
data:
  dynamic-plugins.yaml: |
    includes:
      - dynamic-plugins.default.yaml
    plugins:
      - package: './dynamic-plugins/dist/janus-idp-backstage-plugin-analytics-provider-segment'
        disabled: true</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Set the value of the <code>dynamicPluginsConfigMapName</code> parameter to the name of the ConfigMap file in your <code>Backstage</code> custom resource:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># ...
spec:
  application:
    dynamicPluginsConfigMapName: dynamic-plugins-rhdh
# ...</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Save the configuration changes.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="enabling-telemetry-data-collection_admin-rhdh">4.2. Enabling telemetry data collection in RHDH</h3>
<div class="paragraph">
<p>The telemetry data collection feature is enabled by default. However, if you have disabled the feature and want to re-enable it, you must enable the <code>analytics-provider-segment</code> plugin either by using the Helm Chart or the Red Hat Developer Hub Operator configuration.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If the <code>analytics-provider-segment</code> plugin is already present in your dynamic plugins configuration, set the value of the <code>plugins.disabled</code> parameter to <code>false</code> to enable telemetry data collection.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Configure the <code>analytics-provider-segment</code> plugin by using one of the following options:</p>
<div class="ulist">
<div class="title">Using Helm Chart</div>
<ul>
<li>
<p>Add the following YAML code in your Helm configuration file:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># ...
global:
  dynamic:
    plugins:
      - package: './dynamic-plugins/dist/janus-idp-backstage-plugin-analytics-provider-segment'
        disabled: false
# ...</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="olist loweralpha">
<div class="title">Using the Operator</div>
<ol class="loweralpha" type="a">
<li>
<p>Perform one of the following steps:</p>
<div class="ulist">
<ul>
<li>
<p>If you have created the <code>dynamic-plugins-rhdh</code> ConfigMap file, add the <code>analytics-provider-segment</code> plugin to the list of plugins and set its <code>plugins.disabled</code> parameter to <code>false</code>.</p>
</li>
<li>
<p>If you have not created the ConfigMap file, create it with the following YAML code:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">kind: ConfigMap
apiVersion: v1
metadata:
  name: dynamic-plugins-rhdh
data:
  dynamic-plugins.yaml: |
    includes:
      - dynamic-plugins.default.yaml
    plugins:
      - package: './dynamic-plugins/dist/janus-idp-backstage-plugin-analytics-provider-segment'
        disabled: false</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Set the value of the <code>dynamicPluginsConfigMapName</code> parameter to the name of the ConfigMap file in your <code>Backstage</code> custom resource:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># ...
spec:
  application:
    dynamicPluginsConfigMapName: dynamic-plugins-rhdh
# ...</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Save the configuration changes.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="customizing-telemetry-segment_admin-rhdh">4.3. Customizing telemetry Segment source</h3>
<div class="paragraph">
<p>The <code>analytics-provider-segment</code> plugin sends the collected telemetry data to Red Hat by default. However, you can configure a new Segment source that receives telemetry data based on your needs. For configuration, you need a unique Segment write key that points to the Segment source.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>By configuring a new Segment source, you can collect and analyze the same set of data that is mentioned in the <a href="https://access.redhat.com/documentation/en-us/red_hat_developer_hub/1.3/html-single/administration_guide_for_red_hat_developer_hub/index#assembly-rhdh-telemetry_admin-rhdh">Telemetry data collection</a> section. You might also require to create your own telemetry data collection notice for your application users.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Configure integration with your Segment source by using one of the following options:</p>
<div class="ulist">
<div class="title">Using Helm Chart</div>
<ul>
<li>
<p>Add the following YAML code in your Helm configuration file:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># ...
upstream:
  backstage:
    extraEnvVars:
      - name: SEGMENT_WRITE_KEY
        value: &lt;segment_key&gt; # <b class="conum">(1)</b>
# ...</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p><code>&lt;segment_key&gt;</code> denotes a unique identifier for your Segment source.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Using the Operator</div>
<ul>
<li>
<p>Add the following YAML code in your <code>Backstage</code> custom resource (CR):</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># ...
extraEnvs:
  envs:
    - name: SEGMENT_WRITE_KEY
      value: &lt;segment_key&gt; # <b class="conum">(1)</b>
# ...</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p><code>&lt;segment_key&gt;</code> denotes a unique identifier for your Segment source.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Save the configuration changes.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assembly-running-rhdh-behind-a-proxy">5. Running the RHDH application behind a corporate proxy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can run the RHDH application behind a corporate proxy by setting any of the following environment variables before starting the application:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>HTTP_PROXY</code>: Denotes the proxy to use for HTTP requests.</p>
</li>
<li>
<p><code>HTTPS_PROXY</code>: Denotes the proxy to use for HTTPS requests.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, you can set the <code>NO_PROXY</code> environment variable to exclude certain domains from proxying. The variable value is a comma-separated list of hostnames that do not require a proxy to get reached, even if one is specified.</p>
</div>
<div class="sect2">
<h3 id="proc-configuring-proxy-in-helm-deployment_admin-rhdh">5.1. Configuring proxy information in Helm deployment</h3>
<div class="paragraph">
<p>For Helm-based deployment, either a developer or a cluster administrator with permissions to create resources in the cluster can configure the proxy variables in a <code>values.yaml</code> Helm configuration file.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have installed the Red Hat Developer Hub application.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Set the proxy information in your Helm configuration file:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">upstream:
  backstage:
    extraEnvVars:
      - name: HTTP_PROXY
        value: '&lt;http_proxy_url&gt;'
      - name: HTTPS_PROXY
        value: '&lt;https_proxy_url&gt;'
      - name: NO_PROXY
        value: '&lt;no_proxy_settings&gt;'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where,</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>&lt;http_proxy_url&gt;</code></dt>
<dd>
<p>Denotes a variable that you must replace with the HTTP proxy URL.</p>
</dd>
<dt class="hdlist1"><code>&lt;https_proxy_url&gt;</code></dt>
<dd>
<p>Denotes a variable that you must replace with the HTTPS proxy URL.</p>
</dd>
<dt class="hdlist1"><code>&lt;no_proxy_settings&gt;</code></dt>
<dd>
<p>Denotes a variable that you must replace with comma-separated URLs, which you want to exclude from proxying, for example, <code>foo.com,baz.com</code>.</p>
<div class="listingblock">
<div class="title">Example: Setting proxy variables using Helm Chart</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">upstream:
  backstage:
    extraEnvVars:
      - name: HTTP_PROXY
        value: 'http://10.10.10.105:3128'
      - name: HTTPS_PROXY
        value: 'http://10.10.10.106:3128'
      - name: NO_PROXY
        value: 'localhost,example.org'</code></pre>
</div>
</div>
</dd>
</dl>
</div>
</li>
<li>
<p>Save the configuration changes.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="proc-configuring-proxy-in-operator-deployment_admin-rhdh">5.2. Configuring proxy information in Operator deployment</h3>
<div class="paragraph">
<p>For Operator-based deployment, the approach you use for proxy configuration is based on your role:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>As a cluster administrator with access to the Operator namespace, you can configure the proxy variables in the Operator&#8217;s default ConfigMap file. This configuration applies the proxy settings to all the users of the Operator.</p>
</li>
<li>
<p>As a developer, you can configure the proxy variables in a custom resource (CR) file. This configuration applies the proxy settings to the RHDH application created from that CR.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have installed the Red Hat Developer Hub application.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Perform one of the following steps based on your role:</p>
<div class="ulist">
<ul>
<li>
<p>As an administrator, set the proxy information in the Operator&#8217;s default ConfigMap file:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Search for a ConfigMap file named <code>backstage-default-config</code> in the default namespace <code>rhdh-operator</code> and open it.</p>
</li>
<li>
<p>Find the <code>deployment.yaml</code> key.</p>
</li>
<li>
<p>Set the value of the <code>HTTP_PROXY</code>, <code>HTTPS_PROXY</code>, and <code>NO_PROXY</code> environment variables in the <code>Deployment</code> spec as shown in the following example:</p>
<div class="listingblock">
<div class="title">Example: Setting proxy variables in a ConfigMap file</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># Other fields omitted
  deployment.yaml: |-
    apiVersion: apps/v1
    kind: Deployment
    spec:
      template:
        spec:
          # Other fields omitted
          initContainers:
            - name: install-dynamic-plugins
              # command omitted
              env:
                - name: NPM_CONFIG_USERCONFIG
                  value: /opt/app-root/src/.npmrc.dynamic-plugins
                - name: HTTP_PROXY
                  value: 'http://10.10.10.105:3128'
                - name: HTTPS_PROXY
                  value: 'http://10.10.10.106:3128'
                - name: NO_PROXY
                  value: 'localhost,example.org'
              # Other fields omitted
          containers:
            - name: backstage-backend
              # Other fields omitted
              env:
                - name: APP_CONFIG_backend_listen_port
                  value: "7007"
                - name: HTTP_PROXY
                  value: 'http://10.10.10.105:3128'
                - name: HTTPS_PROXY
                  value: 'http://10.10.10.106:3128'
                - name: NO_PROXY
                  value: 'localhost,example.org'</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>As a developer, set the proxy information in your custom resource (CR) file as shown in the following example:</p>
<div class="listingblock">
<div class="title">Example: Setting proxy variables in a CR file</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">spec:
  # Other fields omitted
  application:
    extraEnvs:
      envs:
        - name: HTTP_PROXY
          value: 'http://10.10.10.105:3128'
        - name: HTTPS_PROXY
          value: 'http://10.10.10.106:3128'
        - name: NO_PROXY
          value: 'localhost,example.org'</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Save the configuration changes.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assembly-rhdh-integration-aws_admin-rhdh">6. Red Hat Developer Hub integration with Amazon Web Services (AWS)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can integrate your Red Hat Developer Hub application with Amazon Web Services (AWS), which can help you streamline your workflows within the AWS ecosystem. Integrating the Developer Hub resources with AWS provides access to a comprehensive suite of tools, services, and solutions.</p>
</div>
<div class="paragraph">
<p>The integration with AWS requires the deployment of Developer Hub in Elastic Kubernetes Service (EKS) using one of the following methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Helm chart</p>
</li>
<li>
<p>The Red Hat Developer Hub Operator</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="proc-rhdh-deploy-eks-using-helm_admin-rhdh">6.1. Deploying Red Hat Developer Hub in Elastic Kubernetes Service (EKS) using Helm Chart</h3>
<div class="paragraph">
<p>When you deploy Developer Hub in Elastic Kubernetes Service (EKS) using Helm Chart, it orchestrates a robust development environment within the AWS ecosystem.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have an EKS cluster with AWS Application Load Balancer (ALB) add-on installed. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/alb-ingress.html">Application load balancing on Amazon Developer Hub</a> and <a href="https://docs.aws.amazon.com/eks/latest/userguide/aws-load-balancer-controller.html">Installing the AWS Load Balancer Controller add-on</a>.</p>
</li>
<li>
<p>You have configured a domain name for your Developer Hub instance. The domain name can be a hosted zone entry on Route 53 or managed outside of AWS. For more information, see <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/dns-configuring.html">Configuring Amazon Route 53 as your DNS service</a> documentation.</p>
</li>
<li>
<p>You have an entry in the AWS Certificate Manager (ACM) for your preferred domain name. Make sure to keep a record of your Certificate ARN.</p>
</li>
<li>
<p>You have subscribed to <code>registry.redhat.io</code>. For more information, see <a href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry Authentication</a>.</p>
</li>
<li>
<p>You have set the context to the EKS cluster in your current <code>kubeconfig</code>. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/create-kubeconfig.html">Creating or updating a kubeconfig file for an Amazon EKS cluster</a>.</p>
</li>
<li>
<p>You have installed <code>kubectl</code>. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/install-kubectl.html">Installing or updating kubectl</a>.</p>
</li>
<li>
<p>You have installed Helm 3 or the latest. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/helm.html">Using Helm with Amazon EKS</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Go to your terminal and run the following command to add the Helm chart repository containing the Developer Hub chart to your local Helm registry:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>helm repo add openshift-helm-charts https://charts.openshift.io/</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create a pull secret using the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>kubectl create secret docker-registry rhdh-pull-secret \
    --docker-server=registry.redhat.io \
    --docker-username=&lt;user_name&gt; \ <b class="conum">(1)</b>
    --docker-password=&lt;password&gt; \ <b class="conum">(2)</b>
    --docker-email=&lt;email&gt; <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Enter your username in the command.</p>
</li>
<li>
<p>Enter your password in the command.</p>
</li>
<li>
<p>Enter your email address in the command.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The created pull secret is used to pull the Developer Hub images from the Red Hat Ecosystem.</p>
</div>
</div>
</div>
</li>
<li>
<p>Create a file named <code>values.yaml</code> using the following template:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">global:
  # TODO: Set your application domain name.
  host: &lt;your Developer Hub domain name&gt;


route:
  enabled: false


upstream:
  service:
    # NodePort is required for the ALB to route to the Service
    type: NodePort


  ingress:
    enabled: true
    annotations:
      kubernetes.io/ingress.class: alb


      alb.ingress.kubernetes.io/scheme: internet-facing


      # TODO: Using an ALB HTTPS Listener requires a certificate for your own domain. Fill in the ARN of your certificate, e.g.:
      alb.ingress.kubernetes.io/certificate-arn: arn:aws:acm:xxx:xxxx:certificate/xxxxxx


      alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}, {"HTTPS":443}]'


      alb.ingress.kubernetes.io/ssl-redirect: '443'


      # TODO: Set your application domain name.
      external-dns.alpha.kubernetes.io/hostname: &lt;your rhdh domain name&gt;


  backstage:
    image:
      pullSecrets:
      - rhdh-pull-secret
    podSecurityContext:
      # you can assign any random value as fsGroup
      fsGroup: 2000
  postgresql:
    image:
      pullSecrets:
      - rhdh-pull-secret
    primary:
      podSecurityContext:
        enabled: true
        # you can assign any random value as fsGroup
        fsGroup: 3000
  volumePermissions:
    enabled: true</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Run the following command in your terminal to deploy Developer Hub using the latest version of Helm Chart and using the values.yaml file created in the previous step:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>helm install rhdh \
  openshift-helm-charts/redhat-developer-hub \
  [--version 1.3.0] \
  --values /path/to/values.yaml</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
For the latest chart version, see <a href="https://github.com/openshift-helm-charts/charts/tree/main/charts/redhat/redhat/redhat-developer-hub" class="bare">https://github.com/openshift-helm-charts/charts/tree/main/charts/redhat/redhat/redhat-developer-hub</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>Wait until the DNS name is responsive, indicating that your Developer Hub instance is ready for use.</p>
</div>
</div>
<div class="sect2">
<h3 id="proc-rhdh-deploy-eks-using-operator_admin-rhdh">6.2. Deploying Red Hat Developer Hub on Elastic Kubernetes Service (EKS) using the Operator</h3>
<div class="paragraph">
<p>You can deploy the Developer Hub on EKS using the Red Hat Developer Hub Operator with or without <a href="https://olm.operatorframework.io">Operator Lifecycle Manager (OLM) framework</a>. Following that, you can proceed to install your Developer Hub instance in EKS.</p>
</div>
<div class="sect3">
<h4 id="_installing-the-red-hat-developer-hub-operator-with-the-olm-framework">6.2.1. Installing the Red Hat Developer Hub Operator with the OLM framework</h4>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have set the context to the EKS cluster in your current <code>kubeconfig</code>. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/create-kubeconfig.html">Creating or updating a kubeconfig file for an Amazon EKS cluster</a>.</p>
</li>
<li>
<p>You have installed <code>kubectl</code>. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/install-kubectl.html">Installing or updating kubectl</a>.</p>
</li>
<li>
<p>You have subscribed to <code>registry.redhat.io</code>. For more information, see <a href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry Authentication</a>.</p>
</li>
<li>
<p>You have installed the Operator Lifecycle Manager (OLM). For more information about installation and troubleshooting, see <a href="https://operatorhub.io/how-to-install-an-operator#How-do-I-get-Operator-Lifecycle-Manager?">How do I get Operator Lifecycle Manager?</a></p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Run the following command in your terminal to create the <code>rhdh-operator</code> namespace where the Operator is installed:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>kubectl create namespace rhdh-operator</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create a pull secret using the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>kubectl -n rhdh-operator create secret docker-registry rhdh-pull-secret \
    --docker-server=registry.redhat.io \
    --docker-username=&lt;user_name&gt; \ <b class="conum">(1)</b>
    --docker-password=&lt;password&gt; \ <b class="conum">(2)</b>
    --docker-email=&lt;email&gt; <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Enter your username in the command.</p>
</li>
<li>
<p>Enter your password in the command.</p>
</li>
<li>
<p>Enter your email address in the command.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The created pull secret is used to pull the Developer Hub images from the Red Hat Ecosystem.</p>
</div>
</div>
</div>
</li>
<li>
<p>Create a <code>CatalogSource</code> resource that contains the Operators from the Red Hat Ecosystem:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>cat &lt;&lt;EOF | kubectl -n rhdh-operator apply -f -
apiVersion: operators.coreos.com/v1alpha1
kind: CatalogSource
metadata:
  name: redhat-catalog
spec:
  sourceType: grpc
  image: registry.redhat.io/redhat/redhat-operator-index:v4.15
  secrets:
  - "rhdh-pull-secret"
  displayName: Red Hat Operators
EOF</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create an <code>OperatorGroup</code> resource as follows:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>cat &lt;&lt;EOF | kubectl apply -n rhdh-operator -f -
apiVersion: operators.coreos.com/v1
kind: OperatorGroup
metadata:
  name: rhdh-operator-group
EOF</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create a <code>Subscription</code> resource using the following code:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>cat &lt;&lt;EOF | kubectl apply -n rhdh-operator -f -
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: rhdh
  namespace: rhdh-operator
spec:
  channel: fast
  installPlanApproval: Automatic
  name: rhdh
  source: redhat-catalog
  sourceNamespace: rhdh-operator
  startingCSV: rhdh-operator.v1.3.0
EOF</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Run the following command to verify that the created Operator is running:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>kubectl -n rhdh-operator get pods -w</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the operator pod shows <code>ImagePullBackOff</code> status, then you might need permissions to pull the image directly within the Operator deployment&#8217;s manifest.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can include the required secret name in the <code>deployment.spec.template.spec.imagePullSecrets</code> list and verify the deployment name using <code>kubectl get deployment -n rhdh-operator</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>kubectl -n rhdh-operator patch deployment \
    rhdh.fast --patch '{"spec":{"template":{"spec":{"imagePullSecrets":[{"name":"rhdh-pull-secret"}]}}}}' \
    --type=merge</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p>Update the default configuration of the operator to ensure that Developer Hub resources can start correctly in EKS using the following steps:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Edit the <code>backstage-default-config</code> ConfigMap in the <code>rhdh-operator</code> namespace using the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>kubectl -n rhdh-operator edit configmap backstage-default-config</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Locate the <code>db-statefulset.yaml</code> string and add the <code>fsGroup</code> to its <code>spec.template.spec.securityContext</code>, as shown in the following example:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>  db-statefulset.yaml: |
    apiVersion: apps/v1
    kind: StatefulSet
--- TRUNCATED ---
    spec:
    --- TRUNCATED ---
      restartPolicy: Always
      securityContext:
      # You can assign any random value as fsGroup
        fsGroup: 2000
      serviceAccount: default
      serviceAccountName: default
--- TRUNCATED ---</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Locate the <code>deployment.yaml</code> string and add the <code>fsGroup</code> to its specification, as shown in the following example:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>  deployment.yaml: |
    apiVersion: apps/v1
    kind: Deployment
--- TRUNCATED ---
    spec:
      securityContext:
        # You can assign any random value as fsGroup
        fsGroup: 3000
      automountServiceAccountToken: false
--- TRUNCATED ---</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Locate the <code>service.yaml</code> string and change the <code>type</code> to <code>NodePort</code> as follows:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>  service.yaml: |
    apiVersion: v1
    kind: Service
    spec:
     # NodePort is required for the ALB to route to the Service
      type: NodePort
--- TRUNCATED ---</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Save and exit.</p>
<div class="paragraph">
<p>Wait for a few minutes until the changes are automatically applied to the operator pods.</p>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_installing-the-red-hat-developer-hub-operator-without-the-olm-framework">6.2.2. Installing the Red Hat Developer Hub Operator without the OLM framework</h4>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have installed the following commands:</p>
<div class="ulist">
<ul>
<li>
<p><code>git</code></p>
</li>
<li>
<p><code>make</code></p>
</li>
<li>
<p><code>sed</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Clone the Operator repository to your local machine using the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>git clone --depth=1 https://github.com/janus-idp/operator.git rhdh-operator &amp;&amp; cd rhdh-operator</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Run the following command and generate the deployment manifest:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>make deployment-manifest</code></pre>
</div>
</div>
<div class="paragraph">
<p>The previous command generates a file named <code>rhdh-operator-&lt;VERSION&gt;.yaml</code>, which is updated manually.</p>
</div>
</div>
</div>
</li>
<li>
<p>Run the following command to apply replacements in the generated deployment manifest:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>sed -i "s/backstage-operator/rhdh-operator/g" rhdh-operator-*.yaml
sed -i "s/backstage-system/rhdh-operator/g" rhdh-operator-*.yaml
sed -i "s/backstage-controller-manager/rhdh-controller-manager/g" rhdh-operator-*.yaml</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Open the generated deployment manifest file in an editor and perform the following steps:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Locate the <code>db-statefulset.yaml</code> string and add the <code>fsGroup</code> to its <code>spec.template.spec.securityContext</code>, as shown in the following example:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>   db-statefulset.yaml: |
    apiVersion: apps/v1
    kind: StatefulSet
--- TRUNCATED ---
    spec:
    --- TRUNCATED ---
      restartPolicy: Always
      securityContext:
        # You can assign any random value as fsGroup
        fsGroup: 2000
      serviceAccount: default
      serviceAccountName: default
--- TRUNCATED ---</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Locate the <code>deployment.yaml</code> string and add the <code>fsGroup</code> to its specification, as shown in the following example:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>  deployment.yaml: |
    apiVersion: apps/v1
    kind: Deployment
--- TRUNCATED ---
    spec:
      securityContext:
        # You can assign any random value as fsGroup
        fsGroup: 3000
      automountServiceAccountToken: false
--- TRUNCATED ---</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Locate the <code>service.yaml</code> string and change the <code>type</code> to <code>NodePort</code> as follows:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>  service.yaml: |
    apiVersion: v1
    kind: Service
    spec:
      # NodePort is required for the ALB to route to the Service
      type: NodePort
--- TRUNCATED ---</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Replace the default images with the images that are pulled from the Red Hat Ecosystem:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>sed -i "s#gcr.io/kubebuilder/kube-rbac-proxy:.*#registry.redhat.io/openshift4/ose-kube-rbac-proxy:v4.15#g" rhdh-operator-*.yaml

sed -i "s#quay.io/janus-idp/operator:.*#registry.redhat.io/rhdh/rhdh-rhel9-operator:1.1#g" rhdh-operator-*.yaml

sed -i "s#quay.io/janus-idp/backstage-showcase:.*#registry.redhat.io/rhdh/rhdh-hub-rhel9:1.1#g" rhdh-operator-*.yaml

sed -i "s#quay.io/fedora/postgresql-15:.*#registry.redhat.io/rhel9/postgresql-15:latest#g" rhdh-operator-*.yaml</code></pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Add the image pull secret to the manifest in the Deployment resource as follows:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">--- TRUNCATED ---

apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app.kubernetes.io/component: manager
    app.kubernetes.io/created-by: rhdh-operator
    app.kubernetes.io/instance: controller-manager
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: deployment
    app.kubernetes.io/part-of: rhdh-operator
    control-plane: controller-manager
  name: rhdh-controller-manager
  namespace: rhdh-operator
spec:
  replicas: 1
  selector:
    matchLabels:
      control-plane: controller-manager
  template:
    metadata:
      annotations:
        kubectl.kubernetes.io/default-container: manager
      labels:
        control-plane: controller-manager
    spec:
      imagePullSecrets:
        - name: rhdh-pull-secret
--- TRUNCATED ---</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Apply the manifest to deploy the operator using the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>kubectl apply -f rhdh-operator-VERSION.yaml</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Run the following command to verify that the Operator is running:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>kubectl -n rhdh-operator get pods -w</code></pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_installing-the-developer-hub-instance-in-eks">6.2.3. Installing the Developer Hub instance in EKS</h4>
<div class="paragraph">
<p>After the Red Hat Developer Hub Operator is installed and running, you can create a Developer Hub instance in EKS.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have an EKS cluster with AWS Application Load Balancer (ALB) add-on installed. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/alb-ingress.html">Application load balancing on Amazon Elastic Kubernetes Service</a> and <a href="https://docs.aws.amazon.com/eks/latest/userguide/aws-load-balancer-controller.html">Installing the AWS Load Balancer Controller add-on</a>.</p>
</li>
<li>
<p>You have configured a domain name for your Developer Hub instance. The domain name can be a hosted zone entry on Route 53 or managed outside of AWS. For more information, see <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/dns-configuring.html">Configuring Amazon Route 53 as your DNS service</a> documentation.</p>
</li>
<li>
<p>You have an entry in the AWS Certificate Manager (ACM) for your preferred domain name. Make sure to keep a record of your Certificate ARN.</p>
</li>
<li>
<p>You have subscribed to <code>registry.redhat.io</code>. For more information, see <a href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry Authentication</a>.</p>
</li>
<li>
<p>You have set the context to the EKS cluster in your current <code>kubeconfig</code>. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/create-kubeconfig.html">Creating or updating a kubeconfig file for an Amazon {eks} cluster</a>.</p>
</li>
<li>
<p>You have installed <code>kubectl</code>. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/install-kubectl.html">Installing or updating kubectl</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a ConfigMap named <code>app-config-rhdh</code> containing the Developer Hub configuration using the following template:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config-rhdh
data:
  "app-config-rhdh.yaml": |
    app:
      title: Red Hat Developer Hub
      baseUrl: https://&lt;rhdh_dns_name&gt;
    backend:
      auth:
        keys:
          - secret: "${BACKEND_SECRET}"
      baseUrl: https://&lt;rhdh_dns_name&gt;
      cors:
        origin: https://&lt;rhdh_dns_name&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create a Secret named <code>secrets-rhdh</code> and add a key named <code>BACKEND_SECRET</code> with a <code>Base64-encoded</code> string as value:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: v1
kind: Secret
metadata:
  name: secrets-rhdh
stringData:
  # TODO: See https://backstage.io/docs/auth/service-to-service-auth/#setup
  BACKEND_SECRET: "xxx"</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Ensure that you use a unique value of <code>BACKEND_SECRET</code> for each Developer Hub instance.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can use the following command to generate a key:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>node-p'require("crypto").randomBytes(24).toString("base64")'</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>To enable pulling the PostgreSQL image from the Red Hat Ecosystem Catalog, add the image pull secret in the default service account within the namespace where the Developer Hub instance is being deployed:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>kubectl patch serviceaccount default \
    -p '{"imagePullSecrets": [{"name": "rhdh-pull-secret"}]}' \
    -n &lt;your_namespace&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create a Custom Resource file using the following template:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: rhdh.redhat.com/v1alpha1
kind: Backstage
metadata:
 # TODO: this the name of your Developer Hub instance
  name: my-rhdh
spec:
  application:
    imagePullSecrets:
    - "rhdh-pull-secret"
    route:
      enabled: false
    appConfig:
      configMaps:
        - name: "app-config-rhdh"
    extraEnvs:
      secrets:
        - name: "secrets-rhdh"</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create an Ingress resource using the following template, ensuring to customize the names as needed:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  # TODO: this the name of your Developer Hub Ingress
  name: my-rhdh
  annotations:
    alb.ingress.kubernetes.io/scheme: internet-facing

    alb.ingress.kubernetes.io/target-type: ip

    # TODO: Using an ALB HTTPS Listener requires a certificate for your own domain. Fill in the ARN of your certificate, e.g.:
    alb.ingress.kubernetes.io/certificate-arn: arn:aws:acm:us-xxx:xxxx:certificate/xxxxxx

     alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}, {"HTTPS":443}]'

    alb.ingress.kubernetes.io/ssl-redirect: '443'

    # TODO: Set your application domain name.
    external-dns.alpha.kubernetes.io/hostname: &lt;rhdh_dns_name&gt;

spec:
  ingressClassName: alb
  rules:
    # TODO: Set your application domain name.
    - host: &lt;rhdh_dns_name&gt;
      http:
        paths:
        - path: /
          pathType: Prefix
          backend:
            service:
              # TODO: my-rhdh is the name of your Backstage Custom Resource.
              # Adjust if you changed it!
              name: backstage-my-rhdh
              port:
                name: http-backend</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the previous template, replace ` &lt;rhdh_dns_name&gt;` with your Developer Hub domain name and update the value of <code>alb.ingress.kubernetes.io/certificate-arn</code> with your certificate ARN.</p>
</div>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>Wait until the DNS name is responsive, indicating that your Developer Hub instance is ready for use.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="proc-rhdh-monitoring-logging-aws_admin-rhdh">6.3. Monitoring and logging with Amazon Web Services (AWS) in Red Hat Developer Hub</h3>
<div class="paragraph">
<p>In the Red Hat Developer Hub, monitoring and logging are facilitated through Amazon Web Services (AWS) integration. With features like Amazon CloudWatch for real-time monitoring and Amazon Prometheus for comprehensive logging, you can ensure the reliability, scalability, and compliance of your Developer Hub application hosted on AWS infrastructure.</p>
</div>
<div class="paragraph">
<p>This integration enables you to oversee, diagnose, and refine your applications in the Red Hat ecosystem, leading to an improved development and operational journey.</p>
</div>
<div class="sect3">
<h4 id="_monitoring-with-amazon-prometheus">6.3.1. Monitoring with Amazon Prometheus</h4>
<div class="paragraph">
<p>Red Hat Developer Hub provides Prometheus metrics related to the running application. For more information about enabling or deploying Prometheus for EKS clusters, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/prometheus.html">Prometheus metrics</a> in the Amazon documentation.</p>
</div>
<div class="paragraph">
<p>To monitor Developer Hub using <a href="https://aws.amazon.com/prometheus/">Amazon Prometheus</a>, you need to create an Amazon managed service for the Prometheus workspace and configure the ingestion of the Developer Hub Prometheus metrics. For more information, see <a href="https://docs.aws.amazon.com/prometheus/latest/userguide/AMP-onboard-create-workspace.html">Create a workspace</a> and <a href="https://docs.aws.amazon.com/prometheus/latest/userguide/AMP-onboard-ingest-metrics.html">Ingest Prometheus metrics to the workspace</a> sections in the Amazon documentation.</p>
</div>
<div class="paragraph">
<p>After ingesting Prometheus metrics into the created workspace, you can configure the metrics scraping to extract data from pods based on specific pod annotations.</p>
</div>
<div class="sect4">
<h5 id="_configuring-annotations-for-monitoring">Configuring annotations for monitoring</h5>
<div class="paragraph">
<p>You can configure the annotations for monitoring in both Helm deployment and Operator-backed deployment.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Helm deployment</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To annotate the backstage pod for monitoring, update your <code>values.yaml</code> file as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">upstream:
  backstage:
    # --- TRUNCATED ---
    podAnnotations:
      prometheus.io/scrape: 'true'
      prometheus.io/path: '/metrics'
      prometheus.io/port: '7007'
      prometheus.io/scheme: 'http'</code></pre>
</div>
</div>
</div>
</div>
</dd>
<dt class="hdlist1">Operator-backed deployment</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>As an administrator of the operator, edit the default configuration to add Prometheus annotations as follows:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash"># Update OPERATOR_NS accordingly
OPERATOR_NS=rhdh-operator
kubectl edit configmap backstage-default-config -n "${OPERATOR_NS}"</code></pre>
</div>
</div>
</li>
<li>
<p>Find the <code>deployment.yaml</code> key in the ConfigMap and add the annotations to the <code>spec.template.metadata.annotations</code> field as follows:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">deployment.yaml: |-
  apiVersion: apps/v1
  kind: Deployment
  # --- truncated ---
  spec:
    template:
      # --- truncated ---
      metadata:
        labels:
         rhdh.redhat.com/app:  # placeholder for 'backstage-&lt;cr-name&gt;'
        # --- truncated ---
        annotations:
          prometheus.io/scrape: 'true'
          prometheus.io/path: '/metrics'
          prometheus.io/port: '7007'
          prometheus.io/scheme: 'http'
  # --- truncated ---</code></pre>
</div>
</div>
</li>
<li>
<p>Save your changes.</p>
</li>
</ol>
</div>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>To verify if the scraping works:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use <code>kubectl</code> to port-forward the Prometheus console to your local machine as follows:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kubectl --namespace=prometheus port-forward deploy/prometheus-server 9090</code></pre>
</div>
</div>
</li>
<li>
<p>Open your web browser and navigate to <code>http://localhost:9090</code> to access the Prometheus console.</p>
</li>
<li>
<p>Monitor relevant metrics, such as <code>process_cpu_user_seconds_total</code>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_logging-with-amazon-cloudwatch-logs">6.3.2. Logging with Amazon CloudWatch logs</h4>
<div class="paragraph">
<p>Logging within the Red Hat Developer Hub relies on the <a href="https://github.com/winstonjs/winston">winston library</a>. By default, logs at the debug level are not recorded. To activate debug logs, you must set the environment variable <code>LOG_LEVEL</code> to debug in your Red Hat Developer Hub instance.</p>
</div>
<div class="sect4">
<h5 id="_configuring-the-application-log-level">Configuring the application log level</h5>
<div class="paragraph">
<p>You can configure the application log level in both Helm deployment and Operator-backed deployment.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Helm deployment</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>To update the logging level, add the environment variable <code>LOG_LEVEL</code> to your Helm chart&#8217;s <code>values.yaml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">upstream:
  backstage:
    # --- Truncated ---
    extraEnvVars:
      - name: LOG_LEVEL
        value: debug</code></pre>
</div>
</div>
</div>
</div>
</dd>
<dt class="hdlist1">Operator-backed deployment</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>You can modify the logging level by including the environment variable <code>LOG_LEVEL</code> in your custom resource as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">spec:
  # Other fields omitted
  application:
    extraEnvs:
      envs:
        - name: LOG_LEVEL
          value: debug</code></pre>
</div>
</div>
</div>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_retrieving-logs-from-amazon-cloudwatch">Retrieving logs from Amazon CloudWatch</h5>
<div class="paragraph">
<p>The CloudWatch Container Insights are used to capture logs and metrics for Amazon EKS. For more information, see <a href="https://docs.aws.amazon.com/prescriptive-guidance/latest/implementing-logging-monitoring-cloudwatch/kubernetes-eks-logging.html">Logging for Amazon EKS</a> documentation.</p>
</div>
<div class="paragraph">
<p>To capture the logs and metrics, <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/Container-Insights-setup-EKS-addon.html">install the Amazon CloudWatch Observability EKS add-on</a> in your cluster. Following the setup of Container Insights, you can access container logs using Logs Insights or Live Tail views.</p>
</div>
<div class="paragraph">
<p>CloudWatch names the log group where all container logs are consolidated in the following manner:</p>
</div>
<div class="paragraph">
<p><code>/aws/containerinsights/&lt;ClusterName&gt;/application</code></p>
</div>
<div class="paragraph">
<p>Following is an example query to retrieve logs from the Developer Hub instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">fields @timestamp, @message, kubernetes.container_name
| filter kubernetes.container_name in ["install-dynamic-plugins", "backstage-backend"]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="proc-using-aws-cognito-auth-provider_admin-rhdh">6.4. Using Amazon Cognito as an authentication provider in Red Hat Developer Hub</h3>
<div class="paragraph">
<p>In this section, Amazon Cognito is an AWS service for adding an authentication layer to Developer Hub. You can sign in directly to the Developer Hub using a user pool or fedarate through a third-party identity provider.</p>
</div>
<div class="paragraph">
<p>Although Amazon Cognito is not part of the core authentication providers for the Developer Hub, it can be integrated using the generic OpenID Connect (OIDC) provider.</p>
</div>
<div class="paragraph">
<p>You can configure your Developer Hub in both Helm Chart and Operator-backed deployments.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have a User Pool or you have created a new one. For more information about user pools, see <a href="https://docs.aws.amazon.com/cognito/latest/developerguide/cognito-user-identity-pools.html?icmpid=docs_cognito_console_help_panel">Amazon Cognito user pools</a> documentation.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Ensure that you have noted the AWS region where the user pool is located and the user pool ID.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>You have created an App Client within your user pool for integrating the hosted UI. For more information, see <a href="https://docs.aws.amazon.com/cognito/latest/developerguide/cognito-user-pools-app-integration.html#cognito-user-pools-create-an-app-integration">Setting up the hosted UI with the Amazon Cognito console</a>.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When setting up the hosted UI using the Amazon Cognito console, ensure to make the following adjustments:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the <strong>Allowed callback URL(s)</strong> section, include the URL <code>https://&lt;rhdh_url&gt;/api/auth/oidc/handler/frame</code>. Ensure to replace <code>&lt;rhdh_url&gt;</code> with your Developer Hub application&#8217;s URL, such as, <code>my.rhdh.example.com</code>.</p>
</li>
<li>
<p>Similarly, in the <strong>Allowed sign-out URL(s)</strong> section, add <code>https://&lt;rhdh_url&gt;</code>. Replace <code>&lt;rhdh_url&gt;</code> with your Developer Hub application&#8217;s URL, such as <code>my.rhdh.example.com</code>.</p>
</li>
<li>
<p>Under <strong>OAuth 2.0 grant types</strong>, select <strong>Authorization code grant</strong> to return an authorization code.</p>
</li>
<li>
<p>Under <strong>OpenID Connect scopes</strong>, ensure to select at least the following scopes:</p>
<div class="ulist">
<ul>
<li>
<p>OpenID</p>
</li>
<li>
<p>Profile</p>
</li>
<li>
<p>Email</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Helm deployment</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Edit or create your custom <code>app-config-rhdh</code> ConfigMap as follows:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config-rhdh
data:
  "app-config-rhdh.yaml": |
    # --- Truncated ---
    app:
      title: Red Hat Developer Hub

    signInPage: oidc
    auth:
      environment: production
      session:
        secret: ${AUTH_SESSION_SECRET}
      providers:
        oidc:
          production:
            clientId: ${AWS_COGNITO_APP_CLIENT_ID}
            clientSecret: ${AWS_COGNITO_APP_CLIENT_SECRET}
            metadataUrl: ${AWS_COGNITO_APP_METADATA_URL}
            callbackUrl: ${AWS_COGNITO_APP_CALLBACK_URL}
            scope: 'openid profile email'
            prompt: auto</code></pre>
</div>
</div>
</li>
<li>
<p>Edit or create your custom <code>secrets-rhdh</code> Secret using the following template:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: v1
kind: Secret
metadata:
  name: secrets-rhdh
stringData:
  AUTH_SESSION_SECRET: "my super auth session secret - change me!!!"
  AWS_COGNITO_APP_CLIENT_ID: "my-aws-cognito-app-client-id"
  AWS_COGNITO_APP_CLIENT_SECRET: "my-aws-cognito-app-client-secret"
  AWS_COGNITO_APP_METADATA_URL: "https://cognito-idp.[region].amazonaws.com/[userPoolId]/.well-known/openid-configuration"
  AWS_COGNITO_APP_CALLBACK_URL: "https://[rhdh_dns]/api/auth/oidc/handler/frame"</code></pre>
</div>
</div>
</li>
<li>
<p>Add references of both the ConfigMap and Secret resources in your <code>values.yaml</code> file:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">upstream:
  backstage:
    image:
      pullSecrets:
      - rhdh-pull-secret
    podSecurityContext:
      fsGroup: 2000
    extraAppConfig:
      - filename: app-config-rhdh.yaml
        configMapRef: app-config-rhdh
    extraEnvVarsSecrets:
      - secrets-rhdh</code></pre>
</div>
</div>
</li>
<li>
<p>Upgrade the Helm deployment:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>helm upgrade rhdh \
  openshift-helm-charts/redhat-developer-hub \
  [--version 1.3.0] \
  --values /path/to/values.yaml</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</dd>
<dt class="hdlist1">Operator-backed deployment</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add the following code to your <code>app-config-rhdh</code> ConfigMap:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config-rhdh
data:
  "app-config-rhdh.yaml": |
    # --- Truncated ---

    signInPage: oidc
    auth:
      # Production to disable guest user login
      environment: production
      # Providing an auth.session.secret is needed because the oidc provider requires session support.
      session:
        secret: ${AUTH_SESSION_SECRET}
      providers:
        oidc:
          production:
            # See https://github.com/backstage/backstage/blob/master/plugins/auth-backend-module-oidc-provider/config.d.ts
            clientId: ${AWS_COGNITO_APP_CLIENT_ID}
            clientSecret: ${AWS_COGNITO_APP_CLIENT_SECRET}
            metadataUrl: ${AWS_COGNITO_APP_METADATA_URL}
            callbackUrl: ${AWS_COGNITO_APP_CALLBACK_URL}
            # Minimal set of scopes needed. Feel free to add more if needed.
            scope: 'openid profile email'

            # Note that by default, this provider will use the 'none' prompt which assumes that your are already logged on in the IDP.
            # You should set prompt to:
            # - auto: will let the IDP decide if you need to log on or if you can skip login when you have an active SSO session
            # - login: will force the IDP to always present a login form to the user
            prompt: auto</code></pre>
</div>
</div>
</li>
<li>
<p>Add the following code to your <code>secrets-rhdh</code> Secret:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: v1
kind: Secret
metadata:
  name: secrets-rhdh
stringData:
  # --- Truncated ---

  # TODO: Change auth session secret.
  AUTH_SESSION_SECRET: "my super auth session secret - change me!!!"

  # TODO: user pool app client ID
  AWS_COGNITO_APP_CLIENT_ID: "my-aws-cognito-app-client-id"

  # TODO: user pool app client Secret
  AWS_COGNITO_APP_CLIENT_SECRET: "my-aws-cognito-app-client-secret"

  # TODO: Replace region and user pool ID
  AWS_COGNITO_APP_METADATA_URL: "https://cognito-idp.[region].amazonaws.com/[userPoolId]/.well-known/openid-configuration"

  # TODO: Replace &lt;rhdh_dns&gt;
  AWS_COGNITO_APP_CALLBACK_URL: "https://[rhdh_dns]/api/auth/oidc/handler/frame"</code></pre>
</div>
</div>
</li>
<li>
<p>Ensure your Custom Resource contains references to both the <code>app-config-rhdh</code> ConfigMap and <code>secrets-rhdh</code> Secret:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: rhdh.redhat.com/v1alpha1
kind: Backstage
metadata:
 # TODO: this the name of your Developer Hub instance
  name: my-rhdh
spec:
  application:
    imagePullSecrets:
    - "rhdh-pull-secret"
    route:
      enabled: false
    appConfig:
      configMaps:
        - name: "app-config-rhdh"
    extraEnvs:
      secrets:
        - name: "secrets-rhdh"</code></pre>
</div>
</div>
</li>
<li>
<p>Optional: If you have an existing Developer Hub instance backed by the Custom Resource and you have not edited it, you can manually delete the Developer Hub deployment to recreate it using the operator. Run the following command to delete the Developer Hub deployment:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kubectl delete deployment -l app.kubernetes.io/instance=&lt;CR_NAME&gt;</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</dd>
</dl>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>Navigate to your Developer Hub web URL and sign in using OIDC authentication, which prompts you to authenticate through the configured AWS Cognito user pool.</p>
</li>
<li>
<p>Once logged in, access <strong>Settings</strong> and verify user details.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assembly-rhdh-integration-aks_admin-rhdh">7. Red Hat Developer Hub integration with Microsoft Azure Kubernetes Service (AKS)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can integrate Developer Hub with Microsoft Azure Kubernetes Service (AKS), which provides a significant advancement in development, offering a streamlined environment for building, deploying, and managing your applications.</p>
</div>
<div class="paragraph">
<p>This integration requires the deployment of Developer Hub on AKS using one of the following methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Helm chart</p>
</li>
<li>
<p>The Red Hat Developer Hub Operator</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="proc-rhdh-deploy-aks_admin-rhdh">7.1. Deploying Red Hat Developer Hub on Azure Kubernetes Service (AKS)</h3>
<div class="paragraph">
<p>You can deploy your Developer Hub application on Azure Kubernetes Services (AKS) to access a comprehensive solution for building, testing, and deploying applications.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have an Azure account with active subscription.</p>
</li>
<li>
<p>You have installed Azure CLI in your machine and configured the Resource Group and Cluster. For more information, see <a href="https://learn.microsoft.com/en-us/cli/azure/install-azure-cli">How to install the Azure CLI</a>.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>You can perform the following steps to configure the Resource Group and Cluster:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To access Azure, ensuring you&#8217;re logged in to our designated tenant use the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>az login [--tenant=&lt;optional-directory-name&gt;]</code></pre>
</div>
</div>
</li>
<li>
<p>To create a Resource Group, run the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>az group create --name &lt;your_ResourceGroup&gt; --location &lt;location&gt;</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>you can retrieve available regions using <code>az account list-locations -o table</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create an AKS cluster:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>az aks create \
--resource-group &lt;your_ResourceGroup&gt; \
--name &lt;your_ClusterName&gt; \
--enable-managed-identity \
--generate-ssh-keys</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can refer to <code>--help</code> for additional options.</p>
</div>
</li>
<li>
<p>Connect to your cluster:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>az aks get-credentials --resource-group &lt;your_ResourceGroup&gt; --name &lt;your_ClusterName&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The previous command configures the Kubernetes client and sets the current context in the <code>kubeconfig</code> to point to your AKS cluster.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>You have installed <code>kubectl</code>. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/install-kubectl.html">Installing or updating kubectl</a>.</p>
</li>
<li>
<p>You have installed Helm 3 or the latest.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Comparison of AKS specifics with the base Developer Hub deployment</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><strong>Permissions issue</strong>: Developer Hub containers might encounter permission-related errors, such as <code>Permission denied</code> when attempting certain operations. This error can be addresssed by adjusting the <code>fsGroup</code> in the <code>PodSpec.securityContext</code>.</p>
</li>
<li>
<p><strong>Ingress configuration</strong>: In AKS, configuring ingress is essential for accessing the installed Developer Hub instance. Accessing the Developer Hub instance requires enabling the Routing add-on, an NGINX-based Ingress Controller, using the following commands:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>az aks approuting enable --resource-group &lt;your_ResourceGroup&gt; --name &lt;your_ClusterName&gt;</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>You might need to install the Azure CLI extension <code>aks-preview</code>. If the extension is not installed automatically, you might need to install it manually using the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>az extension add --upgrade -n aks-preview --allow-preview true</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>After you install the Ingress Controller, the 'app-routing-system' namespace with the Ingress Controller will be deployed in your cluster. Note the address of your Developer Hub application from the installed Ingress Controller (for example, 108.141.70.228) for later access to the Developer Hub application, later referenced as <code>&lt;app_address&gt;</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kubectl get svc nginx --namespace app-routing-system -o jsonpath='{.status.loadBalancer.ingress[0].ip}'</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Namespace management</strong>: You can create a dedicated namespace for Developer Hub deployment in AKS using the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kubectl create namespace &lt;your_namespace&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</dd>
</dl>
</div>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="proc-rhdh-deploy-aks-using-helm_admin-rhdh">7.1.1. Deploying the Red Hat Developer Hub on Azure Kubernetes Service (AKS) using the Helm chart</h4>
<div class="paragraph">
<p>You can deploy your Developer Hub on AKS using Helm.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Open terminal and run the following command to add the Helm chart repository:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>helm repo add openshift-helm-charts https://charts.openshift.io/</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>To create <code>ImagePull Secret</code>, run the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kubectl -n &lt;your_namespace&gt; create secret docker-registry rhdh-pull-secret \
    --docker-server=registry.redhat.io \
    --docker-username=&lt;redhat_user_name&gt; \
    --docker-password=&lt;redhat_password&gt; \
    --docker-email=&lt;email&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create a file named <code>values.yaml</code> using the following template:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">global:
  host: &lt;app_address&gt;
route:
  enabled: false
upstream:
  ingress:
    enabled: true
    className: webapprouting.kubernetes.azure.com
    host:
  backstage:
    image:
      pullSecrets:
        - rhdh-pull-secret
    podSecurityContext:
      fsGroup: 3000
  postgresql:
    image:
      pullSecrets:
        - rhdh-pull-secret
    primary:
      podSecurityContext:
        enabled: true
        fsGroup: 3000
  volumePermissions:
    enabled: true</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>To install Helm Chart, run the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>helm -n &lt;your_namespace&gt; install -f values.yaml &lt;your_deploy_name&gt; openshift-helm-charts/redhat-developer-hub --version 1.1.1</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Verify the deployment status:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kubectl get deploy &lt;your_deploy_name&gt;-developer-hub -n &lt;your_namespace&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Access the deployed Developer Hub using the URL: <code><a href="https://&lt;app_address&gt" class="bare">https://&lt;app_address&gt</a>;</code>, where &lt;app_address&gt; is the Ingress address obtained earlier (for example, <code><a href="https://108.141.70.228" class="bare">https://108.141.70.228</a></code>).</p>
</li>
<li>
<p>To upgrade or delete the deployment, run the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="title">Upgrade command</div>
<div class="content">
<pre class="highlight"><code>helm -n &lt;your_namespace&gt; upgrade -f values.yaml &lt;your_deploy_name&gt; openshift-helm-charts/redhat-developer-hub --version 1.1.1</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Delete command</div>
<div class="content">
<pre class="highlight"><code>helm -n &lt;your_namespace&gt; delete &lt;your_deploy_name&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="proc-rhdh-deploy-aks-using-operator_admin-rhdh">7.1.2. Deploying the Red Hat Developer Hub on Azure Kubernetes Service (AKS) using the Operator</h4>
<div class="paragraph">
<p>You can deploy your Developer Hub on AKS using the Red Hat Developer Hub Operator.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Obtain the Red Hat Developer Hub Operator manifest file, named <code>rhdh-operator-&lt;VERSION&gt;.yaml</code>, and modify the default configuration of <code>db-statefulset.yaml</code> and <code>deployment.yaml</code> by adding the following fragment:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">securityContext:
  fsGroup: 300</code></pre>
</div>
</div>
<div class="paragraph">
<p>Following is the specified locations in the manifests:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>db-statefulset.yaml: | spec.template.spec
deployment.yaml: | spec.template.spec</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Apply the modified Operator manifest to your Kubernetes cluster:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kubectl apply -f rhdh-operator-&lt;VERSION&gt;.yaml</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Execution of the previous command is cluster-scoped and requires appropriate cluster privileges.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p>Create an <code>ImagePull Secret</code> named <code>rhdh-pull-secret</code> using your Red Hat credentials to access images from the protected <code>registry.redhat.io</code> as shown in the following example:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kubectl -n &lt;your_namespace&gt; create secret docker-registry rhdh-pull-secret \
    --docker-server=registry.redhat.io \
    --docker-username=&lt;redhat_user_name&gt; \
    --docker-password=&lt;redhat_password&gt; \
    --docker-email=&lt;email&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create an Ingress manifest file, named <code>rhdh-ingress.yaml</code>, specifying your Developer Hub service name as follows:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: rhdh-ingress
  namespace: &lt;your_namespace&gt;
spec:
  ingressClassName: webapprouting.kubernetes.azure.com
  rules:
    - http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: backstage-&lt;your-CR-name&gt;
                port:
                  name: http-backend</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>To deploy the created Ingress, run the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>kubectl -n &lt;your_namespace&gt; apply -f rhdh-ingress.yaml</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create a ConfigMap named <code>app-config-rhdh</code> containing the Developer Hub configuration using the following example:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config-rhdh
data:
  "app-config-rhdh.yaml": |
    app:
      title: Red Hat Developer Hub
      baseUrl: https://&lt;app_address&gt;
    backend:
      auth:
        keys:
          - secret: "${BACKEND_SECRET}"
      baseUrl: https://&lt;app_address&gt;
      cors:
        origin: https://&lt;app_address&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create a Secret named <code>secrets-rhdh</code> and add a key named <code>BACKEND_SECRET</code> with a <code>Base64-encoded</code> string value as shown in the following example:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: v1
kind: Secret
metadata:
  name: secrets-rhdh
stringData:
  BACKEND_SECRET: "xxx"</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create a Custom Resource (CR) manifest file named <code>rhdh.yaml</code> and include the previously created <code>rhdh-pull-secret</code> as follows:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: rhdh.redhat.com/v1alpha1
kind: Backstage
metadata:
  name: &lt;your-rhdh-cr&gt;
spec:
  application:
    imagePullSecrets:
      - rhdh-pull-secret
    appConfig:
      configMaps:
        - name: "app-config-rhdh"
    extraEnvs:
      secrets:
        - name: "secrets-rhdh"</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Apply the CR manifest to your namespace:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>kubectl -n &lt;your_namespace&gt; apply -f rhdh.yaml</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Access the deployed Developer Hub using the URL: <code><a href="https://&lt;app_address&gt" class="bare">https://&lt;app_address&gt</a>;</code>, where &lt;app_address&gt; is the Ingress address obtained earlier (for example, <code><a href="https://108.141.70.228" class="bare">https://108.141.70.228</a></code>).</p>
</li>
<li>
<p>Optional: To delete the CR, run the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>kubectl -n &lt;your_namespace&gt; delete -f rhdh.yaml</code></pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="proc-rhdh-monitoring-logging-aks_admin-rhdh">7.2. Monitoring and logging with Azure Kubernetes Services (AKS) in Red Hat Developer Hub</h3>
<div class="paragraph">
<p>Monitoring and logging are integral aspects of managing and maintaining Azure Kubernetes Services (AKS) in Red Hat Developer Hub. With features like Managed Prometheus Monitoring and Azure Monitor integration, administrators can efficiently monitor resource utilization, diagnose issues, and ensure the reliability of their containerized workloads.</p>
</div>
<div class="paragraph">
<p>To enable Managed Prometheus Monitoring, use the <code>-enable-azure-monitor-metrics</code> option within either the <code>az aks create</code> or <code>az aks update</code> command, depending on whether you&#8217;re creating a new cluster or updating an existing one, such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">az aks create/update --resource-group &lt;your-ResourceGroup&gt; --name &lt;your-Cluster&gt; --enable-azure-monitor-metrics</code></pre>
</div>
</div>
<div class="paragraph">
<p>The previous command installs the metrics add-on, which gathers <a href="https://learn.microsoft.com/en-us/azure/azure-monitor/essentials/prometheus-metrics-overview">Prometheus metrics</a>. Using the previous command, you can enable monitoring of Azure resources through both native Azure Monitor metrics and Prometheus metrics. You can also view the results in the portal under <strong>Monitoring &#8594; Insights</strong>. For more information, see <a href="https://learn.microsoft.com/en-us/azure/azure-monitor/essentials/monitor-azure-resource">Monitor Azure resources with Azure Monitor</a>.</p>
</div>
<div class="paragraph">
<p>Furthermore, metrics from both the Managed Prometheus service and Azure Monitor can be accessed through Azure Managed Grafana service. For more information, see <a href="https://learn.microsoft.com/en-us/azure/azure-monitor/essentials/azure-monitor-workspace-manage?tabs=azure-portal#link-a-grafana-workspace">Link a Grafana workspace</a> section.</p>
</div>
<div class="paragraph">
<p>By default, Prometheus uses the minimum ingesting profile, which optimizes ingestion volume and sets default configurations for scrape frequency, targets, and metrics collected. The default settings can be customized through custom configuration. Azure offers various methods, including using different ConfigMaps, to provide scrape configuration and other metric add-on settings. For more information about default configuration, see <a href="https://learn.microsoft.com/en-us/azure/azure-monitor/containers/prometheus-metrics-scrape-default">Default Prometheus metrics configuration in Azure Monitor</a> and <a href="https://learn.microsoft.com/en-us/azure/azure-monitor/containers/prometheus-metrics-scrape-configuration?tabs=CRDConfig%2CCRDScrapeConfig">Customize scraping of Prometheus metrics in Azure Monitor managed service for Prometheus</a> documentation.</p>
</div>
<div class="sect3">
<h4 id="_viewing-logs-with-azure-kubernetes-services-aks">7.2.1. Viewing logs with Azure Kubernetes Services (AKS)</h4>
<div class="paragraph">
<p>You can access live data logs generated by Kubernetes objects and collect log data in Container Insights within AKS.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have deployed Developer Hub on AKS. For more information, see <a href="#proc-rhdh-deploy-aks_admin-rhdh">Deploying Red Hat Developer Hub on Azure Kubernetes Service (AKS)</a>.</p>
</li>
</ul>
</div>
<div class="dlist">
<div class="title">Procedure</div>
<dl>
<dt class="hdlist1">View live logs from your Developer Hub instance</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the Azure Portal.</p>
</li>
<li>
<p>Search for the resource group <code>&lt;your-ResourceGroup&gt;</code> and locate your AKS cluster <code>&lt;your-Cluster&gt;</code>.</p>
</li>
<li>
<p>Select <strong>Kubernetes resources &#8594; Workloads</strong> from the menu.</p>
</li>
<li>
<p>Select the <code>&lt;your-rhdh-cr&gt;-developer-hub</code> (in case of Helm Chart installation) or <code>&lt;your-rhdh-cr&gt;-backstage</code> (in case of Operator-backed installation) deployment.</p>
</li>
<li>
<p>Click <strong>Live Logs</strong> in the left menu.</p>
</li>
<li>
<p>Select the pod.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
There must be only single pod.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Live log data is collected and displayed.</p>
</div>
</div>
</div>
</dd>
<dt class="hdlist1">View real-time log data from the Container Engine</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the Azure Portal.</p>
</li>
<li>
<p>Search for the resource group <code>&lt;your-ResourceGroup&gt;</code> and locate your AKS cluster <code>&lt;your-Cluster&gt;</code>.</p>
</li>
<li>
<p>Select <strong>Monitoring</strong> &#8594; <strong>Insights</strong> from the menu.</p>
</li>
<li>
<p>Go to the <strong>Containers</strong> tab.</p>
</li>
<li>
<p>Find the backend-backstage container and click it to view real-time log data as it&#8217;s generated by the Container Engine.</p>
</li>
</ol>
</div>
</div>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="proc-using-azure-auth-provider_admin-rhdh">7.3. Using Microsoft Azure as an authentication provider in Red Hat Developer Hub</h3>
<div class="paragraph">
<p>The <code>core-plugin-api</code> package in Developer Hub comes integrated with Microsoft Azure authentication provider, authenticating signing in using Azure OAuth.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have deployed Developer Hub on AKS. For more information, see <a href="#proc-rhdh-deploy-aks_admin-rhdh">Deploying Red Hat Developer Hub on Azure Kubernetes Service (AKS)</a>.</p>
</li>
<li>
<p>You have created registered your application in Azure portal. For more information, see <a href="https://learn.microsoft.com/en-us/entra/identity-platform/quickstart-register-app">Register an application with the Microsoft identity platform</a>.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_using-microsoft-azure-as-an-authentication-provider-in-helm-deployment">7.3.1. Using Microsoft Azure as an authentication provider in Helm deployment</h4>
<div class="paragraph">
<p>You can use Microsoft Azure as an authentication provider in Red Hat Developer Hub, when installed using the Helm Chart. For more information, see <a href="#proc-rhdh-deploy-aks-using-helm_admin-rhdh">Deploying the Red Hat Developer Hub on Azure Kubernetes Service (AKS) using the Helm chart</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>After the application is registered, note down the following:</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><code>clientId</code>: Application (client) ID, found under App <strong>Registration &#8594; Overview</strong>.</p>
</li>
<li>
<p><code>clientSecret</code>: Secret, found under *App Registration &#8594; Certificates &amp; secrets (create new if needed).</p>
</li>
<li>
<p><code>tenantId</code>: Directory (tenant) ID, found under <strong>App Registration &#8594; Overview</strong>.</p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Ensure the following fragment is included in your Developer Hub ConfigMap:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">auth:
  environment: production
  providers:
    microsoft:
      production:
        clientId: ${AZURE_CLIENT_ID}
        clientSecret: ${AZURE_CLIENT_SECRET}
        tenantId: ${AZURE_TENANT_ID}
        domainHint: ${AZURE_TENANT_ID}
        additionalScopes:
          - Mail.Send</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can either create a new file or add it to an existing one.</p>
</div>
</div>
</div>
</li>
<li>
<p>Apply the ConfigMap to your Kubernetes cluster:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kubectl -n &lt;your_namespace&gt; apply -f &lt;app-config&gt;.yaml</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create or reuse an existing Secret containing Azure credentials and add the following fragment:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">stringData:
  AZURE_CLIENT_ID: &lt;value-of-clientId&gt;
  AZURE_CLIENT_SECRET: &lt;value-of-clientSecret&gt;
  AZURE_TENANT_ID: &lt;value-of-tenantId&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Apply the secret to your Kubernetes cluster:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kubectl -n &lt;your_namespace&gt; apply -f &lt;azure-secrets&gt;.yaml</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Ensure your <code>values.yaml</code> file references the previously created ConfigMap and Secret:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">upstream:
  backstage:
  ...
    extraAppConfig:
      - filename: ...
        configMapRef: &lt;app-config-containing-azure&gt;
    extraEnvVarsSecrets:
      - &lt;secret-containing-azure&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Optional: If the Helm Chart is already installed, upgrade it:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>helm -n &lt;your_namespace&gt; upgrade -f &lt;your-values.yaml&gt; &lt;your_deploy_name&gt; redhat-developer/backstage --version 1.3.0</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Optional: If your <code>rhdh.yaml</code> file is not changed, for example, you only updated the ConfigMap and Secret referenced from it, refresh your Developer Hub deployment by removing the corresponding pods:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kubectl -n &lt;your_namespace&gt; delete pods -l backstage.io/app=backstage-&lt;your-rhdh-cr&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_using-microsoft-azure-as-an-authentication-provider-in-operator-backed-deployment">7.3.2. Using Microsoft Azure as an authentication provider in Operator-backed deployment</h4>
<div class="paragraph">
<p>You can use Microsoft Azure as an authentication provider in Red Hat Developer Hub, when installed using the Operator. For more information, see <a href="#proc-install-rhdh-ocp-operator_admin-rhdh">Deploying Red Hat Developer Hub on OpenShift Container Platform using the Operator</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>After the application is registered, note down the following:</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><code>clientId</code>: Application (client) ID, found under App <strong>Registration &#8594; Overview</strong>.</p>
</li>
<li>
<p><code>clientSecret</code>: Secret, found under *App Registration &#8594; Certificates &amp; secrets (create new if needed).</p>
</li>
<li>
<p><code>tenantId</code>: Directory (tenant) ID, found under <strong>App Registration &#8594; Overview</strong>.</p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Ensure the following fragment is included in your Developer Hub ConfigMap:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">auth:
  environment: production
  providers:
    microsoft:
      production:
        clientId: ${AZURE_CLIENT_ID}
        clientSecret: ${AZURE_CLIENT_SECRET}
        tenantId: ${AZURE_TENANT_ID}
        domainHint: ${AZURE_TENANT_ID}
        additionalScopes:
          - Mail.Send</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can either create a new file or add it to an existing one.</p>
</div>
</div>
</div>
</li>
<li>
<p>Apply the ConfigMap to your Kubernetes cluster:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kubectl -n &lt;your_namespace&gt; apply -f &lt;app-config&gt;.yaml</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Create or reuse an existing Secret containing Azure credentials and add the following fragment:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">stringData:
  AZURE_CLIENT_ID: &lt;value-of-clientId&gt;
  AZURE_CLIENT_SECRET: &lt;value-of-clientSecret&gt;
  AZURE_TENANT_ID: &lt;value-of-tenantId&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Apply the secret to your Kubernetes cluster:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kubectl -n &lt;your_namespace&gt; apply -f &lt;azure-secrets&gt;.yaml</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Ensure your Custom Resource manifest contains references to the previously created ConfigMap and Secret:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: rhdh.redhat.com/v1alpha1
kind: Backstage
metadata:
  name: &lt;your-rhdh-cr&gt;
spec:
  application:
    imagePullSecrets:
    - rhdh-pull-secret
    route:
      enabled: false
    appConfig:
      configMaps:
        - name: &lt;app-config-containing-azure&gt;
    extraEnvs:
      secrets:
        - name: &lt;secret-containing-azure&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Apply your Custom Resource manifest:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kubectl -n &lt;your_namespace&gt; apply -f rhdh.yaml</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Optional: If your <code>rhdh.yaml</code> file is not changed, for example, you only updated the ConfigMap and Secret referenced from it, refresh your Developer Hub deployment by removing the corresponding pods:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kubectl -n &lt;your_namespace&gt; delete pods -l backstage.io/app=backstage-&lt;your-rhdh-cr&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="con-rbac-overview_admin-rhdh">8. Role-Based Access Control (RBAC) in Red Hat Developer Hub</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Role-Based Access Control is a security paradigm that restricts access to authorized users. This feature includes defining roles with specific permissions and then assigning those roles to the users.</p>
</div>
<div class="paragraph">
<p>The Red Hat Developer Hub uses RBAC to improve the permission system within the platform. The RBAC feature in Developer Hub introduces an administrator role and leverages the organizational structure including teams, groups, and users by facilitating efficient access control.</p>
</div>
<div class="sect2">
<h3 id="con-rbac-config-permission-policies_admin-rhdh">8.1. Permission policies configuration</h3>
<div class="paragraph">
<p>There are two approaches to configure the permission policies in Red Hat Developer Hub, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Configuration of permission policies administrators</p>
</li>
<li>
<p>Configuration of permission policies defined in an external file</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="con-rbac-config-permission-policies-admin_admin-rhdh">8.1.1. Configuration of permission policies administrators</h4>
<div class="paragraph">
<p>The permission policies for users and groups in the Developer Hub are managed by permission policy administrators. Only permission policy administrators can access the Role-Based Access Control REST API.</p>
</div>
<div class="paragraph">
<p>The purpose of configuring policy administrators is to enable a specific, restricted number of authenticated users to access the RBAC REST API. The permission policies are defined in a <code>policy.csv</code> file, which is referenced in the <code>app-config-rhdh</code> ConfigMap. OpenShift platform administrators or cluster administrators can perform this task with access to the namespace where Red Hat Developer Hub is deployed.</p>
</div>
<div class="paragraph">
<p>You can set the credentials of a permission policy administrator in the <code>app-config.yaml</code> file as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">permission:
  enabled: true
  rbac:
    admin:
      users:
        - name: user:default/joeuser</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="con-rbac-config-permission-policies-external-file_admin-rhdh">8.1.2. Configuration of permission policies defined in an external file</h4>
<div class="paragraph">
<p>You can follow this approach of configuring the permission policies before starting the Red Hat Developer Hub. If permission policies are defined in an external file, then you can import the same file in the Developer Hub. The permission policies need to be defined in Casbin rules format. For information about the Casbin rules format, see <a href="https://casbin.org/docs/category/the-basics">Basics of Casbin rules</a>.</p>
</div>
<div class="paragraph">
<p>The following is an example of permission policies configuration:</p>
</div>
<div class="paragraph">
<p><code>p, role:default/guests, catalog-entity, read, deny</code></p>
</div>
<div class="paragraph">
<p><code>p, role:default/guests, catalog.entity.create, create, deny</code></p>
</div>
<div class="paragraph">
<p><code>g, user:default/&lt;USER_TO_ROLE&gt;, role:default/guests</code></p>
</div>
<div class="paragraph">
<p>If a defined permission does not contain an action associated with it, then add <code>use</code> as a policy. See the following example:</p>
</div>
<div class="paragraph">
<p><code>p, role:default/guests, kubernetes.proxy, use, deny</code></p>
</div>
<div class="paragraph">
<p>You can define the <code>policy.csv</code> file path in the <code>app-config.yaml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">permission:
  enabled: true
  rbac:
    policies-csv-file: /some/path/rbac-policy.csv</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_mounting-policy-csv-file-to-the-developer-hub-helm-chart">Mounting <code>policy.csv</code> file to the Developer Hub Helm Chart</h5>
<div class="paragraph">
<p>When the Red Hat Developer Hub is deployed with the Helm Chart, then you must define the <code>policy.csv</code> file by mounting it to the Developer Hub Helm Chart.</p>
</div>
<div class="paragraph">
<p>You can add your <code>policy.csv</code> file to the Developer Hub Helm Chart by creating a <code>configMap</code> and mounting it.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You are logged in to your OpenShift Container Platform account using the OpenShift Container Platform web console.</p>
</li>
<li>
<p>Red Hat Developer Hub is installed and deployed using Helm Chart.</p>
<div class="paragraph">
<p>For more information about installing the Red Hat Developer Hub on OpenShift Container Platform using Helm Chart, see <a href="#proc-install-rhdh-ocp-helm_admin-rhdh">Deploying Red Hat Developer Hub on OpenShift Container Platform using Helm Chart</a>.</p>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In OpenShift Container Platform, create a ConfigMap to hold the policies as shown in the following example:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="title">Example <code>ConfigMap</code></div>
<div class="content">
<pre class="highlight"><code>kind: ConfigMap
apiVersion: v1
metadata:
  name: rbac-policy
  namespace: rhdh
data:
  rbac-policy.csv: |
    p, role:default/guests, catalog-entity, read, allow
    p, role:default/guests, catalog.entity.create, create, allow

    g, user:default/&lt;YOUR_USER&gt;, role:default/guests</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>In the Developer Hub Helm Chart, go to <strong>Root Schema &#8594; Backstage chart schema &#8594; Backstage parameters &#8594; Backstage container additional volume mounts</strong>.</p>
</li>
<li>
<p>Select <strong>Add Backstage container additional volume mounts</strong> and add the following values:</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><strong>mountPath</strong>: <code>opt/app-root/src/rbac</code></p>
</li>
<li>
<p><strong>Name</strong>: <code>rbac-policy</code></p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Add the RBAC policy to the <strong>Backstage container additional volumes</strong> in the Developer Hub Helm Chart:</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><strong>name</strong>: <code>rbac-policy</code></p>
</li>
<li>
<p><strong>configMap</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>defaultMode</strong>: <code>420</code></p>
</li>
<li>
<p><strong>name</strong>: <code>rbac-policy</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Update the policy path in the <code>app-config.yaml</code> file as follows:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="title">Example <code>app-config.yaml</code> file</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">permission:
  enabled: true
  rbac:
    policies-csv-file: ./rbac/rbac-policy.csv</code></pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ref-rbac-permission-policies_admin-rhdh">8.1.3. Permission policies in Red Hat Developer Hub</h4>
<div class="paragraph">
<p>Permission policies in Red Hat Developer Hub are a set of rules to govern access to resources or functionalities. These policies state the authorization level that is granted to users based on their roles. The permission policies are implemented to maintain security and confidentiality within a given environment.</p>
</div>
<div class="paragraph">
<p>The following permission policies are supported in the Developer Hub:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Catalog permissions</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 25%;">
<col style="width: 15%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Resource type</th>
<th class="tableblock halign-left valign-top">Policy</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog.entity.read</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog-entity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to read from the catalog</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog.entity.create</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to create catalog entities, including registering an existing component in the catalog</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog.entity.refresh</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog-entity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">update</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to refresh a single or multiple entities from the catalog</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog.entity.delete</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog-entity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delete</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to delete a single or multiple entities from the catalog</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog.location.read</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to read a single or multiple locations from the catalog</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog.location.create</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to create locations within the catalog</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog.location.delete</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delete</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to delete locations from the catalog</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Scaffolder permissions</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 25%;">
<col style="width: 15%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Resource type</th>
<th class="tableblock halign-left valign-top">Policy</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scaffolder.action.execute</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scaffolder-action</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows the execution of an action from a template</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scaffolder.template.parameter.read</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scaffolder-template</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to read a single or multiple one parameters from a template</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scaffolder.template.step.read</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scaffolder-template</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to read a single or multiple steps from a template</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scaffolder.task.create</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows the user or role to trigger software templates which create new scaffolder tasks</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scaffolder.task.cancel</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows the user or role to cancel currently running scaffolder tasks</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scaffolder.task.read</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to read all scaffolder tasks and their associated events and logs</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">RBAC permissions</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 25%;">
<col style="width: 15%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Resource type</th>
<th class="tableblock halign-left valign-top">Policy</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policy.entity.read</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policy-entity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to read permission policies and roles</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policy.entity.create</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policy-entity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to create a single or multiple permission policies and roles</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policy.entity.update</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policy-entity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">update</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to update a single or multiple permission policies and roles</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policy.entity.delete</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policy-entity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delete</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to delete a single or multiple permission policies and roles</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Kubernetes permissions</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 25%;">
<col style="width: 15%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Resource type</th>
<th class="tableblock halign-left valign-top">Policy</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kubernetes.proxy</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to access the proxy endpoint</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">OCM permissions</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 25%;">
<col style="width: 15%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Resource type</th>
<th class="tableblock halign-left valign-top">Policy</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ocm.entity.read</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to read from the OCM plugin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ocm.cluster.read</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to read the cluster information in the OCM plugin</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Topology permissions</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 25%;">
<col style="width: 15%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Resource type</th>
<th class="tableblock halign-left valign-top">Policy</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>topology.view.read</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to view the topology plugin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kubernetes.proxy</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows user or role to access the proxy endpoint, allowing them to read pod logs and events within RHDH</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="proc-rbac-ui-manage-roles_admin-rhdh">8.2. Managing role-based access controls (RBAC) using the Red Hat Developer Hub Web UI</h3>
<div class="paragraph">
<p>Administrators can use the Developer Hub web interface (Web UI) to allocate specific roles and permissions to individual users or groups. Allocating roles ensures that access to resources and functionalities is regulated across the Developer Hub.</p>
</div>
<div class="paragraph">
<p>With the administrator role in Developer Hub, you can assign permissions to users and groups, which allow users or groups to view, create, modify, and delete the roles using the Developer Hub Web UI.</p>
</div>
<div class="paragraph">
<p>To access the RBAC features in the Web UI, you must install and configure the <code>@janus-idp/backstage-plugin-rbac</code> plugin as a dynamic plugin. For more information about installing a dynamic plugin, see <a href="https://access.redhat.com/documentation/en-us/red_hat_developer_hub/1.3/html-single/confuguring_plugins_in_red_hat_developer_hub/index">Configuring plugins in Red Hat Developer Hub</a>.</p>
</div>
<div class="paragraph">
<p>After you install the <code>@janus-idp/backstage-plugin-rbac</code> plugin, the <strong>Administration</strong> option appears at the bottom of the sidebar. When you can click <strong>Administration</strong>, the RBAC tab appears by default, displaying all of the existing roles created in the Developer Hub. In the RBAC tab, you can also view the total number of users, groups, and the total number of permission policies associated with a role. You can also edit or delete a role using the <strong>Actions</strong> column.</p>
</div>
<div class="sect3">
<h4 id="proc-rbac-ui-create-role_admin-rhdh">8.2.1. Creating a role in the Red Hat Developer Hub Web UI</h4>
<div class="paragraph">
<p>You can create a role in the Red Hat Developer Hub using the Web UI.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have an administrator role in the Developer Hub.</p>
</li>
<li>
<p>You have installed the <code>@janus-idp/backstage-plugin-rbac</code> plugin in Developer Hub. For more information, see <a href="https://access.redhat.com/documentation/en-us/red_hat_developer_hub/1.3/html-single/confuguring_plugins_in_red_hat_developer_hub/index">Configuring plugins in Red Hat Developer Hub</a>.</p>
</li>
<li>
<p>You have configured the required permission policies. For more information, see <a href="#con-rbac-config-permission-policies_admin-rhdh">Permission policies configuration</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Go to <strong>Administration</strong> at the bottom of the sidebar in the Developer Hub.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <strong>RBAC</strong> tab appears, displaying all the created roles in the Developer Hub.</p>
</div>
</div>
</div>
</li>
<li>
<p>(Optional) Click any role to view the role information on the <strong>OVERVIEW</strong> page.</p>
</li>
<li>
<p>Click <strong>CREATE</strong> to create a role.</p>
</li>
<li>
<p>Enter the name and description of the role in the given fields and click <strong>NEXT</strong>.</p>
</li>
<li>
<p>Add users and groups using the search field, and click <strong>NEXT</strong>.</p>
</li>
<li>
<p>Select <strong>Plugin</strong> and <strong>Permission</strong> from the drop-downs in the <strong>Add permission policies</strong> section.</p>
</li>
<li>
<p>Select or clear the <strong>Policy</strong> that you want to set in the <strong>Add permission policies</strong> section, and click <strong>NEXT</strong>.</p>
</li>
<li>
<p>Review the added information in the <strong>Review and create</strong> section.</p>
</li>
<li>
<p>Click <strong>CREATE</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>The created role appears in the list available in the <strong>RBAC</strong> tab.</p>
</div>
</div>
<div class="sect3">
<h4 id="proc-rbac-ui-edit-role_admin-rhdh">8.2.2. Editing a role in the Red Hat Developer Hub Web UI</h4>
<div class="paragraph">
<p>You can edit a role in the Red Hat Developer Hub using the Web UI.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The policies generated from a <code>policy.csv</code> or ConfigMap file cannot be edited or deleted using the Developer Hub Web UI.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have an administrator role in the Developer Hub.</p>
</li>
<li>
<p>You have installed the <code>@janus-idp/backstage-plugin-rbac</code> plugin in Developer Hub. For more information, see <a href="https://access.redhat.com/documentation/en-us/red_hat_developer_hub/1.3/html-single/confuguring_plugins_in_red_hat_developer_hub/index">Configuring plugins in Red Hat Developer Hub</a>.</p>
</li>
<li>
<p>You have configured the required permission policies. For more information, see <a href="#con-rbac-config-permission-policies_admin-rhdh">Permission policies configuration</a>.</p>
</li>
<li>
<p>The role that you want to edit is created in the Developer Hub.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Go to <strong>Administration</strong> at the bottom of the sidebar in the Developer Hub.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <strong>RBAC</strong> tab appears, displaying all the created roles in the Developer Hub.</p>
</div>
</div>
</div>
</li>
<li>
<p>(Optional) Click any role to view the role information on the <strong>OVERVIEW</strong> page.</p>
</li>
<li>
<p>Select the edit icon for the role that you want to edit.</p>
</li>
<li>
<p>Edit the details of the role, such as name, description, users and groups, and permission policies, and click <strong>NEXT</strong>.</p>
</li>
<li>
<p>Review the edited details of the role and click <strong>SAVE</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>After editing a role, you can view the edited details of a role on the <strong>OVERVIEW</strong> page of a role. You can also edit a role’s users and groups or permissions by using the edit icon on the respective cards on the <strong>OVERVIEW</strong> page.</p>
</div>
</div>
<div class="sect3">
<h4 id="proc-rbac-ui-delete-role_admin-rhdh">8.2.3. Deleting a role in the Red Hat Developer Hub Web UI</h4>
<div class="paragraph">
<p>You can delete a role in the Red Hat Developer Hub using the Web UI.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The policies generated from a <code>policy.csv</code> or ConfigMap file cannot be edited or deleted using the Developer Hub Web UI.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have an administrator role in the Developer Hub.</p>
</li>
<li>
<p>You have installed the <code>@janus-idp/backstage-plugin-rbac</code> plugin in Developer Hub. For more information, see <a href="https://access.redhat.com/documentation/en-us/red_hat_developer_hub/1.3/html-single/confuguring_plugins_in_red_hat_developer_hub/index">Configuring plugins in Red Hat Developer Hub</a>.</p>
</li>
<li>
<p>You have configured the required permission policies. For more information, see <a href="#con-rbac-config-permission-policies_admin-rhdh">Permission policies configuration</a>.</p>
</li>
<li>
<p>The role that you want to delete is created in the Developer Hub.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Go to <strong>Administration</strong> at the bottom of the sidebar in the Developer Hub.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The <strong>RBAC</strong> tab appears, displaying all the created roles in the Developer Hub.</p>
</div>
</div>
</div>
</li>
<li>
<p>(Optional) Click any role to view the role information on the <strong>OVERVIEW</strong> page.</p>
</li>
<li>
<p>Select the delete icon from the <strong>Actions</strong> column for the role that you want to delete.</p>
<div class="paragraph">
<p><strong>Delete this role?</strong> pop-up appears on the screen.</p>
</div>
</li>
<li>
<p>Click <strong>DELETE</strong>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="con-rbac-rest-api_admin-rhdh">8.3. Role-based Access Control (RBAC) REST API</h3>
<div class="paragraph">
<p>Red Hat Developer Hub provides RBAC REST API that you can use to manage the permissions and roles in the Developer Hub. This API supports you to facilitate and automate the maintenance of Developer Hub permission policies and roles.</p>
</div>
<div class="paragraph">
<p>Using the RBAC REST API, you can perform the following actions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Retrieve information about all permission policies or specific permission policies, or roles</p>
</li>
<li>
<p>Create, update, or delete a permission policy or a role</p>
</li>
<li>
<p>Retrieve permission policy information about static plugins</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The RBAC REST API requires the following components:</p>
</div>
<div class="paragraph">
<p><strong>Authorization</strong></p>
</div>
<div class="paragraph">
<p>The RBAC REST API requires Bearer token authorization for the permitted user role. For development purposes, you can access a web console in a browser. When you refresh a token request in the list of network requests, you find the token in the response JSON.</p>
</div>
<div class="paragraph">
<p><code>Authorization: Bearer $token</code></p>
</div>
<div class="paragraph">
<p>For example, on the <strong>Homepage</strong> of the Developer Hub, you can navigate to the <strong>Network</strong> tab and search for the <code>query?term=</code> network call. Alternatively, you can go to the <strong>Catalog</strong> page and select any network call with <code>entity-facets</code> to acquire the Bearer token.</p>
</div>
<div class="paragraph">
<p><strong>HTTP methods</strong></p>
</div>
<div class="paragraph">
<p>The RBAC REST API supports the following HTTP methods for API requests:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>GET</code>: Retrieves specified information from a specified resource endpoint</p>
</li>
<li>
<p><code>POST</code>: Creates or updates a resource</p>
</li>
<li>
<p><code>PUT</code>: Updates a resource</p>
</li>
<li>
<p><code>DELETE</code>: Deletes a resource</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Base URL</strong></p>
</div>
<div class="paragraph">
<p>The base URL for RBAC REST API requests is <code>http://SERVER:PORT/api/permission/policies</code>, such as <code>http://localhost:7007/api/permission/policies</code>.</p>
</div>
<div class="paragraph">
<p><strong>Endpoints</strong></p>
</div>
<div class="paragraph">
<p>RBAC REST API endpoints, such as <code>/api/permission/policies/[kind]/[namespace]/[name]</code> for specified kind, namespace, and username, are the URI that you append to the base URL to access the corresponding resource.</p>
</div>
<div class="paragraph">
<p>Example request URL for <code>/api/permission/policies/[kind]/[namespace]/[name]</code> endpoint is:</p>
</div>
<div class="paragraph">
<p><code>http://localhost:7007/api/permission/policies/user/default/johndoe</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If at least one permission is assigned to <code>user:default/johndoe</code>, then the example request URL mentioned previously returns a result if sent in a <code>GET</code> response with a valid authorization token. However, if permission is only assigned to roles, then the example request URL does not return an output.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Request data</strong></p>
</div>
<div class="paragraph">
<p>HTTP <code>POST</code> requests in the RBAC REST API may require a JSON request body with data to accompany the request.</p>
</div>
<div class="paragraph">
<p>Example <code>POST</code> request URL and JSON request body data for
<code>http://localhost:7007/api/permission/policies</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "entityReference": "role:default/test",
    "permission": "catalog-entity",
    "policy": "delete",
    "effect": "allow"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>HTTP status codes</strong></p>
</div>
<div class="paragraph">
<p>The RBAC REST API supports the following HTTP status codes to return as responses:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>200</code> OK: The request was successful.</p>
</li>
<li>
<p><code>201</code> Created: The request resulted in a new resource being successfully created.</p>
</li>
<li>
<p><code>204</code> No Content: The request was successful, but there is no additional content to send in the response payload.</p>
</li>
<li>
<p><code>400</code> Bad Request: input error with the request</p>
</li>
<li>
<p><code>401</code> Unauthorized: lacks valid authentication for the requested resource</p>
</li>
<li>
<p><code>403</code> Forbidden: refusal to authorize request</p>
</li>
<li>
<p><code>404</code> Not Found: could not find requested resource</p>
</li>
<li>
<p><code>409</code> Conflict: request conflict with the current state and the target resource</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="proc-rbac-send-request-rbac-rest-api_admin-rhdh">8.3.1. Sending requests with the RBAC REST API using a REST client or curl utility</h4>
<div class="paragraph">
<p>The RBAC REST API enables you to interact with the permission policies and roles in Developer Hub without using the user interface. You can send RBAC REST API requests using any REST client or curl utility.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Red Hat Developer Hub is installed and running. For more information about installing Red Hat Developer Hub, see <a href="#proc-install-rhdh-ocp-helm_admin-rhdh">Deploying Red Hat Developer Hub on OpenShift Container Platform using Helm Chart</a>. .</p>
</li>
<li>
<p>You have access to the Developer Hub.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Identify a relevant API endpoint to which you want to send a request, such as <code>POST /api/permission/policies</code>. Adjust any request details according to your use case.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>For REST client</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Authorization: Enter the generated token from the web console.</p>
</li>
<li>
<p>HTTP method: Set to <code>POST</code>.</p>
</li>
<li>
<p>URL: Enter the RBAC REST API base URL and endpoint such as
<code>http://localhost:7007/api/permission/policies</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>For curl utility</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>-X</code>: Set to <code>POST</code></p>
</li>
<li>
<p><code>-H</code>: Set the following header:</p>
<div class="paragraph">
<p><code>Content-type: application/json</code></p>
</div>
<div class="paragraph">
<p><code>Authorization: Bearer $token</code></p>
</div>
<div class="paragraph">
<p><code>$token</code> is the requested token from the web console in a browser.</p>
</div>
</li>
<li>
<p>URL: Enter the following RBAC REST API base URL endpoint, such as <code>http://localhost:7007/api/permission/policies</code></p>
</li>
<li>
<p><code>-d</code>: Add a request JSON body</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Example request</strong>:</p>
</div>
<div class="paragraph">
<p><code>curl -X POST "http://localhost:7007/api/permission/policies" -d '{"entityReference":"role:default/test", "permission": "catalog-entity", "policy": "read", "effect":"allow"}' -H "Content-Type: application/json" -H "Authorization: Bearer $token" -v</code></p>
</div>
</div>
</div>
</li>
<li>
<p>Execute the request and review the response.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="ref-rbac-rest-api-endpoints_admin-rhdh">8.3.2. Supported RBAC REST API endpoints</h4>
<div class="paragraph">
<p>The RBAC REST API provides the following endpoints for managing permission policies and roles in the Developer Hub and for retrieving information about the policies and roles.</p>
</div>
<div class="sect4">
<h5 id="_permission-policies">Permission policies</h5>
<div class="paragraph">
<p>The RBAC REST API supports the following endpoints for managing permission policies in the Red Hat Developer Hub.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">[GET] /api/permission/policies</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Returns permission policies list for all users.</p>
</div>
<div class="listingblock">
<div class="title">Example response (JSON)</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">[
  {
    "entityReference": "role:default/test",
    "permission": "catalog-entity",
    "policy": "read",
    "effect": "allow"
  },
  {
    "entityReference": "role:default/test",
    "permission": "catalog.entity.create",
    "policy": "use",
    "effect": "allow"
  },
]</code></pre>
</div>
</div>
</div>
</div>
</dd>
<dt class="hdlist1">[GET] /api/permission/policies/{kind}/{namespace}/{name}</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Returns permission policies related to the specified entity reference.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Request parameters</caption>
<colgroup>
<col style="width: 15%;">
<col style="width: 45%;">
<col style="width: 15%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kind of the entity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>namespace</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Namespace of the entity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username related to the entity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Example response (JSON)</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">[
  {
    "entityReference": "role:default/test",
    "permission": "catalog-entity",
    "policy": "read",
    "effect": "allow"
  },
  {
    "entityReference": "role:default/test",
    "permission": "catalog.entity.create",
    "policy": "use",
    "effect": "allow"
  }
]</code></pre>
</div>
</div>
</div>
</div>
</dd>
<dt class="hdlist1">[POST] /api/permission/policies</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Creates a permission policy for a specified entity.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Request parameters</caption>
<colgroup>
<col style="width: 15%;">
<col style="width: 45%;">
<col style="width: 15%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>entityReference</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference values of an entity including namespace and name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>permission</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type of the permission</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read or write policy to the permission</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>effect</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indication of allowing or not allowing the policy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Example request body (JSON)</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "entityReference": "role:default/test",
    "permission": "catalog-entity",
    "policy": "read",
    "effect": "allow"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example response</div>
<div class="content">
<pre class="highlight"><code>201 Created</code></pre>
</div>
</div>
</div>
</div>
</dd>
<dt class="hdlist1">[PUT] /api/permission/policies/{kind}/{namespace}/{name}</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Updates a permission policy for a specified entity.</p>
</div>
<div class="paragraph">
<div class="title">Request parameters</div>
<p>The request body contains the <code>oldPolicy</code> and <code>newPolicy</code> objects:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 45%;">
<col style="width: 15%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>permission</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type of the permission</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read or write policy to the permission</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>effect</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indication of allowing or not allowing the policy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Example request body (JSON)</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "oldPolicy": {
        "permission": "catalog-entity",
        "policy": "read",
        "effect": "deny"
    },
    "newPolicy": {
        "permission": "policy-entity",
        "policy": "read",
        "effect": "allow"
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example response</div>
<div class="content">
<pre class="highlight"><code>200</code></pre>
</div>
</div>
</div>
</div>
</dd>
<dt class="hdlist1">[DELETE] /api/permission/policies/{kind}/{namespace}/{name}?permission={value1}&amp;policy={value2}&amp;effect={value3}</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Deletes a permission policy added to the specified entity.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Request parameters</caption>
<colgroup>
<col style="width: 15%;">
<col style="width: 45%;">
<col style="width: 15%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kind of the entity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>namespace</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Namespace of the entity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username related to the entity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>permission</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type of the permission</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>policy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read or write policy to the permission</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>effect</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indication of allowing or not allowing the policy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Example response</div>
<div class="content">
<pre class="highlight"><code>204 No Content</code></pre>
</div>
</div>
</div>
</div>
</dd>
<dt class="hdlist1">[GET] /api/permission/plugins/policies</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Returns permission policies for all static plugins.</p>
</div>
<div class="listingblock">
<div class="title">Example response (JSON)</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">[
  {
    "pluginId": "catalog",
      "policies": [
        {
          "permission": "catalog-entity",
          "policy": "read"
        },
        {
          "permission": "catalog.entity.create",
          "policy": "create"
        },
        {
          "permission": "catalog-entity",
          "policy": "delete"
        },
        {
          "permission": "catalog-entity",
          "policy": "update"
        },
        {
          "permission": "catalog.location.read",
          "policy": "read"
        },
        {
          "permission": "catalog.location.create",
          "policy": "create"
        },
        {
          "permission": "catalog.location.delete",
          "policy": "delete"
        }
      ]
    },
  ...
]</code></pre>
</div>
</div>
</div>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_roles">Roles</h5>
<div class="paragraph">
<p>The RBAC REST API supports the following endpoints for managing roles in the Red Hat Developer Hub.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">[GET] /api/permission/roles</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Returns all roles in Developer Hub.</p>
</div>
<div class="listingblock">
<div class="title">Example response (JSON)</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">[
  {
    "memberReferences": ["user:default/pataknight"],
    "name": "role:default/guests"
  },
  {
    "memberReferences": [
      "group:default/janus-authors",
      "user:default/matt"
    ],
    "name": "role:default/rbac_admin"
  }
]</code></pre>
</div>
</div>
</div>
</div>
</dd>
<dt class="hdlist1">[GET] /api/permission/roles/{kind}/{namespace}/{name}</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Creates a role in Developer Hub.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Request parameters</caption>
<colgroup>
<col style="width: 15%;">
<col style="width: 45%;">
<col style="width: 15%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>body</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>memberReferences</code>, <code>group</code>, <code>namespace</code>, and <code>name</code> the new role to be created.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request body</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Example request body (JSON)</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "memberReferences": ["group:default/test"],
  "name": "role:default/test_admin"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example response</div>
<div class="content">
<pre class="highlight"><code>201 Created</code></pre>
</div>
</div>
</div>
</div>
</dd>
<dt class="hdlist1">[PUT] /api/permission/roles/{kind}/{namespace}/{name}</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Updates <code>memberReferences</code>, <code>kind</code>, <code>namespace</code>, or <code>name</code> for a role in Developer Hub.</p>
</div>
<div class="paragraph">
<div class="title">Request parameters</div>
<p>The request body contains the <code>oldRole</code> and <code>newRole</code> objects:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 45%;">
<col style="width: 15%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>body</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>memberReferences</code>, <code>group</code>, <code>namespace</code>, and <code>name</code> the new role to be created.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request body</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Example request body (JSON)</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "oldRole": {
    "memberReferences": ["group:default/test"],
    "name": "role:default/test_admin"
  },
  "newRole": {
    "memberReferences": ["group:default/test", "user:default/test2"],
    "name": "role:default/test_admin"
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example response</div>
<div class="content">
<pre class="highlight"><code>200 OK</code></pre>
</div>
</div>
</div>
</div>
</dd>
<dt class="hdlist1">[DELETE] /api/permission/roles/{kind}/{namespace}/{name}?memberReferences=&lt;VALUE&gt;</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Deletes the specified user or group from a role in Developer Hub.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Request parameters</caption>
<colgroup>
<col style="width: 15%;">
<col style="width: 45%;">
<col style="width: 15%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kind of the entity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>namespace</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Namespace of the entity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username related to the entity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>memberReferences</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Associated group information</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Example response</div>
<div class="content">
<pre class="highlight"><code>204</code></pre>
</div>
</div>
</div>
</div>
</dd>
<dt class="hdlist1">[DELETE] /api/permission/roles/{kind}/{namespace}/{name}</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Deletes a specified role from Developer Hub.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Request parameters</caption>
<colgroup>
<col style="width: 15%;">
<col style="width: 45%;">
<col style="width: 15%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kind</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kind of the entity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>namespace</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Namespace of the entity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username related to the entity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Example response</div>
<div class="content">
<pre class="highlight"><code>204</code></pre>
</div>
</div>
</div>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assembly-admin-templates">9. Managing templates</h2>
<div class="sectionbody">
<!-- toc disabled -->
<div class="paragraph">
<p>A template is a form composed of different UI fields that is defined in a YAML file. Templates include <em>actions</em>, which are steps that are executed in sequential order and can be executed conditionally.</p>
</div>
<div class="paragraph">
<p>You can use templates to easily create Red Hat Developer Hub components, and then publish these components to different locations, such as the Red Hat Developer Hub software catalog, or repositories in GitHub or GitLab.</p>
</div>
<div class="sect2">
<h3 id="proc-creating-templates_assembly-admin-templates">9.1. Creating a template by using the Template Editor</h3>
<div class="paragraph">
<p>You can create a template by using the Template Editor.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Access the Template Editor by using one of the following options:</p>
<div class="imageblock">
<div class="content">
<img src="images/rhdh/template-editor.png" alt="Template Editor">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Open the URL <code>https://&lt;rhdh_url&gt;/create/edit</code> for your Red Hat Developer Hub instance.</p>
</li>
<li>
<p>Click <strong>Create&#8230;&#8203;</strong> in the navigation menu of the Red Hat Developer Hub console, then click the overflow menu button and select <strong>Template editor</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Click <strong>Edit Template Form</strong>.</p>
</li>
<li>
<p>Optional: Modify the YAML definition for the parameters of your template. For more information about these parameters, see <a href="#ref-creating-templates_assembly-admin-templates">Creating a template as a YAML file</a>.</p>
</li>
<li>
<p>In the <strong>Name *</strong> field, enter a unique name for your template.</p>
</li>
<li>
<p>From the <strong>Owner</strong> drop-down menu, choose an owner for the template.</p>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
</li>
<li>
<p>In the <strong>Repository Location</strong> view, enter the following information about the hosted repository that you want to publish the template to:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select an available <strong>Host</strong> from the drop-down menu.</p>
<div class="openblock">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Available hosts are defined in the YAML parameters by the <code>allowedHosts</code> field:</p>
</div>
<div class="listingblock">
<div class="title">Example YAML</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># ...
        ui:options:
          allowedHosts:
            - github.com
# ...</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p>In the <strong>Owner *</strong> field, enter an organization, user or project that the hosted repository belongs to.</p>
</li>
<li>
<p>In the <strong>Repository *</strong> field, enter the name of the hosted repository.</p>
</li>
<li>
<p>Click <strong>Review</strong>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Review the information for accuracy, then click <strong>Create</strong>.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>Click the <strong>Catalog</strong> tab in the navigation panel.</p>
</li>
<li>
<p>In the <strong>Kind</strong> drop-down menu, select <strong>Template</strong>.</p>
</li>
<li>
<p>Confirm that your template is shown in the list of existing templates.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="ref-creating-templates_assembly-admin-templates">9.2. Creating a template as a YAML file</h3>
<div class="paragraph">
<p>You can create a template by defining a <code>Template</code> object as a YAML file.</p>
</div>
<div class="paragraph">
<p>The <code>Template</code> object describes the template and its metadata. It also contains required input variables and a list of actions that are executed by the scaffolding service.</p>
</div>
<div class="listingblock">
<div class="title"><code>Template</code> object example</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: scaffolder.backstage.io/v1beta3
kind: Template
metadata:
  name: template-name # <b class="conum">(1)</b>
  title: Example template # <b class="conum">(2)</b>
  description: An example template for v1beta3 scaffolder. # <b class="conum">(3)</b>
spec:
  owner: backstage/techdocs-core # <b class="conum">(4)</b>
  type: service # <b class="conum">(5)</b>
  parameters: # <b class="conum">(6)</b>
    - title: Fill in some steps
      required:
        - name
      properties:
        name:
          title: Name
          type: string
          description: Unique name of the component
        owner:
          title: Owner
          type: string
          description: Owner of the component
    - title: Choose a location
      required:
        - repoUrl
      properties:
        repoUrl:
          title: Repository Location
          type: string
  steps: # <b class="conum">(7)</b>
    - id: fetch-base
      name: Fetch Base
      action: fetch:template
      # ...
  output: # <b class="conum">(8)</b>
    links:
      - title: Repository # <b class="conum">(9)</b>
        url: ${{ steps['publish'].output.remoteUrl }}
      - title: Open in catalog # <b class="conum">(10)</b>
        icon: catalog
        entityRef: ${{ steps['register'].output.entityRef }}
# ...</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Specify a name for the template.</p>
</li>
<li>
<p>Specify a title for the template. This is the title that is visible on the template tile in the <strong>Create&#8230;&#8203;</strong> view.</p>
</li>
<li>
<p>Specify a description for the template. This is the description that is visible on the template tile in the <strong>Create&#8230;&#8203;</strong> view.</p>
</li>
<li>
<p>Specify the ownership of the template. The <code>owner</code> field provides information about who is responsible for maintaining or overseeing the template within the system or organization. In the provided example, the <code>owner</code> field is set to <code>backstage/techdocs-core</code>. This means that this template belongs to the <code>techdocs-core</code> project in the <code>backstage</code> namespace.</p>
</li>
<li>
<p>Specify the component type. Any string value is accepted for this required field, but your organization should establish a proper taxonomy for these. Red Hat Developer Hub instances may read this field and behave differently depending on its value. For example, a <code>website</code> type component may present tooling in the Red Hat Developer Hub interface that is specific to just websites.</p>
<div class="paragraph">
<p>The following values are common for this field:</p>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>service</code></dt>
<dd>
<p>A backend service, typically exposing an API.</p>
</dd>
<dt class="hdlist1"><code>website</code></dt>
<dd>
<p>A website.</p>
</dd>
<dt class="hdlist1"><code>library</code></dt>
<dd>
<p>A software library, such as an npm module or a Java library.</p>
</dd>
</dl>
</div>
</div>
</div>
</li>
<li>
<p>Use the <code>parameters</code> section to specify parameters for user input that are shown in a form view when a user creates a component by using the template in the Red Hat Developer Hub console. Each <code>parameters</code> subsection, defined by a title and properties, creates a new form page with that definition.</p>
</li>
<li>
<p>Use the <code>steps</code> section to specify steps that are executed in the backend. These steps must be defined by using a unique step ID, a name, and an action. You can view actions that are available on your Red Hat Developer Hub instance by visiting the URL <code>https://&lt;rhdh_url&gt;/create/actions</code>.</p>
</li>
<li>
<p>Use the <code>output</code> section to specify the structure of output data that is created when the template is used. The <code>output</code> section, particularly the <code>links</code> subsection, provides valuable references and URLs that users can utilize to access and interact with components that are created from the template.</p>
</li>
<li>
<p>Provides a reference or URL to the repository associated with the generated component.</p>
</li>
<li>
<p>Provides a reference or URL that allows users to open the generated component in a catalog or directory where various components are listed.</p>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://backstage.io/docs/features/software-templates/writing-templates">Backstage documentation - Writing Templates</a></p>
</li>
<li>
<p><a href="https://backstage.io/docs/features/software-templates/builtin-actions">Backstage documentation - Builtin actions</a></p>
</li>
<li>
<p><a href="https://backstage.io/docs/features/software-templates/writing-custom-actions">Backstage documentation - Writing Custom Actions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-06-19 02:56:06 UTC
</div>
</div>
</body>
</html>